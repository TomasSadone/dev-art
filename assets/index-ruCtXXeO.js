(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))o(h);new MutationObserver(h=>{for(const g of h)if(g.type==="childList")for(const y of g.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&o(y)}).observe(document,{childList:!0,subtree:!0});function n(h){const g={};return h.integrity&&(g.integrity=h.integrity),h.referrerPolicy&&(g.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?g.credentials="include":h.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function o(h){if(h.ep)return;h.ep=!0;const g=n(h);fetch(h.href,g)}})();function _s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function f2(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var h=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,h.get?h:{enumerable:!0,get:function(){return e[o]}})}),n}var ad={exports:{}},ws={},ld={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xi=Symbol.for("react.element"),h2=Symbol.for("react.portal"),d2=Symbol.for("react.fragment"),p2=Symbol.for("react.strict_mode"),g2=Symbol.for("react.profiler"),m2=Symbol.for("react.provider"),v2=Symbol.for("react.context"),y2=Symbol.for("react.forward_ref"),C2=Symbol.for("react.suspense"),_2=Symbol.for("react.memo"),w2=Symbol.for("react.lazy"),Bu=Symbol.iterator;function x2(e){return e===null||typeof e!="object"?null:(e=Bu&&e[Bu]||e["@@iterator"],typeof e=="function"?e:null)}var cd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ud=Object.assign,fd={};function Ir(e,t,n){this.props=e,this.context=t,this.refs=fd,this.updater=n||cd}Ir.prototype.isReactComponent={};Ir.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ir.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hd(){}hd.prototype=Ir.prototype;function cc(e,t,n){this.props=e,this.context=t,this.refs=fd,this.updater=n||cd}var uc=cc.prototype=new hd;uc.constructor=cc;ud(uc,Ir.prototype);uc.isPureReactComponent=!0;var Nu=Array.isArray,dd=Object.prototype.hasOwnProperty,fc={current:null},pd={key:!0,ref:!0,__self:!0,__source:!0};function gd(e,t,n){var o,h={},g=null,y=null;if(t!=null)for(o in t.ref!==void 0&&(y=t.ref),t.key!==void 0&&(g=""+t.key),t)dd.call(t,o)&&!pd.hasOwnProperty(o)&&(h[o]=t[o]);var c=arguments.length-2;if(c===1)h.children=n;else if(1<c){for(var r=Array(c),l=0;l<c;l++)r[l]=arguments[l+2];h.children=r}if(e&&e.defaultProps)for(o in c=e.defaultProps,c)h[o]===void 0&&(h[o]=c[o]);return{$$typeof:Xi,type:e,key:g,ref:y,props:h,_owner:fc.current}}function S2(e,t){return{$$typeof:Xi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xi}function b2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hu=/\/+/g;function da(e,t){return typeof e=="object"&&e!==null&&e.key!=null?b2(""+e.key):t.toString(36)}function Eo(e,t,n,o,h){var g=typeof e;(g==="undefined"||g==="boolean")&&(e=null);var y=!1;if(e===null)y=!0;else switch(g){case"string":case"number":y=!0;break;case"object":switch(e.$$typeof){case Xi:case h2:y=!0}}if(y)return y=e,h=h(y),e=o===""?"."+da(y,0):o,Nu(h)?(n="",e!=null&&(n=e.replace(Hu,"$&/")+"/"),Eo(h,t,n,"",function(l){return l})):h!=null&&(hc(h)&&(h=S2(h,n+(!h.key||y&&y.key===h.key?"":(""+h.key).replace(Hu,"$&/")+"/")+e)),t.push(h)),1;if(y=0,o=o===""?".":o+":",Nu(e))for(var c=0;c<e.length;c++){g=e[c];var r=o+da(g,c);y+=Eo(g,t,n,r,h)}else if(r=x2(e),typeof r=="function")for(e=r.call(e),c=0;!(g=e.next()).done;)g=g.value,r=o+da(g,c++),y+=Eo(g,t,n,r,h);else if(g==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return y}function to(e,t,n){if(e==null)return e;var o=[],h=0;return Eo(e,o,"","",function(g){return t.call(n,g,h++)}),o}function T2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},Oo={transition:null},E2={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Oo,ReactCurrentOwner:fc};pe.Children={map:to,forEach:function(e,t,n){to(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return to(e,function(){t++}),t},toArray:function(e){return to(e,function(t){return t})||[]},only:function(e){if(!hc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=Ir;pe.Fragment=d2;pe.Profiler=g2;pe.PureComponent=cc;pe.StrictMode=p2;pe.Suspense=C2;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E2;pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=ud({},e.props),h=e.key,g=e.ref,y=e._owner;if(t!=null){if(t.ref!==void 0&&(g=t.ref,y=fc.current),t.key!==void 0&&(h=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(r in t)dd.call(t,r)&&!pd.hasOwnProperty(r)&&(o[r]=t[r]===void 0&&c!==void 0?c[r]:t[r])}var r=arguments.length-2;if(r===1)o.children=n;else if(1<r){c=Array(r);for(var l=0;l<r;l++)c[l]=arguments[l+2];o.children=c}return{$$typeof:Xi,type:e.type,key:h,ref:g,props:o,_owner:y}};pe.createContext=function(e){return e={$$typeof:v2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m2,_context:e},e.Consumer=e};pe.createElement=gd;pe.createFactory=function(e){var t=gd.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:y2,render:e}};pe.isValidElement=hc;pe.lazy=function(e){return{$$typeof:w2,_payload:{_status:-1,_result:e},_init:T2}};pe.memo=function(e,t){return{$$typeof:_2,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=Oo.transition;Oo.transition={};try{e()}finally{Oo.transition=t}};pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pe.useCallback=function(e,t){return st.current.useCallback(e,t)};pe.useContext=function(e){return st.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return st.current.useDeferredValue(e)};pe.useEffect=function(e,t){return st.current.useEffect(e,t)};pe.useId=function(){return st.current.useId()};pe.useImperativeHandle=function(e,t,n){return st.current.useImperativeHandle(e,t,n)};pe.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return st.current.useMemo(e,t)};pe.useReducer=function(e,t,n){return st.current.useReducer(e,t,n)};pe.useRef=function(e){return st.current.useRef(e)};pe.useState=function(e){return st.current.useState(e)};pe.useSyncExternalStore=function(e,t,n){return st.current.useSyncExternalStore(e,t,n)};pe.useTransition=function(){return st.current.useTransition()};pe.version="18.2.0";ld.exports=pe;var $=ld.exports;const fe=_s($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2=$,k2=Symbol.for("react.element"),D2=Symbol.for("react.fragment"),P2=Object.prototype.hasOwnProperty,A2=O2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I2={key:!0,ref:!0,__self:!0,__source:!0};function md(e,t,n){var o,h={},g=null,y=null;n!==void 0&&(g=""+n),t.key!==void 0&&(g=""+t.key),t.ref!==void 0&&(y=t.ref);for(o in t)P2.call(t,o)&&!I2.hasOwnProperty(o)&&(h[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)h[o]===void 0&&(h[o]=t[o]);return{$$typeof:k2,type:e,key:g,ref:y,props:h,_owner:A2.current}}ws.Fragment=D2;ws.jsx=md;ws.jsxs=md;ad.exports=ws;var M=ad.exports,ol={},vd={exports:{}},wt={},yd={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,b){var O=N.length;N.push(b);e:for(;0<O;){var D=O-1>>>1,P=N[D];if(0<h(P,b))N[D]=b,N[O]=P,O=D;else break e}}function n(N){return N.length===0?null:N[0]}function o(N){if(N.length===0)return null;var b=N[0],O=N.pop();if(O!==b){N[0]=O;e:for(var D=0,P=N.length,z=P>>>1;D<z;){var k=2*(D+1)-1,E=N[k],L=k+1,F=N[L];if(0>h(E,O))L<P&&0>h(F,E)?(N[D]=F,N[L]=O,D=L):(N[D]=E,N[k]=O,D=k);else if(L<P&&0>h(F,O))N[D]=F,N[L]=O,D=L;else break e}}return b}function h(N,b){var O=N.sortIndex-b.sortIndex;return O!==0?O:N.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;e.unstable_now=function(){return g.now()}}else{var y=Date,c=y.now();e.unstable_now=function(){return y.now()-c}}var r=[],l=[],d=1,i=null,s=3,a=!1,f=!1,p=!1,u=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(N){for(var b=n(l);b!==null;){if(b.callback===null)o(l);else if(b.startTime<=N)o(l),b.sortIndex=b.expirationTime,t(r,b);else break;b=n(l)}}function _(N){if(p=!1,C(N),!f)if(n(r)!==null)f=!0,ne(w);else{var b=n(l);b!==null&&ee(_,b.startTime-N)}}function w(N,b){f=!1,p&&(p=!1,m(S),S=-1),a=!0;var O=s;try{for(C(b),i=n(r);i!==null&&(!(i.expirationTime>b)||N&&!R());){var D=i.callback;if(typeof D=="function"){i.callback=null,s=i.priorityLevel;var P=D(i.expirationTime<=b);b=e.unstable_now(),typeof P=="function"?i.callback=P:i===n(r)&&o(r),C(b)}else o(r);i=n(r)}if(i!==null)var z=!0;else{var k=n(l);k!==null&&ee(_,k.startTime-b),z=!1}return z}finally{i=null,s=O,a=!1}}var x=!1,T=null,S=-1,A=5,I=-1;function R(){return!(e.unstable_now()-I<A)}function B(){if(T!==null){var N=e.unstable_now();I=N;var b=!0;try{b=T(!0,N)}finally{b?V():(x=!1,T=null)}}else x=!1}var V;if(typeof v=="function")V=function(){v(B)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,U=H.port2;H.port1.onmessage=B,V=function(){U.postMessage(null)}}else V=function(){u(B,0)};function ne(N){T=N,x||(x=!0,V())}function ee(N,b){S=u(function(){N(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){f||a||(f=!0,ne(w))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return s},e.unstable_getFirstCallbackNode=function(){return n(r)},e.unstable_next=function(N){switch(s){case 1:case 2:case 3:var b=3;break;default:b=s}var O=s;s=b;try{return N()}finally{s=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,b){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var O=s;s=N;try{return b()}finally{s=O}},e.unstable_scheduleCallback=function(N,b,O){var D=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?D+O:D):O=D,N){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=O+P,N={id:d++,callback:b,priorityLevel:N,startTime:O,expirationTime:P,sortIndex:-1},O>D?(N.sortIndex=O,t(l,N),n(r)===null&&N===n(l)&&(p?(m(S),S=-1):p=!0,ee(_,O-D))):(N.sortIndex=P,t(r,N),f||a||(f=!0,ne(w))),N},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(N){var b=s;return function(){var O=s;s=b;try{return N.apply(this,arguments)}finally{s=O}}}})(Cd);yd.exports=Cd;var M2=yd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=$,_t=M2;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wd=new Set,Ci={};function Kn(e,t){wr(e,t),wr(e+"Capture",t)}function wr(e,t){for(Ci[e]=t,e=0;e<t.length;e++)wd.add(t[e])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=Object.prototype.hasOwnProperty,L2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vu={},zu={};function R2(e){return sl.call(zu,e)?!0:sl.call(Vu,e)?!1:L2.test(e)?zu[e]=!0:(Vu[e]=!0,!1)}function F2(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j2(e,t,n,o){if(t===null||typeof t>"u"||F2(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function at(e,t,n,o,h,g,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=h,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=g,this.removeEmptyString=y}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new at(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var dc=/[\-:]([a-z])/g;function pc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dc,pc);Ke[t]=new at(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dc,pc);Ke[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dc,pc);Ke[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function gc(e,t,n,o){var h=Ke.hasOwnProperty(t)?Ke[t]:null;(h!==null?h.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j2(t,n,h,o)&&(n=null),o||h===null?R2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):h.mustUseProperty?e[h.propertyName]=n===null?h.type===3?!1:"":n:(t=h.attributeName,o=h.attributeNamespace,n===null?e.removeAttribute(t):(h=h.type,n=h===3||h===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var rn=_d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,no=Symbol.for("react.element"),nr=Symbol.for("react.portal"),rr=Symbol.for("react.fragment"),mc=Symbol.for("react.strict_mode"),al=Symbol.for("react.profiler"),xd=Symbol.for("react.provider"),Sd=Symbol.for("react.context"),vc=Symbol.for("react.forward_ref"),ll=Symbol.for("react.suspense"),cl=Symbol.for("react.suspense_list"),yc=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),bd=Symbol.for("react.offscreen"),Wu=Symbol.iterator;function Hr(e){return e===null||typeof e!="object"?null:(e=Wu&&e[Wu]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,pa;function ri(e){if(pa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pa=t&&t[1]||""}return`
`+pa+e}var ga=!1;function ma(e,t){if(!e||ga)return"";ga=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var o=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){o=l}e.call(t.prototype)}else{try{throw Error()}catch(l){o=l}e()}}catch(l){if(l&&o&&typeof l.stack=="string"){for(var h=l.stack.split(`
`),g=o.stack.split(`
`),y=h.length-1,c=g.length-1;1<=y&&0<=c&&h[y]!==g[c];)c--;for(;1<=y&&0<=c;y--,c--)if(h[y]!==g[c]){if(y!==1||c!==1)do if(y--,c--,0>c||h[y]!==g[c]){var r=`
`+h[y].replace(" at new "," at ");return e.displayName&&r.includes("<anonymous>")&&(r=r.replace("<anonymous>",e.displayName)),r}while(1<=y&&0<=c);break}}}finally{ga=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ri(e):""}function B2(e){switch(e.tag){case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 2:case 15:return e=ma(e.type,!1),e;case 11:return e=ma(e.type.render,!1),e;case 1:return e=ma(e.type,!0),e;default:return""}}function ul(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rr:return"Fragment";case nr:return"Portal";case al:return"Profiler";case mc:return"StrictMode";case ll:return"Suspense";case cl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sd:return(e.displayName||"Context")+".Consumer";case xd:return(e._context.displayName||"Context")+".Provider";case vc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yc:return t=e.displayName||null,t!==null?t:ul(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return ul(e(t))}catch{}}return null}function N2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ul(t);case 8:return t===mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Td(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H2(e){var t=Td(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var h=n.get,g=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(y){o=""+y,g.call(this,y)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ro(e){e._valueTracker||(e._valueTracker=H2(e))}function Ed(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Td(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function No(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fl(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Uu(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=Tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Od(e,t){t=t.checked,t!=null&&gc(e,"checked",t,!1)}function hl(e,t){Od(e,t);var n=Tn(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dl(e,t.type,n):t.hasOwnProperty("defaultValue")&&dl(e,t.type,Tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function dl(e,t,n){(t!=="number"||No(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ii=Array.isArray;function pr(e,t,n,o){if(e=e.options,t){t={};for(var h=0;h<n.length;h++)t["$"+n[h]]=!0;for(n=0;n<e.length;n++)h=t.hasOwnProperty("$"+e[n].value),e[n].selected!==h&&(e[n].selected=h),h&&o&&(e[n].defaultSelected=!0)}else{for(n=""+Tn(n),t=null,h=0;h<e.length;h++){if(e[h].value===n){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function pl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $u(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(re(92));if(ii(n)){if(1<n.length)throw Error(re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tn(n)}}function kd(e,t){var n=Tn(t.value),o=Tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function Xu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var io,Pd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,h){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,h)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(io=io||document.createElement("div"),io.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=io.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _i(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V2=["Webkit","ms","Moz","O"];Object.keys(ai).forEach(function(e){V2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ai[t]=ai[e]})});function Ad(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ai.hasOwnProperty(e)&&ai[e]?(""+t).trim():t+"px"}function Id(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,h=Ad(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,h):e[n]=h}}var z2=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ml(e,t){if(t){if(z2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function vl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yl=null;function Cc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cl=null,gr=null,mr=null;function Yu(e){if(e=Ki(e)){if(typeof Cl!="function")throw Error(re(280));var t=e.stateNode;t&&(t=Es(t),Cl(e.stateNode,e.type,t))}}function Md(e){gr?mr?mr.push(e):mr=[e]:gr=e}function Ld(){if(gr){var e=gr,t=mr;if(mr=gr=null,Yu(e),t)for(e=0;e<t.length;e++)Yu(t[e])}}function Rd(e,t){return e(t)}function Fd(){}var va=!1;function jd(e,t,n){if(va)return e(t,n);va=!0;try{return Rd(e,t,n)}finally{va=!1,(gr!==null||mr!==null)&&(Fd(),Ld())}}function wi(e,t){var n=e.stateNode;if(n===null)return null;var o=Es(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(re(231,t,typeof n));return n}var _l=!1;if(Jt)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){_l=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{_l=!1}function W2(e,t,n,o,h,g,y,c,r){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(d){this.onError(d)}}var li=!1,Ho=null,Vo=!1,wl=null,U2={onError:function(e){li=!0,Ho=e}};function G2(e,t,n,o,h,g,y,c,r){li=!1,Ho=null,W2.apply(U2,arguments)}function $2(e,t,n,o,h,g,y,c,r){if(G2.apply(this,arguments),li){if(li){var l=Ho;li=!1,Ho=null}else throw Error(re(198));Vo||(Vo=!0,wl=l)}}function Zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Bd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qu(e){if(Zn(e)!==e)throw Error(re(188))}function X2(e){var t=e.alternate;if(!t){if(t=Zn(e),t===null)throw Error(re(188));return t!==e?null:e}for(var n=e,o=t;;){var h=n.return;if(h===null)break;var g=h.alternate;if(g===null){if(o=h.return,o!==null){n=o;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===n)return qu(h),e;if(g===o)return qu(h),t;g=g.sibling}throw Error(re(188))}if(n.return!==o.return)n=h,o=g;else{for(var y=!1,c=h.child;c;){if(c===n){y=!0,n=h,o=g;break}if(c===o){y=!0,o=h,n=g;break}c=c.sibling}if(!y){for(c=g.child;c;){if(c===n){y=!0,n=g,o=h;break}if(c===o){y=!0,o=g,n=h;break}c=c.sibling}if(!y)throw Error(re(189))}}if(n.alternate!==o)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?e:t}function Nd(e){return e=X2(e),e!==null?Hd(e):null}function Hd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hd(e);if(t!==null)return t;e=e.sibling}return null}var Vd=_t.unstable_scheduleCallback,Ku=_t.unstable_cancelCallback,Y2=_t.unstable_shouldYield,q2=_t.unstable_requestPaint,Me=_t.unstable_now,K2=_t.unstable_getCurrentPriorityLevel,_c=_t.unstable_ImmediatePriority,zd=_t.unstable_UserBlockingPriority,zo=_t.unstable_NormalPriority,Z2=_t.unstable_LowPriority,Wd=_t.unstable_IdlePriority,xs=null,$t=null;function Q2(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(xs,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:tm,J2=Math.log,em=Math.LN2;function tm(e){return e>>>=0,e===0?32:31-(J2(e)/em|0)|0}var oo=64,so=4194304;function oi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wo(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,h=e.suspendedLanes,g=e.pingedLanes,y=n&268435455;if(y!==0){var c=y&~h;c!==0?o=oi(c):(g&=y,g!==0&&(o=oi(g)))}else y=n&~h,y!==0?o=oi(y):g!==0&&(o=oi(g));if(o===0)return 0;if(t!==0&&t!==o&&!(t&h)&&(h=o&-o,g=t&-t,h>=g||h===16&&(g&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-Nt(t),h=1<<n,o|=e[n],t&=~h;return o}function nm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rm(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,g=e.pendingLanes;0<g;){var y=31-Nt(g),c=1<<y,r=h[y];r===-1?(!(c&n)||c&o)&&(h[y]=nm(c,t)):r<=t&&(e.expiredLanes|=c),g&=~c}}function xl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ud(){var e=oo;return oo<<=1,!(oo&4194240)&&(oo=64),e}function ya(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function im(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var h=31-Nt(n),g=1<<h;t[h]=0,o[h]=-1,e[h]=-1,n&=~g}}function wc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-Nt(n),h=1<<o;h&t|e[o]&t&&(e[o]|=t),n&=~h}}var Ce=0;function Gd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $d,xc,Xd,Yd,qd,Sl=!1,ao=[],pn=null,gn=null,mn=null,xi=new Map,Si=new Map,un=[],om="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zu(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(t.pointerId)}}function zr(e,t,n,o,h,g){return e===null||e.nativeEvent!==g?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:g,targetContainers:[h]},t!==null&&(t=Ki(t),t!==null&&xc(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function sm(e,t,n,o,h){switch(t){case"focusin":return pn=zr(pn,e,t,n,o,h),!0;case"dragenter":return gn=zr(gn,e,t,n,o,h),!0;case"mouseover":return mn=zr(mn,e,t,n,o,h),!0;case"pointerover":var g=h.pointerId;return xi.set(g,zr(xi.get(g)||null,e,t,n,o,h)),!0;case"gotpointercapture":return g=h.pointerId,Si.set(g,zr(Si.get(g)||null,e,t,n,o,h)),!0}return!1}function Kd(e){var t=Nn(e.target);if(t!==null){var n=Zn(t);if(n!==null){if(t=n.tag,t===13){if(t=Bd(n),t!==null){e.blockedOn=t,qd(e.priority,function(){Xd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ko(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);yl=o,n.target.dispatchEvent(o),yl=null}else return t=Ki(n),t!==null&&xc(t),e.blockedOn=n,!1;t.shift()}return!0}function Qu(e,t,n){ko(e)&&n.delete(t)}function am(){Sl=!1,pn!==null&&ko(pn)&&(pn=null),gn!==null&&ko(gn)&&(gn=null),mn!==null&&ko(mn)&&(mn=null),xi.forEach(Qu),Si.forEach(Qu)}function Wr(e,t){e.blockedOn===t&&(e.blockedOn=null,Sl||(Sl=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,am)))}function bi(e){function t(h){return Wr(h,e)}if(0<ao.length){Wr(ao[0],e);for(var n=1;n<ao.length;n++){var o=ao[n];o.blockedOn===e&&(o.blockedOn=null)}}for(pn!==null&&Wr(pn,e),gn!==null&&Wr(gn,e),mn!==null&&Wr(mn,e),xi.forEach(t),Si.forEach(t),n=0;n<un.length;n++)o=un[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)Kd(n),n.blockedOn===null&&un.shift()}var vr=rn.ReactCurrentBatchConfig,Uo=!0;function lm(e,t,n,o){var h=Ce,g=vr.transition;vr.transition=null;try{Ce=1,Sc(e,t,n,o)}finally{Ce=h,vr.transition=g}}function cm(e,t,n,o){var h=Ce,g=vr.transition;vr.transition=null;try{Ce=4,Sc(e,t,n,o)}finally{Ce=h,vr.transition=g}}function Sc(e,t,n,o){if(Uo){var h=bl(e,t,n,o);if(h===null)ka(e,t,o,Go,n),Zu(e,o);else if(sm(h,e,t,n,o))o.stopPropagation();else if(Zu(e,o),t&4&&-1<om.indexOf(e)){for(;h!==null;){var g=Ki(h);if(g!==null&&$d(g),g=bl(e,t,n,o),g===null&&ka(e,t,o,Go,n),g===h)break;h=g}h!==null&&o.stopPropagation()}else ka(e,t,o,null,n)}}var Go=null;function bl(e,t,n,o){if(Go=null,e=Cc(o),e=Nn(e),e!==null)if(t=Zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Bd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Go=e,null}function Zd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K2()){case _c:return 1;case zd:return 4;case zo:case Z2:return 16;case Wd:return 536870912;default:return 16}default:return 16}}var hn=null,bc=null,Do=null;function Qd(){if(Do)return Do;var e,t=bc,n=t.length,o,h="value"in hn?hn.value:hn.textContent,g=h.length;for(e=0;e<n&&t[e]===h[e];e++);var y=n-e;for(o=1;o<=y&&t[n-o]===h[g-o];o++);return Do=h.slice(e,1<o?1-o:void 0)}function Po(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lo(){return!0}function Ju(){return!1}function xt(e){function t(n,o,h,g,y){this._reactName=n,this._targetInst=h,this.type=o,this.nativeEvent=g,this.target=y,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(g):g[c]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?lo:Ju,this.isPropagationStopped=Ju,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tc=xt(Mr),qi=Pe({},Mr,{view:0,detail:0}),um=xt(qi),Ca,_a,Ur,Ss=Pe({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ur&&(Ur&&e.type==="mousemove"?(Ca=e.screenX-Ur.screenX,_a=e.screenY-Ur.screenY):_a=Ca=0,Ur=e),Ca)},movementY:function(e){return"movementY"in e?e.movementY:_a}}),ef=xt(Ss),fm=Pe({},Ss,{dataTransfer:0}),hm=xt(fm),dm=Pe({},qi,{relatedTarget:0}),wa=xt(dm),pm=Pe({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),gm=xt(pm),mm=Pe({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vm=xt(mm),ym=Pe({},Mr,{data:0}),tf=xt(ym),Cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wm[e])?!!t[e]:!1}function Ec(){return xm}var Sm=Pe({},qi,{key:function(e){if(e.key){var t=Cm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Po(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_m[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(e){return e.type==="keypress"?Po(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Po(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bm=xt(Sm),Tm=Pe({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nf=xt(Tm),Em=Pe({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),Om=xt(Em),km=Pe({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dm=xt(km),Pm=Pe({},Ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Am=xt(Pm),Im=[9,13,27,32],Oc=Jt&&"CompositionEvent"in window,ci=null;Jt&&"documentMode"in document&&(ci=document.documentMode);var Mm=Jt&&"TextEvent"in window&&!ci,Jd=Jt&&(!Oc||ci&&8<ci&&11>=ci),rf=" ",of=!1;function e0(e,t){switch(e){case"keyup":return Im.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function Lm(e,t){switch(e){case"compositionend":return t0(t);case"keypress":return t.which!==32?null:(of=!0,rf);case"textInput":return e=t.data,e===rf&&of?null:e;default:return null}}function Rm(e,t){if(ir)return e==="compositionend"||!Oc&&e0(e,t)?(e=Qd(),Do=bc=hn=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jd&&t.locale!=="ko"?null:t.data;default:return null}}var Fm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fm[e.type]:t==="textarea"}function n0(e,t,n,o){Md(o),t=$o(t,"onChange"),0<t.length&&(n=new Tc("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var ui=null,Ti=null;function jm(e){d0(e,0)}function bs(e){var t=ar(e);if(Ed(t))return e}function Bm(e,t){if(e==="change")return t}var r0=!1;if(Jt){var xa;if(Jt){var Sa="oninput"in document;if(!Sa){var af=document.createElement("div");af.setAttribute("oninput","return;"),Sa=typeof af.oninput=="function"}xa=Sa}else xa=!1;r0=xa&&(!document.documentMode||9<document.documentMode)}function lf(){ui&&(ui.detachEvent("onpropertychange",i0),Ti=ui=null)}function i0(e){if(e.propertyName==="value"&&bs(Ti)){var t=[];n0(t,Ti,e,Cc(e)),jd(jm,t)}}function Nm(e,t,n){e==="focusin"?(lf(),ui=t,Ti=n,ui.attachEvent("onpropertychange",i0)):e==="focusout"&&lf()}function Hm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bs(Ti)}function Vm(e,t){if(e==="click")return bs(t)}function zm(e,t){if(e==="input"||e==="change")return bs(t)}function Wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Wm;function Ei(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var h=n[o];if(!sl.call(t,h)||!Vt(e[h],t[h]))return!1}return!0}function cf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uf(e,t){var n=cf(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cf(n)}}function o0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?o0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function s0(){for(var e=window,t=No();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=No(e.document)}return t}function kc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Um(e){var t=s0(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&o0(n.ownerDocument.documentElement,n)){if(o!==null&&kc(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=n.textContent.length,g=Math.min(o.start,h);o=o.end===void 0?g:Math.min(o.end,h),!e.extend&&g>o&&(h=o,o=g,g=h),h=uf(n,g);var y=uf(n,o);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),g>o?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gm=Jt&&"documentMode"in document&&11>=document.documentMode,or=null,Tl=null,fi=null,El=!1;function ff(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;El||or==null||or!==No(o)||(o=or,"selectionStart"in o&&kc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),fi&&Ei(fi,o)||(fi=o,o=$o(Tl,"onSelect"),0<o.length&&(t=new Tc("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=or)))}function co(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var sr={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionend:co("Transition","TransitionEnd")},ba={},a0={};Jt&&(a0=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function Ts(e){if(ba[e])return ba[e];if(!sr[e])return e;var t=sr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in a0)return ba[e]=t[n];return e}var l0=Ts("animationend"),c0=Ts("animationiteration"),u0=Ts("animationstart"),f0=Ts("transitionend"),h0=new Map,hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){h0.set(e,t),Kn(t,[e])}for(var Ta=0;Ta<hf.length;Ta++){var Ea=hf[Ta],$m=Ea.toLowerCase(),Xm=Ea[0].toUpperCase()+Ea.slice(1);kn($m,"on"+Xm)}kn(l0,"onAnimationEnd");kn(c0,"onAnimationIteration");kn(u0,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(f0,"onTransitionEnd");wr("onMouseEnter",["mouseout","mouseover"]);wr("onMouseLeave",["mouseout","mouseover"]);wr("onPointerEnter",["pointerout","pointerover"]);wr("onPointerLeave",["pointerout","pointerover"]);Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ym=new Set("cancel close invalid load scroll toggle".split(" ").concat(si));function df(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,$2(o,t,void 0,e),e.currentTarget=null}function d0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],h=o.event;o=o.listeners;e:{var g=void 0;if(t)for(var y=o.length-1;0<=y;y--){var c=o[y],r=c.instance,l=c.currentTarget;if(c=c.listener,r!==g&&h.isPropagationStopped())break e;df(h,c,l),g=r}else for(y=0;y<o.length;y++){if(c=o[y],r=c.instance,l=c.currentTarget,c=c.listener,r!==g&&h.isPropagationStopped())break e;df(h,c,l),g=r}}}if(Vo)throw e=wl,Vo=!1,wl=null,e}function Se(e,t){var n=t[Al];n===void 0&&(n=t[Al]=new Set);var o=e+"__bubble";n.has(o)||(p0(t,e,2,!1),n.add(o))}function Oa(e,t,n){var o=0;t&&(o|=4),p0(n,e,o,t)}var uo="_reactListening"+Math.random().toString(36).slice(2);function Oi(e){if(!e[uo]){e[uo]=!0,wd.forEach(function(n){n!=="selectionchange"&&(Ym.has(n)||Oa(n,!1,e),Oa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uo]||(t[uo]=!0,Oa("selectionchange",!1,t))}}function p0(e,t,n,o){switch(Zd(t)){case 1:var h=lm;break;case 4:h=cm;break;default:h=Sc}n=h.bind(null,t,n,e),h=void 0,!_l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(t,n,{capture:!0,passive:h}):e.addEventListener(t,n,!0):h!==void 0?e.addEventListener(t,n,{passive:h}):e.addEventListener(t,n,!1)}function ka(e,t,n,o,h){var g=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var c=o.stateNode.containerInfo;if(c===h||c.nodeType===8&&c.parentNode===h)break;if(y===4)for(y=o.return;y!==null;){var r=y.tag;if((r===3||r===4)&&(r=y.stateNode.containerInfo,r===h||r.nodeType===8&&r.parentNode===h))return;y=y.return}for(;c!==null;){if(y=Nn(c),y===null)return;if(r=y.tag,r===5||r===6){o=g=y;continue e}c=c.parentNode}}o=o.return}jd(function(){var l=g,d=Cc(n),i=[];e:{var s=h0.get(e);if(s!==void 0){var a=Tc,f=e;switch(e){case"keypress":if(Po(n)===0)break e;case"keydown":case"keyup":a=bm;break;case"focusin":f="focus",a=wa;break;case"focusout":f="blur",a=wa;break;case"beforeblur":case"afterblur":a=wa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=Om;break;case l0:case c0:case u0:a=gm;break;case f0:a=Dm;break;case"scroll":a=um;break;case"wheel":a=Am;break;case"copy":case"cut":case"paste":a=vm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=nf}var p=(t&4)!==0,u=!p&&e==="scroll",m=p?s!==null?s+"Capture":null:s;p=[];for(var v=l,C;v!==null;){C=v;var _=C.stateNode;if(C.tag===5&&_!==null&&(C=_,m!==null&&(_=wi(v,m),_!=null&&p.push(ki(v,_,C)))),u)break;v=v.return}0<p.length&&(s=new a(s,f,null,n,d),i.push({event:s,listeners:p}))}}if(!(t&7)){e:{if(s=e==="mouseover"||e==="pointerover",a=e==="mouseout"||e==="pointerout",s&&n!==yl&&(f=n.relatedTarget||n.fromElement)&&(Nn(f)||f[en]))break e;if((a||s)&&(s=d.window===d?d:(s=d.ownerDocument)?s.defaultView||s.parentWindow:window,a?(f=n.relatedTarget||n.toElement,a=l,f=f?Nn(f):null,f!==null&&(u=Zn(f),f!==u||f.tag!==5&&f.tag!==6)&&(f=null)):(a=null,f=l),a!==f)){if(p=ef,_="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=nf,_="onPointerLeave",m="onPointerEnter",v="pointer"),u=a==null?s:ar(a),C=f==null?s:ar(f),s=new p(_,v+"leave",a,n,d),s.target=u,s.relatedTarget=C,_=null,Nn(d)===l&&(p=new p(m,v+"enter",f,n,d),p.target=C,p.relatedTarget=u,_=p),u=_,a&&f)t:{for(p=a,m=f,v=0,C=p;C;C=er(C))v++;for(C=0,_=m;_;_=er(_))C++;for(;0<v-C;)p=er(p),v--;for(;0<C-v;)m=er(m),C--;for(;v--;){if(p===m||m!==null&&p===m.alternate)break t;p=er(p),m=er(m)}p=null}else p=null;a!==null&&pf(i,s,a,p,!1),f!==null&&u!==null&&pf(i,u,f,p,!0)}}e:{if(s=l?ar(l):window,a=s.nodeName&&s.nodeName.toLowerCase(),a==="select"||a==="input"&&s.type==="file")var w=Bm;else if(sf(s))if(r0)w=zm;else{w=Hm;var x=Nm}else(a=s.nodeName)&&a.toLowerCase()==="input"&&(s.type==="checkbox"||s.type==="radio")&&(w=Vm);if(w&&(w=w(e,l))){n0(i,w,n,d);break e}x&&x(e,s,l),e==="focusout"&&(x=s._wrapperState)&&x.controlled&&s.type==="number"&&dl(s,"number",s.value)}switch(x=l?ar(l):window,e){case"focusin":(sf(x)||x.contentEditable==="true")&&(or=x,Tl=l,fi=null);break;case"focusout":fi=Tl=or=null;break;case"mousedown":El=!0;break;case"contextmenu":case"mouseup":case"dragend":El=!1,ff(i,n,d);break;case"selectionchange":if(Gm)break;case"keydown":case"keyup":ff(i,n,d)}var T;if(Oc)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ir?e0(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Jd&&n.locale!=="ko"&&(ir||S!=="onCompositionStart"?S==="onCompositionEnd"&&ir&&(T=Qd()):(hn=d,bc="value"in hn?hn.value:hn.textContent,ir=!0)),x=$o(l,S),0<x.length&&(S=new tf(S,e,null,n,d),i.push({event:S,listeners:x}),T?S.data=T:(T=t0(n),T!==null&&(S.data=T)))),(T=Mm?Lm(e,n):Rm(e,n))&&(l=$o(l,"onBeforeInput"),0<l.length&&(d=new tf("onBeforeInput","beforeinput",null,n,d),i.push({event:d,listeners:l}),d.data=T))}d0(i,t)})}function ki(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $o(e,t){for(var n=t+"Capture",o=[];e!==null;){var h=e,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=wi(e,n),g!=null&&o.unshift(ki(e,g,h)),g=wi(e,t),g!=null&&o.push(ki(e,g,h))),e=e.return}return o}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pf(e,t,n,o,h){for(var g=t._reactName,y=[];n!==null&&n!==o;){var c=n,r=c.alternate,l=c.stateNode;if(r!==null&&r===o)break;c.tag===5&&l!==null&&(c=l,h?(r=wi(n,g),r!=null&&y.unshift(ki(n,r,c))):h||(r=wi(n,g),r!=null&&y.push(ki(n,r,c)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var qm=/\r\n?/g,Km=/\u0000|\uFFFD/g;function gf(e){return(typeof e=="string"?e:""+e).replace(qm,`
`).replace(Km,"")}function fo(e,t,n){if(t=gf(t),gf(e)!==t&&n)throw Error(re(425))}function Xo(){}var Ol=null,kl=null;function Dl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,Zm=typeof clearTimeout=="function"?clearTimeout:void 0,mf=typeof Promise=="function"?Promise:void 0,Qm=typeof queueMicrotask=="function"?queueMicrotask:typeof mf<"u"?function(e){return mf.resolve(null).then(e).catch(Jm)}:Pl;function Jm(e){setTimeout(function(){throw e})}function Da(e,t){var n=t,o=0;do{var h=n.nextSibling;if(e.removeChild(n),h&&h.nodeType===8)if(n=h.data,n==="/$"){if(o===0){e.removeChild(h),bi(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=h}while(n);bi(t)}function vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Lr,Di="__reactProps$"+Lr,en="__reactContainer$"+Lr,Al="__reactEvents$"+Lr,ev="__reactListeners$"+Lr,tv="__reactHandles$"+Lr;function Nn(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[en]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vf(e);e!==null;){if(n=e[Gt])return n;e=vf(e)}return t}e=n,n=e.parentNode}return null}function Ki(e){return e=e[Gt]||e[en],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function Es(e){return e[Di]||null}var Il=[],lr=-1;function Dn(e){return{current:e}}function be(e){0>lr||(e.current=Il[lr],Il[lr]=null,lr--)}function xe(e,t){lr++,Il[lr]=e.current,e.current=t}var En={},et=Dn(En),ft=Dn(!1),Un=En;function xr(e,t){var n=e.type.contextTypes;if(!n)return En;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in n)h[g]=t[g];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function ht(e){return e=e.childContextTypes,e!=null}function Yo(){be(ft),be(et)}function yf(e,t,n){if(et.current!==En)throw Error(re(168));xe(et,t),xe(ft,n)}function g0(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var h in o)if(!(h in t))throw Error(re(108,N2(e)||"Unknown",h));return Pe({},n,o)}function qo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,Un=et.current,xe(et,e),xe(ft,ft.current),!0}function Cf(e,t,n){var o=e.stateNode;if(!o)throw Error(re(169));n?(e=g0(e,t,Un),o.__reactInternalMemoizedMergedChildContext=e,be(ft),be(et),xe(et,e)):be(ft),xe(ft,n)}var qt=null,Os=!1,Pa=!1;function m0(e){qt===null?qt=[e]:qt.push(e)}function nv(e){Os=!0,m0(e)}function Pn(){if(!Pa&&qt!==null){Pa=!0;var e=0,t=Ce;try{var n=qt;for(Ce=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}qt=null,Os=!1}catch(h){throw qt!==null&&(qt=qt.slice(e+1)),Vd(_c,Pn),h}finally{Ce=t,Pa=!1}}return null}var cr=[],ur=0,Ko=null,Zo=0,Tt=[],Et=0,Gn=null,Kt=1,Zt="";function Fn(e,t){cr[ur++]=Zo,cr[ur++]=Ko,Ko=e,Zo=t}function v0(e,t,n){Tt[Et++]=Kt,Tt[Et++]=Zt,Tt[Et++]=Gn,Gn=e;var o=Kt;e=Zt;var h=32-Nt(o)-1;o&=~(1<<h),n+=1;var g=32-Nt(t)+h;if(30<g){var y=h-h%5;g=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Kt=1<<32-Nt(t)+h|n<<h|o,Zt=g+e}else Kt=1<<g|n<<h|o,Zt=e}function Dc(e){e.return!==null&&(Fn(e,1),v0(e,1,0))}function Pc(e){for(;e===Ko;)Ko=cr[--ur],cr[ur]=null,Zo=cr[--ur],cr[ur]=null;for(;e===Gn;)Gn=Tt[--Et],Tt[Et]=null,Zt=Tt[--Et],Tt[Et]=null,Kt=Tt[--Et],Tt[Et]=null}var vt=null,gt=null,Ee=!1,jt=null;function y0(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _f(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,gt=vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:Kt,overflow:Zt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,gt=null,!0):!1;default:return!1}}function Ml(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ll(e){if(Ee){var t=gt;if(t){var n=t;if(!_f(e,t)){if(Ml(e))throw Error(re(418));t=vn(n.nextSibling);var o=vt;t&&_f(e,t)?y0(o,n):(e.flags=e.flags&-4097|2,Ee=!1,vt=e)}}else{if(Ml(e))throw Error(re(418));e.flags=e.flags&-4097|2,Ee=!1,vt=e}}}function wf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function ho(e){if(e!==vt)return!1;if(!Ee)return wf(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dl(e.type,e.memoizedProps)),t&&(t=gt)){if(Ml(e))throw C0(),Error(re(418));for(;t;)y0(e,t),t=vn(t.nextSibling)}if(wf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=vn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=vt?vn(e.stateNode.nextSibling):null;return!0}function C0(){for(var e=gt;e;)e=vn(e.nextSibling)}function Sr(){gt=vt=null,Ee=!1}function Ac(e){jt===null?jt=[e]:jt.push(e)}var rv=rn.ReactCurrentBatchConfig;function Rt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Qo=Dn(null),Jo=null,fr=null,Ic=null;function Mc(){Ic=fr=Jo=null}function Lc(e){var t=Qo.current;be(Qo),e._currentValue=t}function Rl(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function yr(e,t){Jo=e,Ic=fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Ic!==e)if(e={context:e,memoizedValue:t,next:null},fr===null){if(Jo===null)throw Error(re(308));fr=e,Jo.dependencies={lanes:0,firstContext:e}}else fr=fr.next=e;return t}var Hn=null;function Rc(e){Hn===null?Hn=[e]:Hn.push(e)}function _0(e,t,n,o){var h=t.interleaved;return h===null?(n.next=n,Rc(t)):(n.next=h.next,h.next=n),t.interleaved=n,tn(e,o)}function tn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cn=!1;function Fc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yn(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,ve&2){var h=o.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),o.pending=t,tn(e,n)}return h=o.interleaved,h===null?(t.next=t,Rc(o)):(t.next=h.next,h.next=t),o.interleaved=t,tn(e,n)}function Ao(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,wc(e,n)}}function xf(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var h=null,g=null;if(n=n.firstBaseUpdate,n!==null){do{var y={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};g===null?h=g=y:g=g.next=y,n=n.next}while(n!==null);g===null?h=g=t:g=g.next=t}else h=g=t;n={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function es(e,t,n,o){var h=e.updateQueue;cn=!1;var g=h.firstBaseUpdate,y=h.lastBaseUpdate,c=h.shared.pending;if(c!==null){h.shared.pending=null;var r=c,l=r.next;r.next=null,y===null?g=l:y.next=l,y=r;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==y&&(c===null?d.firstBaseUpdate=l:c.next=l,d.lastBaseUpdate=r))}if(g!==null){var i=h.baseState;y=0,d=l=r=null,c=g;do{var s=c.lane,a=c.eventTime;if((o&s)===s){d!==null&&(d=d.next={eventTime:a,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var f=e,p=c;switch(s=t,a=n,p.tag){case 1:if(f=p.payload,typeof f=="function"){i=f.call(a,i,s);break e}i=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=p.payload,s=typeof f=="function"?f.call(a,i,s):f,s==null)break e;i=Pe({},i,s);break e;case 2:cn=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,s=h.effects,s===null?h.effects=[c]:s.push(c))}else a={eventTime:a,lane:s,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(l=d=a,r=i):d=d.next=a,y|=s;if(c=c.next,c===null){if(c=h.shared.pending,c===null)break;s=c,c=s.next,s.next=null,h.lastBaseUpdate=s,h.shared.pending=null}}while(!0);if(d===null&&(r=i),h.baseState=r,h.firstBaseUpdate=l,h.lastBaseUpdate=d,t=h.shared.interleaved,t!==null){h=t;do y|=h.lane,h=h.next;while(h!==t)}else g===null&&(h.shared.lanes=0);Xn|=y,e.lanes=y,e.memoizedState=i}}function Sf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],h=o.callback;if(h!==null){if(o.callback=null,o=n,typeof h!="function")throw Error(re(191,h));h.call(o)}}}var x0=new _d.Component().refs;function Fl(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ks={isMounted:function(e){return(e=e._reactInternals)?Zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=ot(),h=_n(e),g=Qt(o,h);g.payload=t,n!=null&&(g.callback=n),t=yn(e,g,h),t!==null&&(Ht(t,e,h,o),Ao(t,e,h))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=ot(),h=_n(e),g=Qt(o,h);g.tag=1,g.payload=t,n!=null&&(g.callback=n),t=yn(e,g,h),t!==null&&(Ht(t,e,h,o),Ao(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ot(),o=_n(e),h=Qt(n,o);h.tag=2,t!=null&&(h.callback=t),t=yn(e,h,o),t!==null&&(Ht(t,e,o,n),Ao(t,e,o))}};function bf(e,t,n,o,h,g,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,y):t.prototype&&t.prototype.isPureReactComponent?!Ei(n,o)||!Ei(h,g):!0}function S0(e,t,n){var o=!1,h=En,g=t.contextType;return typeof g=="object"&&g!==null?g=At(g):(h=ht(t)?Un:et.current,o=t.contextTypes,g=(o=o!=null)?xr(e,h):En),t=new t(n,g),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ks,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=g),t}function Tf(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&ks.enqueueReplaceState(t,t.state,null)}function jl(e,t,n,o){var h=e.stateNode;h.props=n,h.state=e.memoizedState,h.refs=x0,Fc(e);var g=t.contextType;typeof g=="object"&&g!==null?h.context=At(g):(g=ht(t)?Un:et.current,h.context=xr(e,g)),h.state=e.memoizedState,g=t.getDerivedStateFromProps,typeof g=="function"&&(Fl(e,t,g,n),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&ks.enqueueReplaceState(h,h.state,null),es(e,n,h,o),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Gr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var o=n.stateNode}if(!o)throw Error(re(147,e));var h=o,g=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===g?t.ref:(t=function(y){var c=h.refs;c===x0&&(c=h.refs={}),y===null?delete c[g]:c[g]=y},t._stringRef=g,t)}if(typeof e!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,e))}return e}function po(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ef(e){var t=e._init;return t(e._payload)}function b0(e){function t(m,v){if(e){var C=m.deletions;C===null?(m.deletions=[v],m.flags|=16):C.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function o(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function h(m,v){return m=wn(m,v),m.index=0,m.sibling=null,m}function g(m,v,C){return m.index=C,e?(C=m.alternate,C!==null?(C=C.index,C<v?(m.flags|=2,v):C):(m.flags|=2,v)):(m.flags|=1048576,v)}function y(m){return e&&m.alternate===null&&(m.flags|=2),m}function c(m,v,C,_){return v===null||v.tag!==6?(v=ja(C,m.mode,_),v.return=m,v):(v=h(v,C),v.return=m,v)}function r(m,v,C,_){var w=C.type;return w===rr?d(m,v,C.props.children,_,C.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ln&&Ef(w)===v.type)?(_=h(v,C.props),_.ref=Gr(m,v,C),_.return=m,_):(_=jo(C.type,C.key,C.props,null,m.mode,_),_.ref=Gr(m,v,C),_.return=m,_)}function l(m,v,C,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==C.containerInfo||v.stateNode.implementation!==C.implementation?(v=Ba(C,m.mode,_),v.return=m,v):(v=h(v,C.children||[]),v.return=m,v)}function d(m,v,C,_,w){return v===null||v.tag!==7?(v=Wn(C,m.mode,_,w),v.return=m,v):(v=h(v,C),v.return=m,v)}function i(m,v,C){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ja(""+v,m.mode,C),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case no:return C=jo(v.type,v.key,v.props,null,m.mode,C),C.ref=Gr(m,null,v),C.return=m,C;case nr:return v=Ba(v,m.mode,C),v.return=m,v;case ln:var _=v._init;return i(m,_(v._payload),C)}if(ii(v)||Hr(v))return v=Wn(v,m.mode,C,null),v.return=m,v;po(m,v)}return null}function s(m,v,C,_){var w=v!==null?v.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return w!==null?null:c(m,v,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case no:return C.key===w?r(m,v,C,_):null;case nr:return C.key===w?l(m,v,C,_):null;case ln:return w=C._init,s(m,v,w(C._payload),_)}if(ii(C)||Hr(C))return w!==null?null:d(m,v,C,_,null);po(m,C)}return null}function a(m,v,C,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(C)||null,c(v,m,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case no:return m=m.get(_.key===null?C:_.key)||null,r(v,m,_,w);case nr:return m=m.get(_.key===null?C:_.key)||null,l(v,m,_,w);case ln:var x=_._init;return a(m,v,C,x(_._payload),w)}if(ii(_)||Hr(_))return m=m.get(C)||null,d(v,m,_,w,null);po(v,_)}return null}function f(m,v,C,_){for(var w=null,x=null,T=v,S=v=0,A=null;T!==null&&S<C.length;S++){T.index>S?(A=T,T=null):A=T.sibling;var I=s(m,T,C[S],_);if(I===null){T===null&&(T=A);break}e&&T&&I.alternate===null&&t(m,T),v=g(I,v,S),x===null?w=I:x.sibling=I,x=I,T=A}if(S===C.length)return n(m,T),Ee&&Fn(m,S),w;if(T===null){for(;S<C.length;S++)T=i(m,C[S],_),T!==null&&(v=g(T,v,S),x===null?w=T:x.sibling=T,x=T);return Ee&&Fn(m,S),w}for(T=o(m,T);S<C.length;S++)A=a(T,m,S,C[S],_),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?S:A.key),v=g(A,v,S),x===null?w=A:x.sibling=A,x=A);return e&&T.forEach(function(R){return t(m,R)}),Ee&&Fn(m,S),w}function p(m,v,C,_){var w=Hr(C);if(typeof w!="function")throw Error(re(150));if(C=w.call(C),C==null)throw Error(re(151));for(var x=w=null,T=v,S=v=0,A=null,I=C.next();T!==null&&!I.done;S++,I=C.next()){T.index>S?(A=T,T=null):A=T.sibling;var R=s(m,T,I.value,_);if(R===null){T===null&&(T=A);break}e&&T&&R.alternate===null&&t(m,T),v=g(R,v,S),x===null?w=R:x.sibling=R,x=R,T=A}if(I.done)return n(m,T),Ee&&Fn(m,S),w;if(T===null){for(;!I.done;S++,I=C.next())I=i(m,I.value,_),I!==null&&(v=g(I,v,S),x===null?w=I:x.sibling=I,x=I);return Ee&&Fn(m,S),w}for(T=o(m,T);!I.done;S++,I=C.next())I=a(T,m,S,I.value,_),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?S:I.key),v=g(I,v,S),x===null?w=I:x.sibling=I,x=I);return e&&T.forEach(function(B){return t(m,B)}),Ee&&Fn(m,S),w}function u(m,v,C,_){if(typeof C=="object"&&C!==null&&C.type===rr&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case no:e:{for(var w=C.key,x=v;x!==null;){if(x.key===w){if(w=C.type,w===rr){if(x.tag===7){n(m,x.sibling),v=h(x,C.props.children),v.return=m,m=v;break e}}else if(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ln&&Ef(w)===x.type){n(m,x.sibling),v=h(x,C.props),v.ref=Gr(m,x,C),v.return=m,m=v;break e}n(m,x);break}else t(m,x);x=x.sibling}C.type===rr?(v=Wn(C.props.children,m.mode,_,C.key),v.return=m,m=v):(_=jo(C.type,C.key,C.props,null,m.mode,_),_.ref=Gr(m,v,C),_.return=m,m=_)}return y(m);case nr:e:{for(x=C.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===C.containerInfo&&v.stateNode.implementation===C.implementation){n(m,v.sibling),v=h(v,C.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=Ba(C,m.mode,_),v.return=m,m=v}return y(m);case ln:return x=C._init,u(m,v,x(C._payload),_)}if(ii(C))return f(m,v,C,_);if(Hr(C))return p(m,v,C,_);po(m,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,v!==null&&v.tag===6?(n(m,v.sibling),v=h(v,C),v.return=m,m=v):(n(m,v),v=ja(C,m.mode,_),v.return=m,m=v),y(m)):n(m,v)}return u}var br=b0(!0),T0=b0(!1),Zi={},Xt=Dn(Zi),Pi=Dn(Zi),Ai=Dn(Zi);function Vn(e){if(e===Zi)throw Error(re(174));return e}function jc(e,t){switch(xe(Ai,t),xe(Pi,e),xe(Xt,Zi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gl(t,e)}be(Xt),xe(Xt,t)}function Tr(){be(Xt),be(Pi),be(Ai)}function E0(e){Vn(Ai.current);var t=Vn(Xt.current),n=gl(t,e.type);t!==n&&(xe(Pi,e),xe(Xt,n))}function Bc(e){Pi.current===e&&(be(Xt),be(Pi))}var Oe=Dn(0);function ts(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Aa=[];function Nc(){for(var e=0;e<Aa.length;e++)Aa[e]._workInProgressVersionPrimary=null;Aa.length=0}var Io=rn.ReactCurrentDispatcher,Ia=rn.ReactCurrentBatchConfig,$n=0,ke=null,Fe=null,Ne=null,ns=!1,hi=!1,Ii=0,iv=0;function Ze(){throw Error(re(321))}function Hc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Vc(e,t,n,o,h,g){if($n=g,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Io.current=e===null||e.memoizedState===null?lv:cv,e=n(o,h),hi){g=0;do{if(hi=!1,Ii=0,25<=g)throw Error(re(301));g+=1,Ne=Fe=null,t.updateQueue=null,Io.current=uv,e=n(o,h)}while(hi)}if(Io.current=rs,t=Fe!==null&&Fe.next!==null,$n=0,Ne=Fe=ke=null,ns=!1,t)throw Error(re(300));return e}function zc(){var e=Ii!==0;return Ii=0,e}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?ke.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function It(){if(Fe===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=Ne===null?ke.memoizedState:Ne.next;if(t!==null)Ne=t,Fe=e;else{if(e===null)throw Error(re(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Ne===null?ke.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Mi(e,t){return typeof t=="function"?t(e):t}function Ma(e){var t=It(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var o=Fe,h=o.baseQueue,g=n.pending;if(g!==null){if(h!==null){var y=h.next;h.next=g.next,g.next=y}o.baseQueue=h=g,n.pending=null}if(h!==null){g=h.next,o=o.baseState;var c=y=null,r=null,l=g;do{var d=l.lane;if(($n&d)===d)r!==null&&(r=r.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),o=l.hasEagerState?l.eagerState:e(o,l.action);else{var i={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};r===null?(c=r=i,y=o):r=r.next=i,ke.lanes|=d,Xn|=d}l=l.next}while(l!==null&&l!==g);r===null?y=o:r.next=c,Vt(o,t.memoizedState)||(ut=!0),t.memoizedState=o,t.baseState=y,t.baseQueue=r,n.lastRenderedState=o}if(e=n.interleaved,e!==null){h=e;do g=h.lane,ke.lanes|=g,Xn|=g,h=h.next;while(h!==e)}else h===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function La(e){var t=It(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var o=n.dispatch,h=n.pending,g=t.memoizedState;if(h!==null){n.pending=null;var y=h=h.next;do g=e(g,y.action),y=y.next;while(y!==h);Vt(g,t.memoizedState)||(ut=!0),t.memoizedState=g,t.baseQueue===null&&(t.baseState=g),n.lastRenderedState=g}return[g,o]}function O0(){}function k0(e,t){var n=ke,o=It(),h=t(),g=!Vt(o.memoizedState,h);if(g&&(o.memoizedState=h,ut=!0),o=o.queue,Wc(A0.bind(null,n,o,e),[e]),o.getSnapshot!==t||g||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,Li(9,P0.bind(null,n,o,h,t),void 0,null),Ve===null)throw Error(re(349));$n&30||D0(n,t,h)}return h}function D0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function P0(e,t,n,o){t.value=n,t.getSnapshot=o,I0(t)&&M0(e)}function A0(e,t,n){return n(function(){I0(t)&&M0(e)})}function I0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function M0(e){var t=tn(e,1);t!==null&&Ht(t,e,1,-1)}function Of(e){var t=Ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:e},t.queue=e,e=e.dispatch=av.bind(null,ke,e),[t.memoizedState,e]}function Li(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function L0(){return It().memoizedState}function Mo(e,t,n,o){var h=Ut();ke.flags|=e,h.memoizedState=Li(1|t,n,void 0,o===void 0?null:o)}function Ds(e,t,n,o){var h=It();o=o===void 0?null:o;var g=void 0;if(Fe!==null){var y=Fe.memoizedState;if(g=y.destroy,o!==null&&Hc(o,y.deps)){h.memoizedState=Li(t,n,g,o);return}}ke.flags|=e,h.memoizedState=Li(1|t,n,g,o)}function kf(e,t){return Mo(8390656,8,e,t)}function Wc(e,t){return Ds(2048,8,e,t)}function R0(e,t){return Ds(4,2,e,t)}function F0(e,t){return Ds(4,4,e,t)}function j0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function B0(e,t,n){return n=n!=null?n.concat([e]):null,Ds(4,4,j0.bind(null,t,e),n)}function Uc(){}function N0(e,t){var n=It();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Hc(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function H0(e,t){var n=It();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Hc(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function V0(e,t,n){return $n&21?(Vt(n,t)||(n=Ud(),ke.lanes|=n,Xn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=n)}function ov(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var o=Ia.transition;Ia.transition={};try{e(!1),t()}finally{Ce=n,Ia.transition=o}}function z0(){return It().memoizedState}function sv(e,t,n){var o=_n(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},W0(e))U0(t,n);else if(n=_0(e,t,n,o),n!==null){var h=ot();Ht(n,e,o,h),G0(n,t,o)}}function av(e,t,n){var o=_n(e),h={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(W0(e))U0(t,h);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=t.lastRenderedReducer,g!==null))try{var y=t.lastRenderedState,c=g(y,n);if(h.hasEagerState=!0,h.eagerState=c,Vt(c,y)){var r=t.interleaved;r===null?(h.next=h,Rc(t)):(h.next=r.next,r.next=h),t.interleaved=h;return}}catch{}finally{}n=_0(e,t,h,o),n!==null&&(h=ot(),Ht(n,e,o,h),G0(n,t,o))}}function W0(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function U0(e,t){hi=ns=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function G0(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,wc(e,n)}}var rs={readContext:At,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},lv={readContext:At,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:kf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Mo(4194308,4,j0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=Ut();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Ut();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=sv.bind(null,ke,e),[o.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:Of,useDebugValue:Uc,useDeferredValue:function(e){return Ut().memoizedState=e},useTransition:function(){var e=Of(!1),t=e[0];return e=ov.bind(null,e[1]),Ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=ke,h=Ut();if(Ee){if(n===void 0)throw Error(re(407));n=n()}else{if(n=t(),Ve===null)throw Error(re(349));$n&30||D0(o,t,n)}h.memoizedState=n;var g={value:n,getSnapshot:t};return h.queue=g,kf(A0.bind(null,o,g,e),[e]),o.flags|=2048,Li(9,P0.bind(null,o,g,n,t),void 0,null),n},useId:function(){var e=Ut(),t=Ve.identifierPrefix;if(Ee){var n=Zt,o=Kt;n=(o&~(1<<32-Nt(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ii++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=iv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cv={readContext:At,useCallback:N0,useContext:At,useEffect:Wc,useImperativeHandle:B0,useInsertionEffect:R0,useLayoutEffect:F0,useMemo:H0,useReducer:Ma,useRef:L0,useState:function(){return Ma(Mi)},useDebugValue:Uc,useDeferredValue:function(e){var t=It();return V0(t,Fe.memoizedState,e)},useTransition:function(){var e=Ma(Mi)[0],t=It().memoizedState;return[e,t]},useMutableSource:O0,useSyncExternalStore:k0,useId:z0,unstable_isNewReconciler:!1},uv={readContext:At,useCallback:N0,useContext:At,useEffect:Wc,useImperativeHandle:B0,useInsertionEffect:R0,useLayoutEffect:F0,useMemo:H0,useReducer:La,useRef:L0,useState:function(){return La(Mi)},useDebugValue:Uc,useDeferredValue:function(e){var t=It();return Fe===null?t.memoizedState=e:V0(t,Fe.memoizedState,e)},useTransition:function(){var e=La(Mi)[0],t=It().memoizedState;return[e,t]},useMutableSource:O0,useSyncExternalStore:k0,useId:z0,unstable_isNewReconciler:!1};function Er(e,t){try{var n="",o=t;do n+=B2(o),o=o.return;while(o);var h=n}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:t,stack:h,digest:null}}function Ra(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Bl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fv=typeof WeakMap=="function"?WeakMap:Map;function $0(e,t,n){n=Qt(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){os||(os=!0,Yl=o),Bl(e,t)},n}function X0(e,t,n){n=Qt(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var h=t.value;n.payload=function(){return o(h)},n.callback=function(){Bl(e,t)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(n.callback=function(){Bl(e,t),typeof o!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),n}function Df(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new fv;var h=new Set;o.set(t,h)}else h=o.get(t),h===void 0&&(h=new Set,o.set(t,h));h.has(n)||(h.add(n),e=Tv.bind(null,e,t,n),t.then(e,e))}function Pf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Af(e,t,n,o,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qt(-1,1),t.tag=2,yn(n,t,1))),n.lanes|=1),e)}var hv=rn.ReactCurrentOwner,ut=!1;function it(e,t,n,o){t.child=e===null?T0(t,null,n,o):br(t,e.child,n,o)}function If(e,t,n,o,h){n=n.render;var g=t.ref;return yr(t,h),o=Vc(e,t,n,o,g,h),n=zc(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,nn(e,t,h)):(Ee&&n&&Dc(t),t.flags|=1,it(e,t,o,h),t.child)}function Mf(e,t,n,o,h){if(e===null){var g=n.type;return typeof g=="function"&&!Qc(g)&&g.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=g,Y0(e,t,g,o,h)):(e=jo(n.type,null,o,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(g=e.child,!(e.lanes&h)){var y=g.memoizedProps;if(n=n.compare,n=n!==null?n:Ei,n(y,o)&&e.ref===t.ref)return nn(e,t,h)}return t.flags|=1,e=wn(g,o),e.ref=t.ref,e.return=t,t.child=e}function Y0(e,t,n,o,h){if(e!==null){var g=e.memoizedProps;if(Ei(g,o)&&e.ref===t.ref)if(ut=!1,t.pendingProps=o=g,(e.lanes&h)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,nn(e,t,h)}return Nl(e,t,n,o,h)}function q0(e,t,n){var o=t.pendingProps,h=o.children,g=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(dr,pt),pt|=n;else{if(!(n&1073741824))return e=g!==null?g.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(dr,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=g!==null?g.baseLanes:n,xe(dr,pt),pt|=o}else g!==null?(o=g.baseLanes|n,t.memoizedState=null):o=n,xe(dr,pt),pt|=o;return it(e,t,h,n),t.child}function K0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,n,o,h){var g=ht(n)?Un:et.current;return g=xr(t,g),yr(t,h),n=Vc(e,t,n,o,g,h),o=zc(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,nn(e,t,h)):(Ee&&o&&Dc(t),t.flags|=1,it(e,t,n,h),t.child)}function Lf(e,t,n,o,h){if(ht(n)){var g=!0;qo(t)}else g=!1;if(yr(t,h),t.stateNode===null)Lo(e,t),S0(t,n,o),jl(t,n,o,h),o=!0;else if(e===null){var y=t.stateNode,c=t.memoizedProps;y.props=c;var r=y.context,l=n.contextType;typeof l=="object"&&l!==null?l=At(l):(l=ht(n)?Un:et.current,l=xr(t,l));var d=n.getDerivedStateFromProps,i=typeof d=="function"||typeof y.getSnapshotBeforeUpdate=="function";i||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(c!==o||r!==l)&&Tf(t,y,o,l),cn=!1;var s=t.memoizedState;y.state=s,es(t,o,y,h),r=t.memoizedState,c!==o||s!==r||ft.current||cn?(typeof d=="function"&&(Fl(t,n,d,o),r=t.memoizedState),(c=cn||bf(t,n,c,o,s,r,l))?(i||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=r),y.props=o,y.state=r,y.context=l,o=c):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{y=t.stateNode,w0(e,t),c=t.memoizedProps,l=t.type===t.elementType?c:Rt(t.type,c),y.props=l,i=t.pendingProps,s=y.context,r=n.contextType,typeof r=="object"&&r!==null?r=At(r):(r=ht(n)?Un:et.current,r=xr(t,r));var a=n.getDerivedStateFromProps;(d=typeof a=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(c!==i||s!==r)&&Tf(t,y,o,r),cn=!1,s=t.memoizedState,y.state=s,es(t,o,y,h);var f=t.memoizedState;c!==i||s!==f||ft.current||cn?(typeof a=="function"&&(Fl(t,n,a,o),f=t.memoizedState),(l=cn||bf(t,n,l,o,s,f,r)||!1)?(d||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(o,f,r),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(o,f,r)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||c===e.memoizedProps&&s===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&s===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=f),y.props=o,y.state=f,y.context=r,o=l):(typeof y.componentDidUpdate!="function"||c===e.memoizedProps&&s===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&s===e.memoizedState||(t.flags|=1024),o=!1)}return Hl(e,t,n,o,g,h)}function Hl(e,t,n,o,h,g){K0(e,t);var y=(t.flags&128)!==0;if(!o&&!y)return h&&Cf(t,n,!1),nn(e,t,g);o=t.stateNode,hv.current=t;var c=y&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&y?(t.child=br(t,e.child,null,g),t.child=br(t,null,c,g)):it(e,t,c,g),t.memoizedState=o.state,h&&Cf(t,n,!0),t.child}function Z0(e){var t=e.stateNode;t.pendingContext?yf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yf(e,t.context,!1),jc(e,t.containerInfo)}function Rf(e,t,n,o,h){return Sr(),Ac(h),t.flags|=256,it(e,t,n,o),t.child}var Vl={dehydrated:null,treeContext:null,retryLane:0};function zl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q0(e,t,n){var o=t.pendingProps,h=Oe.current,g=!1,y=(t.flags&128)!==0,c;if((c=y)||(c=e!==null&&e.memoizedState===null?!1:(h&2)!==0),c?(g=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),xe(Oe,h&1),e===null)return Ll(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(y=o.children,e=o.fallback,g?(o=t.mode,g=t.child,y={mode:"hidden",children:y},!(o&1)&&g!==null?(g.childLanes=0,g.pendingProps=y):g=Is(y,o,0,null),e=Wn(e,o,n,null),g.return=t,e.return=t,g.sibling=e,t.child=g,t.child.memoizedState=zl(n),t.memoizedState=Vl,e):Gc(t,y));if(h=e.memoizedState,h!==null&&(c=h.dehydrated,c!==null))return dv(e,t,y,o,c,h,n);if(g){g=o.fallback,y=t.mode,h=e.child,c=h.sibling;var r={mode:"hidden",children:o.children};return!(y&1)&&t.child!==h?(o=t.child,o.childLanes=0,o.pendingProps=r,t.deletions=null):(o=wn(h,r),o.subtreeFlags=h.subtreeFlags&14680064),c!==null?g=wn(c,g):(g=Wn(g,y,n,null),g.flags|=2),g.return=t,o.return=t,o.sibling=g,t.child=o,o=g,g=t.child,y=e.child.memoizedState,y=y===null?zl(n):{baseLanes:y.baseLanes|n,cachePool:null,transitions:y.transitions},g.memoizedState=y,g.childLanes=e.childLanes&~n,t.memoizedState=Vl,o}return g=e.child,e=g.sibling,o=wn(g,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Gc(e,t){return t=Is({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function go(e,t,n,o){return o!==null&&Ac(o),br(t,e.child,null,n),e=Gc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dv(e,t,n,o,h,g,y){if(n)return t.flags&256?(t.flags&=-257,o=Ra(Error(re(422))),go(e,t,y,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(g=o.fallback,h=t.mode,o=Is({mode:"visible",children:o.children},h,0,null),g=Wn(g,h,y,null),g.flags|=2,o.return=t,g.return=t,o.sibling=g,t.child=o,t.mode&1&&br(t,e.child,null,y),t.child.memoizedState=zl(y),t.memoizedState=Vl,g);if(!(t.mode&1))return go(e,t,y,null);if(h.data==="$!"){if(o=h.nextSibling&&h.nextSibling.dataset,o)var c=o.dgst;return o=c,g=Error(re(419)),o=Ra(g,o,void 0),go(e,t,y,o)}if(c=(y&e.childLanes)!==0,ut||c){if(o=Ve,o!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(o.suspendedLanes|y)?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,tn(e,h),Ht(o,e,h,-1))}return Zc(),o=Ra(Error(re(421))),go(e,t,y,o)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=Ev.bind(null,e),h._reactRetry=t,null):(e=g.treeContext,gt=vn(h.nextSibling),vt=t,Ee=!0,jt=null,e!==null&&(Tt[Et++]=Kt,Tt[Et++]=Zt,Tt[Et++]=Gn,Kt=e.id,Zt=e.overflow,Gn=t),t=Gc(t,o.children),t.flags|=4096,t)}function Ff(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Rl(e.return,t,n)}function Fa(e,t,n,o,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:h}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=n,g.tailMode=h)}function J0(e,t,n){var o=t.pendingProps,h=o.revealOrder,g=o.tail;if(it(e,t,o.children,n),o=Oe.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ff(e,n,t);else if(e.tag===19)Ff(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(xe(Oe,o),!(t.mode&1))t.memoizedState=null;else switch(h){case"forwards":for(n=t.child,h=null;n!==null;)e=n.alternate,e!==null&&ts(e)===null&&(h=n),n=n.sibling;n=h,n===null?(h=t.child,t.child=null):(h=n.sibling,n.sibling=null),Fa(t,!1,h,n,g);break;case"backwards":for(n=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&ts(e)===null){t.child=h;break}e=h.sibling,h.sibling=n,n=h,h=e}Fa(t,!0,n,null,g);break;case"together":Fa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,n=wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pv(e,t,n){switch(t.tag){case 3:Z0(t),Sr();break;case 5:E0(t);break;case 1:ht(t.type)&&qo(t);break;case 4:jc(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,h=t.memoizedProps.value;xe(Qo,o._currentValue),o._currentValue=h;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(xe(Oe,Oe.current&1),t.flags|=128,null):n&t.child.childLanes?Q0(e,t,n):(xe(Oe,Oe.current&1),e=nn(e,t,n),e!==null?e.sibling:null);xe(Oe,Oe.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return J0(e,t,n);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),xe(Oe,Oe.current),o)break;return null;case 22:case 23:return t.lanes=0,q0(e,t,n)}return nn(e,t,n)}var ep,Wl,tp,np;ep=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wl=function(){};tp=function(e,t,n,o){var h=e.memoizedProps;if(h!==o){e=t.stateNode,Vn(Xt.current);var g=null;switch(n){case"input":h=fl(e,h),o=fl(e,o),g=[];break;case"select":h=Pe({},h,{value:void 0}),o=Pe({},o,{value:void 0}),g=[];break;case"textarea":h=pl(e,h),o=pl(e,o),g=[];break;default:typeof h.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Xo)}ml(n,o);var y;n=null;for(l in h)if(!o.hasOwnProperty(l)&&h.hasOwnProperty(l)&&h[l]!=null)if(l==="style"){var c=h[l];for(y in c)c.hasOwnProperty(y)&&(n||(n={}),n[y]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ci.hasOwnProperty(l)?g||(g=[]):(g=g||[]).push(l,null));for(l in o){var r=o[l];if(c=h!=null?h[l]:void 0,o.hasOwnProperty(l)&&r!==c&&(r!=null||c!=null))if(l==="style")if(c){for(y in c)!c.hasOwnProperty(y)||r&&r.hasOwnProperty(y)||(n||(n={}),n[y]="");for(y in r)r.hasOwnProperty(y)&&c[y]!==r[y]&&(n||(n={}),n[y]=r[y])}else n||(g||(g=[]),g.push(l,n)),n=r;else l==="dangerouslySetInnerHTML"?(r=r?r.__html:void 0,c=c?c.__html:void 0,r!=null&&c!==r&&(g=g||[]).push(l,r)):l==="children"?typeof r!="string"&&typeof r!="number"||(g=g||[]).push(l,""+r):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ci.hasOwnProperty(l)?(r!=null&&l==="onScroll"&&Se("scroll",e),g||c===r||(g=[])):(g=g||[]).push(l,r))}n&&(g=g||[]).push("style",n);var l=g;(t.updateQueue=l)&&(t.flags|=4)}};np=function(e,t,n,o){n!==o&&(t.flags|=4)};function $r(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var h=e.child;h!==null;)n|=h.lanes|h.childLanes,o|=h.subtreeFlags&14680064,o|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)n|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function gv(e,t,n){var o=t.pendingProps;switch(Pc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return ht(t.type)&&Yo(),Qe(t),null;case 3:return o=t.stateNode,Tr(),be(ft),be(et),Nc(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ho(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jt!==null&&(Zl(jt),jt=null))),Wl(e,t),Qe(t),null;case 5:Bc(t);var h=Vn(Ai.current);if(n=t.type,e!==null&&t.stateNode!=null)tp(e,t,n,o,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(re(166));return Qe(t),null}if(e=Vn(Xt.current),ho(t)){o=t.stateNode,n=t.type;var g=t.memoizedProps;switch(o[Gt]=t,o[Di]=g,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",o),Se("close",o);break;case"iframe":case"object":case"embed":Se("load",o);break;case"video":case"audio":for(h=0;h<si.length;h++)Se(si[h],o);break;case"source":Se("error",o);break;case"img":case"image":case"link":Se("error",o),Se("load",o);break;case"details":Se("toggle",o);break;case"input":Uu(o,g),Se("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!g.multiple},Se("invalid",o);break;case"textarea":$u(o,g),Se("invalid",o)}ml(n,g),h=null;for(var y in g)if(g.hasOwnProperty(y)){var c=g[y];y==="children"?typeof c=="string"?o.textContent!==c&&(g.suppressHydrationWarning!==!0&&fo(o.textContent,c,e),h=["children",c]):typeof c=="number"&&o.textContent!==""+c&&(g.suppressHydrationWarning!==!0&&fo(o.textContent,c,e),h=["children",""+c]):Ci.hasOwnProperty(y)&&c!=null&&y==="onScroll"&&Se("scroll",o)}switch(n){case"input":ro(o),Gu(o,g,!0);break;case"textarea":ro(o),Xu(o);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(o.onclick=Xo)}o=h,t.updateQueue=o,o!==null&&(t.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=y.createElement(n,{is:o.is}):(e=y.createElement(n),n==="select"&&(y=e,o.multiple?y.multiple=!0:o.size&&(y.size=o.size))):e=y.createElementNS(e,n),e[Gt]=t,e[Di]=o,ep(e,t,!1,!1),t.stateNode=e;e:{switch(y=vl(n,o),n){case"dialog":Se("cancel",e),Se("close",e),h=o;break;case"iframe":case"object":case"embed":Se("load",e),h=o;break;case"video":case"audio":for(h=0;h<si.length;h++)Se(si[h],e);h=o;break;case"source":Se("error",e),h=o;break;case"img":case"image":case"link":Se("error",e),Se("load",e),h=o;break;case"details":Se("toggle",e),h=o;break;case"input":Uu(e,o),h=fl(e,o),Se("invalid",e);break;case"option":h=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},h=Pe({},o,{value:void 0}),Se("invalid",e);break;case"textarea":$u(e,o),h=pl(e,o),Se("invalid",e);break;default:h=o}ml(n,h),c=h;for(g in c)if(c.hasOwnProperty(g)){var r=c[g];g==="style"?Id(e,r):g==="dangerouslySetInnerHTML"?(r=r?r.__html:void 0,r!=null&&Pd(e,r)):g==="children"?typeof r=="string"?(n!=="textarea"||r!=="")&&_i(e,r):typeof r=="number"&&_i(e,""+r):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Ci.hasOwnProperty(g)?r!=null&&g==="onScroll"&&Se("scroll",e):r!=null&&gc(e,g,r,y))}switch(n){case"input":ro(e),Gu(e,o,!1);break;case"textarea":ro(e),Xu(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Tn(o.value));break;case"select":e.multiple=!!o.multiple,g=o.value,g!=null?pr(e,!!o.multiple,g,!1):o.defaultValue!=null&&pr(e,!!o.multiple,o.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Xo)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)np(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(re(166));if(n=Vn(Ai.current),Vn(Xt.current),ho(t)){if(o=t.stateNode,n=t.memoizedProps,o[Gt]=t,(g=o.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:fo(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fo(o.nodeValue,n,(e.mode&1)!==0)}g&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Gt]=t,t.stateNode=o}return Qe(t),null;case 13:if(be(Oe),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&gt!==null&&t.mode&1&&!(t.flags&128))C0(),Sr(),t.flags|=98560,g=!1;else if(g=ho(t),o!==null&&o.dehydrated!==null){if(e===null){if(!g)throw Error(re(318));if(g=t.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(re(317));g[Gt]=t}else Sr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),g=!1}else jt!==null&&(Zl(jt),jt=null),g=!0;if(!g)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?je===0&&(je=3):Zc())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return Tr(),Wl(e,t),e===null&&Oi(t.stateNode.containerInfo),Qe(t),null;case 10:return Lc(t.type._context),Qe(t),null;case 17:return ht(t.type)&&Yo(),Qe(t),null;case 19:if(be(Oe),g=t.memoizedState,g===null)return Qe(t),null;if(o=(t.flags&128)!==0,y=g.rendering,y===null)if(o)$r(g,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(y=ts(e),y!==null){for(t.flags|=128,$r(g,!1),o=y.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)g=n,e=o,g.flags&=14680066,y=g.alternate,y===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=y.childLanes,g.lanes=y.lanes,g.child=y.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=y.memoizedProps,g.memoizedState=y.memoizedState,g.updateQueue=y.updateQueue,g.type=y.type,e=y.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Oe,Oe.current&1|2),t.child}e=e.sibling}g.tail!==null&&Me()>Or&&(t.flags|=128,o=!0,$r(g,!1),t.lanes=4194304)}else{if(!o)if(e=ts(y),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$r(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Ee)return Qe(t),null}else 2*Me()-g.renderingStartTime>Or&&n!==1073741824&&(t.flags|=128,o=!0,$r(g,!1),t.lanes=4194304);g.isBackwards?(y.sibling=t.child,t.child=y):(n=g.last,n!==null?n.sibling=y:t.child=y,g.last=y)}return g.tail!==null?(t=g.tail,g.rendering=t,g.tail=t.sibling,g.renderingStartTime=Me(),t.sibling=null,n=Oe.current,xe(Oe,o?n&1|2:n&1),t):(Qe(t),null);case 22:case 23:return Kc(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?pt&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function mv(e,t){switch(Pc(t),t.tag){case 1:return ht(t.type)&&Yo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tr(),be(ft),be(et),Nc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bc(t),null;case 13:if(be(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Oe),null;case 4:return Tr(),null;case 10:return Lc(t.type._context),null;case 22:case 23:return Kc(),null;case 24:return null;default:return null}}var mo=!1,Je=!1,vv=typeof WeakSet=="function"?WeakSet:Set,ae=null;function hr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Ae(e,t,o)}else n.current=null}function Ul(e,t,n){try{n()}catch(o){Ae(e,t,o)}}var jf=!1;function yv(e,t){if(Ol=Uo,e=s0(),kc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var h=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{n.nodeType,g.nodeType}catch{n=null;break e}var y=0,c=-1,r=-1,l=0,d=0,i=e,s=null;t:for(;;){for(var a;i!==n||h!==0&&i.nodeType!==3||(c=y+h),i!==g||o!==0&&i.nodeType!==3||(r=y+o),i.nodeType===3&&(y+=i.nodeValue.length),(a=i.firstChild)!==null;)s=i,i=a;for(;;){if(i===e)break t;if(s===n&&++l===h&&(c=y),s===g&&++d===o&&(r=y),(a=i.nextSibling)!==null)break;i=s,s=i.parentNode}i=a}n=c===-1||r===-1?null:{start:c,end:r}}else n=null}n=n||{start:0,end:0}}else n=null;for(kl={focusedElem:e,selectionRange:n},Uo=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var p=f.memoizedProps,u=f.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?p:Rt(t.type,p),u);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(_){Ae(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return f=jf,jf=!1,f}function di(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&e)===e){var g=h.destroy;h.destroy=void 0,g!==void 0&&Ul(t,n,g)}h=h.next}while(h!==o)}}function Ps(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function Gl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rp(e){var t=e.alternate;t!==null&&(e.alternate=null,rp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[Di],delete t[Al],delete t[ev],delete t[tv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ip(e){return e.tag===5||e.tag===3||e.tag===4}function Bf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ip(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $l(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xo));else if(o!==4&&(e=e.child,e!==null))for($l(e,t,n),e=e.sibling;e!==null;)$l(e,t,n),e=e.sibling}function Xl(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Xl(e,t,n),e=e.sibling;e!==null;)Xl(e,t,n),e=e.sibling}var $e=null,Ft=!1;function on(e,t,n){for(n=n.child;n!==null;)op(e,t,n),n=n.sibling}function op(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(xs,n)}catch{}switch(n.tag){case 5:Je||hr(n,t);case 6:var o=$e,h=Ft;$e=null,on(e,t,n),$e=o,Ft=h,$e!==null&&(Ft?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Ft?(e=$e,n=n.stateNode,e.nodeType===8?Da(e.parentNode,n):e.nodeType===1&&Da(e,n),bi(e)):Da($e,n.stateNode));break;case 4:o=$e,h=Ft,$e=n.stateNode.containerInfo,Ft=!0,on(e,t,n),$e=o,Ft=h;break;case 0:case 11:case 14:case 15:if(!Je&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){h=o=o.next;do{var g=h,y=g.destroy;g=g.tag,y!==void 0&&(g&2||g&4)&&Ul(n,t,y),h=h.next}while(h!==o)}on(e,t,n);break;case 1:if(!Je&&(hr(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(c){Ae(n,t,c)}on(e,t,n);break;case 21:on(e,t,n);break;case 22:n.mode&1?(Je=(o=Je)||n.memoizedState!==null,on(e,t,n),Je=o):on(e,t,n);break;default:on(e,t,n)}}function Nf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vv),t.forEach(function(o){var h=Ov.bind(null,e,o);n.has(o)||(n.add(o),o.then(h,h))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var h=n[o];try{var g=e,y=t,c=y;e:for(;c!==null;){switch(c.tag){case 5:$e=c.stateNode,Ft=!1;break e;case 3:$e=c.stateNode.containerInfo,Ft=!0;break e;case 4:$e=c.stateNode.containerInfo,Ft=!0;break e}c=c.return}if($e===null)throw Error(re(160));op(g,y,h),$e=null,Ft=!1;var r=h.alternate;r!==null&&(r.return=null),h.return=null}catch(l){Ae(h,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sp(t,e),t=t.sibling}function sp(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Wt(e),o&4){try{di(3,e,e.return),Ps(3,e)}catch(p){Ae(e,e.return,p)}try{di(5,e,e.return)}catch(p){Ae(e,e.return,p)}}break;case 1:Lt(t,e),Wt(e),o&512&&n!==null&&hr(n,n.return);break;case 5:if(Lt(t,e),Wt(e),o&512&&n!==null&&hr(n,n.return),e.flags&32){var h=e.stateNode;try{_i(h,"")}catch(p){Ae(e,e.return,p)}}if(o&4&&(h=e.stateNode,h!=null)){var g=e.memoizedProps,y=n!==null?n.memoizedProps:g,c=e.type,r=e.updateQueue;if(e.updateQueue=null,r!==null)try{c==="input"&&g.type==="radio"&&g.name!=null&&Od(h,g),vl(c,y);var l=vl(c,g);for(y=0;y<r.length;y+=2){var d=r[y],i=r[y+1];d==="style"?Id(h,i):d==="dangerouslySetInnerHTML"?Pd(h,i):d==="children"?_i(h,i):gc(h,d,i,l)}switch(c){case"input":hl(h,g);break;case"textarea":kd(h,g);break;case"select":var s=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var a=g.value;a!=null?pr(h,!!g.multiple,a,!1):s!==!!g.multiple&&(g.defaultValue!=null?pr(h,!!g.multiple,g.defaultValue,!0):pr(h,!!g.multiple,g.multiple?[]:"",!1))}h[Di]=g}catch(p){Ae(e,e.return,p)}}break;case 6:if(Lt(t,e),Wt(e),o&4){if(e.stateNode===null)throw Error(re(162));h=e.stateNode,g=e.memoizedProps;try{h.nodeValue=g}catch(p){Ae(e,e.return,p)}}break;case 3:if(Lt(t,e),Wt(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{bi(t.containerInfo)}catch(p){Ae(e,e.return,p)}break;case 4:Lt(t,e),Wt(e);break;case 13:Lt(t,e),Wt(e),h=e.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(Yc=Me())),o&4&&Nf(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(l=Je)||d,Lt(t,e),Je=l):Lt(t,e),Wt(e),o&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!d&&e.mode&1)for(ae=e,d=e.child;d!==null;){for(i=ae=d;ae!==null;){switch(s=ae,a=s.child,s.tag){case 0:case 11:case 14:case 15:di(4,s,s.return);break;case 1:hr(s,s.return);var f=s.stateNode;if(typeof f.componentWillUnmount=="function"){o=s,n=s.return;try{t=o,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(p){Ae(o,n,p)}}break;case 5:hr(s,s.return);break;case 22:if(s.memoizedState!==null){Vf(i);continue}}a!==null?(a.return=s,ae=a):Vf(i)}d=d.sibling}e:for(d=null,i=e;;){if(i.tag===5){if(d===null){d=i;try{h=i.stateNode,l?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(c=i.stateNode,r=i.memoizedProps.style,y=r!=null&&r.hasOwnProperty("display")?r.display:null,c.style.display=Ad("display",y))}catch(p){Ae(e,e.return,p)}}}else if(i.tag===6){if(d===null)try{i.stateNode.nodeValue=l?"":i.memoizedProps}catch(p){Ae(e,e.return,p)}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;d===i&&(d=null),i=i.return}d===i&&(d=null),i.sibling.return=i.return,i=i.sibling}}break;case 19:Lt(t,e),Wt(e),o&4&&Nf(e);break;case 21:break;default:Lt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ip(n)){var o=n;break e}n=n.return}throw Error(re(160))}switch(o.tag){case 5:var h=o.stateNode;o.flags&32&&(_i(h,""),o.flags&=-33);var g=Bf(e);Xl(e,g,h);break;case 3:case 4:var y=o.stateNode.containerInfo,c=Bf(e);$l(e,c,y);break;default:throw Error(re(161))}}catch(r){Ae(e,e.return,r)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cv(e,t,n){ae=e,ap(e)}function ap(e,t,n){for(var o=(e.mode&1)!==0;ae!==null;){var h=ae,g=h.child;if(h.tag===22&&o){var y=h.memoizedState!==null||mo;if(!y){var c=h.alternate,r=c!==null&&c.memoizedState!==null||Je;c=mo;var l=Je;if(mo=y,(Je=r)&&!l)for(ae=h;ae!==null;)y=ae,r=y.child,y.tag===22&&y.memoizedState!==null?zf(h):r!==null?(r.return=y,ae=r):zf(h);for(;g!==null;)ae=g,ap(g),g=g.sibling;ae=h,mo=c,Je=l}Hf(e)}else h.subtreeFlags&8772&&g!==null?(g.return=h,ae=g):Hf(e)}}function Hf(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Ps(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Je)if(n===null)o.componentDidMount();else{var h=t.elementType===t.type?n.memoizedProps:Rt(t.type,n.memoizedProps);o.componentDidUpdate(h,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var g=t.updateQueue;g!==null&&Sf(t,g,o);break;case 3:var y=t.updateQueue;if(y!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sf(t,y,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var r=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break;case"img":r.src&&(n.src=r.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var d=l.memoizedState;if(d!==null){var i=d.dehydrated;i!==null&&bi(i)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Je||t.flags&512&&Gl(t)}catch(s){Ae(t,t.return,s)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function Vf(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function zf(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ps(4,t)}catch(r){Ae(t,n,r)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var h=t.return;try{o.componentDidMount()}catch(r){Ae(t,h,r)}}var g=t.return;try{Gl(t)}catch(r){Ae(t,g,r)}break;case 5:var y=t.return;try{Gl(t)}catch(r){Ae(t,y,r)}}}catch(r){Ae(t,t.return,r)}if(t===e){ae=null;break}var c=t.sibling;if(c!==null){c.return=t.return,ae=c;break}ae=t.return}}var _v=Math.ceil,is=rn.ReactCurrentDispatcher,$c=rn.ReactCurrentOwner,Dt=rn.ReactCurrentBatchConfig,ve=0,Ve=null,Re=null,qe=0,pt=0,dr=Dn(0),je=0,Ri=null,Xn=0,As=0,Xc=0,pi=null,ct=null,Yc=0,Or=1/0,Yt=null,os=!1,Yl=null,Cn=null,vo=!1,dn=null,ss=0,gi=0,ql=null,Ro=-1,Fo=0;function ot(){return ve&6?Me():Ro!==-1?Ro:Ro=Me()}function _n(e){return e.mode&1?ve&2&&qe!==0?qe&-qe:rv.transition!==null?(Fo===0&&(Fo=Ud()),Fo):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Zd(e.type)),e):1}function Ht(e,t,n,o){if(50<gi)throw gi=0,ql=null,Error(re(185));Yi(e,n,o),(!(ve&2)||e!==Ve)&&(e===Ve&&(!(ve&2)&&(As|=n),je===4&&fn(e,qe)),dt(e,o),n===1&&ve===0&&!(t.mode&1)&&(Or=Me()+500,Os&&Pn()))}function dt(e,t){var n=e.callbackNode;rm(e,t);var o=Wo(e,e===Ve?qe:0);if(o===0)n!==null&&Ku(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&Ku(n),t===1)e.tag===0?nv(Wf.bind(null,e)):m0(Wf.bind(null,e)),Qm(function(){!(ve&6)&&Pn()}),n=null;else{switch(Gd(o)){case 1:n=_c;break;case 4:n=zd;break;case 16:n=zo;break;case 536870912:n=Wd;break;default:n=zo}n=gp(n,lp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lp(e,t){if(Ro=-1,Fo=0,ve&6)throw Error(re(327));var n=e.callbackNode;if(Cr()&&e.callbackNode!==n)return null;var o=Wo(e,e===Ve?qe:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=as(e,o);else{t=o;var h=ve;ve|=2;var g=up();(Ve!==e||qe!==t)&&(Yt=null,Or=Me()+500,zn(e,t));do try{Sv();break}catch(c){cp(e,c)}while(!0);Mc(),is.current=g,ve=h,Re!==null?t=0:(Ve=null,qe=0,t=je)}if(t!==0){if(t===2&&(h=xl(e),h!==0&&(o=h,t=Kl(e,h))),t===1)throw n=Ri,zn(e,0),fn(e,o),dt(e,Me()),n;if(t===6)fn(e,o);else{if(h=e.current.alternate,!(o&30)&&!wv(h)&&(t=as(e,o),t===2&&(g=xl(e),g!==0&&(o=g,t=Kl(e,g))),t===1))throw n=Ri,zn(e,0),fn(e,o),dt(e,Me()),n;switch(e.finishedWork=h,e.finishedLanes=o,t){case 0:case 1:throw Error(re(345));case 2:jn(e,ct,Yt);break;case 3:if(fn(e,o),(o&130023424)===o&&(t=Yc+500-Me(),10<t)){if(Wo(e,0)!==0)break;if(h=e.suspendedLanes,(h&o)!==o){ot(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Pl(jn.bind(null,e,ct,Yt),t);break}jn(e,ct,Yt);break;case 4:if(fn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,h=-1;0<o;){var y=31-Nt(o);g=1<<y,y=t[y],y>h&&(h=y),o&=~g}if(o=h,o=Me()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*_v(o/1960))-o,10<o){e.timeoutHandle=Pl(jn.bind(null,e,ct,Yt),o);break}jn(e,ct,Yt);break;case 5:jn(e,ct,Yt);break;default:throw Error(re(329))}}}return dt(e,Me()),e.callbackNode===n?lp.bind(null,e):null}function Kl(e,t){var n=pi;return e.current.memoizedState.isDehydrated&&(zn(e,t).flags|=256),e=as(e,t),e!==2&&(t=ct,ct=n,t!==null&&Zl(t)),e}function Zl(e){ct===null?ct=e:ct.push.apply(ct,e)}function wv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var h=n[o],g=h.getSnapshot;h=h.value;try{if(!Vt(g(),h))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~Xc,t&=~As,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),o=1<<n;e[n]=-1,t&=~o}}function Wf(e){if(ve&6)throw Error(re(327));Cr();var t=Wo(e,0);if(!(t&1))return dt(e,Me()),null;var n=as(e,t);if(e.tag!==0&&n===2){var o=xl(e);o!==0&&(t=o,n=Kl(e,o))}if(n===1)throw n=Ri,zn(e,0),fn(e,t),dt(e,Me()),n;if(n===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,ct,Yt),dt(e,Me()),null}function qc(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(Or=Me()+500,Os&&Pn())}}function Yn(e){dn!==null&&dn.tag===0&&!(ve&6)&&Cr();var t=ve;ve|=1;var n=Dt.transition,o=Ce;try{if(Dt.transition=null,Ce=1,e)return e()}finally{Ce=o,Dt.transition=n,ve=t,!(ve&6)&&Pn()}}function Kc(){pt=dr.current,be(dr)}function zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zm(n)),Re!==null)for(n=Re.return;n!==null;){var o=n;switch(Pc(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Yo();break;case 3:Tr(),be(ft),be(et),Nc();break;case 5:Bc(o);break;case 4:Tr();break;case 13:be(Oe);break;case 19:be(Oe);break;case 10:Lc(o.type._context);break;case 22:case 23:Kc()}n=n.return}if(Ve=e,Re=e=wn(e.current,null),qe=pt=t,je=0,Ri=null,Xc=As=Xn=0,ct=pi=null,Hn!==null){for(t=0;t<Hn.length;t++)if(n=Hn[t],o=n.interleaved,o!==null){n.interleaved=null;var h=o.next,g=n.pending;if(g!==null){var y=g.next;g.next=h,o.next=y}n.pending=o}Hn=null}return e}function cp(e,t){do{var n=Re;try{if(Mc(),Io.current=rs,ns){for(var o=ke.memoizedState;o!==null;){var h=o.queue;h!==null&&(h.pending=null),o=o.next}ns=!1}if($n=0,Ne=Fe=ke=null,hi=!1,Ii=0,$c.current=null,n===null||n.return===null){je=1,Ri=t,Re=null;break}e:{var g=e,y=n.return,c=n,r=t;if(t=qe,c.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){var l=r,d=c,i=d.tag;if(!(d.mode&1)&&(i===0||i===11||i===15)){var s=d.alternate;s?(d.updateQueue=s.updateQueue,d.memoizedState=s.memoizedState,d.lanes=s.lanes):(d.updateQueue=null,d.memoizedState=null)}var a=Pf(y);if(a!==null){a.flags&=-257,Af(a,y,c,g,t),a.mode&1&&Df(g,l,t),t=a,r=l;var f=t.updateQueue;if(f===null){var p=new Set;p.add(r),t.updateQueue=p}else f.add(r);break e}else{if(!(t&1)){Df(g,l,t),Zc();break e}r=Error(re(426))}}else if(Ee&&c.mode&1){var u=Pf(y);if(u!==null){!(u.flags&65536)&&(u.flags|=256),Af(u,y,c,g,t),Ac(Er(r,c));break e}}g=r=Er(r,c),je!==4&&(je=2),pi===null?pi=[g]:pi.push(g),g=y;do{switch(g.tag){case 3:g.flags|=65536,t&=-t,g.lanes|=t;var m=$0(g,r,t);xf(g,m);break e;case 1:c=r;var v=g.type,C=g.stateNode;if(!(g.flags&128)&&(typeof v.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Cn===null||!Cn.has(C)))){g.flags|=65536,t&=-t,g.lanes|=t;var _=X0(g,c,t);xf(g,_);break e}}g=g.return}while(g!==null)}hp(n)}catch(w){t=w,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function up(){var e=is.current;return is.current=rs,e===null?rs:e}function Zc(){(je===0||je===3||je===2)&&(je=4),Ve===null||!(Xn&268435455)&&!(As&268435455)||fn(Ve,qe)}function as(e,t){var n=ve;ve|=2;var o=up();(Ve!==e||qe!==t)&&(Yt=null,zn(e,t));do try{xv();break}catch(h){cp(e,h)}while(!0);if(Mc(),ve=n,is.current=o,Re!==null)throw Error(re(261));return Ve=null,qe=0,je}function xv(){for(;Re!==null;)fp(Re)}function Sv(){for(;Re!==null&&!Y2();)fp(Re)}function fp(e){var t=pp(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?hp(e):Re=t,$c.current=null}function hp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mv(n,t),n!==null){n.flags&=32767,Re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,Re=null;return}}else if(n=gv(n,t,pt),n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);je===0&&(je=5)}function jn(e,t,n){var o=Ce,h=Dt.transition;try{Dt.transition=null,Ce=1,bv(e,t,n,o)}finally{Dt.transition=h,Ce=o}return null}function bv(e,t,n,o){do Cr();while(dn!==null);if(ve&6)throw Error(re(327));n=e.finishedWork;var h=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var g=n.lanes|n.childLanes;if(im(e,g),e===Ve&&(Re=Ve=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vo||(vo=!0,gp(zo,function(){return Cr(),null})),g=(n.flags&15990)!==0,n.subtreeFlags&15990||g){g=Dt.transition,Dt.transition=null;var y=Ce;Ce=1;var c=ve;ve|=4,$c.current=null,yv(e,n),sp(n,e),Um(kl),Uo=!!Ol,kl=Ol=null,e.current=n,Cv(n),q2(),ve=c,Ce=y,Dt.transition=g}else e.current=n;if(vo&&(vo=!1,dn=e,ss=h),g=e.pendingLanes,g===0&&(Cn=null),Q2(n.stateNode),dt(e,Me()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)h=t[n],o(h.value,{componentStack:h.stack,digest:h.digest});if(os)throw os=!1,e=Yl,Yl=null,e;return ss&1&&e.tag!==0&&Cr(),g=e.pendingLanes,g&1?e===ql?gi++:(gi=0,ql=e):gi=0,Pn(),null}function Cr(){if(dn!==null){var e=Gd(ss),t=Dt.transition,n=Ce;try{if(Dt.transition=null,Ce=16>e?16:e,dn===null)var o=!1;else{if(e=dn,dn=null,ss=0,ve&6)throw Error(re(331));var h=ve;for(ve|=4,ae=e.current;ae!==null;){var g=ae,y=g.child;if(ae.flags&16){var c=g.deletions;if(c!==null){for(var r=0;r<c.length;r++){var l=c[r];for(ae=l;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:di(8,d,g)}var i=d.child;if(i!==null)i.return=d,ae=i;else for(;ae!==null;){d=ae;var s=d.sibling,a=d.return;if(rp(d),d===l){ae=null;break}if(s!==null){s.return=a,ae=s;break}ae=a}}}var f=g.alternate;if(f!==null){var p=f.child;if(p!==null){f.child=null;do{var u=p.sibling;p.sibling=null,p=u}while(p!==null)}}ae=g}}if(g.subtreeFlags&2064&&y!==null)y.return=g,ae=y;else e:for(;ae!==null;){if(g=ae,g.flags&2048)switch(g.tag){case 0:case 11:case 15:di(9,g,g.return)}var m=g.sibling;if(m!==null){m.return=g.return,ae=m;break e}ae=g.return}}var v=e.current;for(ae=v;ae!==null;){y=ae;var C=y.child;if(y.subtreeFlags&2064&&C!==null)C.return=y,ae=C;else e:for(y=v;ae!==null;){if(c=ae,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ps(9,c)}}catch(w){Ae(c,c.return,w)}if(c===y){ae=null;break e}var _=c.sibling;if(_!==null){_.return=c.return,ae=_;break e}ae=c.return}}if(ve=h,Pn(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(xs,e)}catch{}o=!0}return o}finally{Ce=n,Dt.transition=t}}return!1}function Uf(e,t,n){t=Er(n,t),t=$0(e,t,1),e=yn(e,t,1),t=ot(),e!==null&&(Yi(e,1,t),dt(e,t))}function Ae(e,t,n){if(e.tag===3)Uf(e,e,n);else for(;t!==null;){if(t.tag===3){Uf(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cn===null||!Cn.has(o))){e=Er(n,e),e=X0(t,e,1),t=yn(t,e,1),e=ot(),t!==null&&(Yi(t,1,e),dt(t,e));break}}t=t.return}}function Tv(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(qe&n)===n&&(je===4||je===3&&(qe&130023424)===qe&&500>Me()-Yc?zn(e,0):Xc|=n),dt(e,t)}function dp(e,t){t===0&&(e.mode&1?(t=so,so<<=1,!(so&130023424)&&(so=4194304)):t=1);var n=ot();e=tn(e,t),e!==null&&(Yi(e,t,n),dt(e,n))}function Ev(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dp(e,n)}function Ov(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(n=h.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(re(314))}o!==null&&o.delete(t),dp(e,n)}var pp;pp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ut=!1,pv(e,t,n);ut=!!(e.flags&131072)}else ut=!1,Ee&&t.flags&1048576&&v0(t,Zo,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Lo(e,t),e=t.pendingProps;var h=xr(t,et.current);yr(t,n),h=Vc(null,t,o,e,h,n);var g=zc();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(o)?(g=!0,qo(t)):g=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Fc(t),h.updater=ks,t.stateNode=h,h._reactInternals=t,jl(t,o,e,n),t=Hl(null,t,o,!0,g,n)):(t.tag=0,Ee&&g&&Dc(t),it(null,t,h,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Lo(e,t),e=t.pendingProps,h=o._init,o=h(o._payload),t.type=o,h=t.tag=Dv(o),e=Rt(o,e),h){case 0:t=Nl(null,t,o,e,n);break e;case 1:t=Lf(null,t,o,e,n);break e;case 11:t=If(null,t,o,e,n);break e;case 14:t=Mf(null,t,o,Rt(o.type,e),n);break e}throw Error(re(306,o,""))}return t;case 0:return o=t.type,h=t.pendingProps,h=t.elementType===o?h:Rt(o,h),Nl(e,t,o,h,n);case 1:return o=t.type,h=t.pendingProps,h=t.elementType===o?h:Rt(o,h),Lf(e,t,o,h,n);case 3:e:{if(Z0(t),e===null)throw Error(re(387));o=t.pendingProps,g=t.memoizedState,h=g.element,w0(e,t),es(t,o,null,n);var y=t.memoizedState;if(o=y.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=g,t.memoizedState=g,t.flags&256){h=Er(Error(re(423)),t),t=Rf(e,t,o,n,h);break e}else if(o!==h){h=Er(Error(re(424)),t),t=Rf(e,t,o,n,h);break e}else for(gt=vn(t.stateNode.containerInfo.firstChild),vt=t,Ee=!0,jt=null,n=T0(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sr(),o===h){t=nn(e,t,n);break e}it(e,t,o,n)}t=t.child}return t;case 5:return E0(t),e===null&&Ll(t),o=t.type,h=t.pendingProps,g=e!==null?e.memoizedProps:null,y=h.children,Dl(o,h)?y=null:g!==null&&Dl(o,g)&&(t.flags|=32),K0(e,t),it(e,t,y,n),t.child;case 6:return e===null&&Ll(t),null;case 13:return Q0(e,t,n);case 4:return jc(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=br(t,null,o,n):it(e,t,o,n),t.child;case 11:return o=t.type,h=t.pendingProps,h=t.elementType===o?h:Rt(o,h),If(e,t,o,h,n);case 7:return it(e,t,t.pendingProps,n),t.child;case 8:return it(e,t,t.pendingProps.children,n),t.child;case 12:return it(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,h=t.pendingProps,g=t.memoizedProps,y=h.value,xe(Qo,o._currentValue),o._currentValue=y,g!==null)if(Vt(g.value,y)){if(g.children===h.children&&!ft.current){t=nn(e,t,n);break e}}else for(g=t.child,g!==null&&(g.return=t);g!==null;){var c=g.dependencies;if(c!==null){y=g.child;for(var r=c.firstContext;r!==null;){if(r.context===o){if(g.tag===1){r=Qt(-1,n&-n),r.tag=2;var l=g.updateQueue;if(l!==null){l=l.shared;var d=l.pending;d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r}}g.lanes|=n,r=g.alternate,r!==null&&(r.lanes|=n),Rl(g.return,n,t),c.lanes|=n;break}r=r.next}}else if(g.tag===10)y=g.type===t.type?null:g.child;else if(g.tag===18){if(y=g.return,y===null)throw Error(re(341));y.lanes|=n,c=y.alternate,c!==null&&(c.lanes|=n),Rl(y,n,t),y=g.sibling}else y=g.child;if(y!==null)y.return=g;else for(y=g;y!==null;){if(y===t){y=null;break}if(g=y.sibling,g!==null){g.return=y.return,y=g;break}y=y.return}g=y}it(e,t,h.children,n),t=t.child}return t;case 9:return h=t.type,o=t.pendingProps.children,yr(t,n),h=At(h),o=o(h),t.flags|=1,it(e,t,o,n),t.child;case 14:return o=t.type,h=Rt(o,t.pendingProps),h=Rt(o.type,h),Mf(e,t,o,h,n);case 15:return Y0(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,h=t.pendingProps,h=t.elementType===o?h:Rt(o,h),Lo(e,t),t.tag=1,ht(o)?(e=!0,qo(t)):e=!1,yr(t,n),S0(t,o,h),jl(t,o,h,n),Hl(null,t,o,!0,e,n);case 19:return J0(e,t,n);case 22:return q0(e,t,n)}throw Error(re(156,t.tag))};function gp(e,t){return Vd(e,t)}function kv(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,n,o){return new kv(e,t,n,o)}function Qc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dv(e){if(typeof e=="function")return Qc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vc)return 11;if(e===yc)return 14}return 2}function wn(e,t){var n=e.alternate;return n===null?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jo(e,t,n,o,h,g){var y=2;if(o=e,typeof e=="function")Qc(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case rr:return Wn(n.children,h,g,t);case mc:y=8,h|=8;break;case al:return e=Ot(12,n,t,h|2),e.elementType=al,e.lanes=g,e;case ll:return e=Ot(13,n,t,h),e.elementType=ll,e.lanes=g,e;case cl:return e=Ot(19,n,t,h),e.elementType=cl,e.lanes=g,e;case bd:return Is(n,h,g,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xd:y=10;break e;case Sd:y=9;break e;case vc:y=11;break e;case yc:y=14;break e;case ln:y=16,o=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=Ot(y,n,t,h),t.elementType=e,t.type=o,t.lanes=g,t}function Wn(e,t,n,o){return e=Ot(7,e,o,t),e.lanes=n,e}function Is(e,t,n,o){return e=Ot(22,e,o,t),e.elementType=bd,e.lanes=n,e.stateNode={isHidden:!1},e}function ja(e,t,n){return e=Ot(6,e,null,t),e.lanes=n,e}function Ba(e,t,n){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pv(e,t,n,o,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ya(0),this.expirationTimes=ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.identifierPrefix=o,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Jc(e,t,n,o,h,g,y,c,r){return e=new Pv(e,t,n,c,r),t===1?(t=1,g===!0&&(t|=8)):t=0,g=Ot(3,null,null,t),e.current=g,g.stateNode=e,g.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fc(g),e}function Av(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nr,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function mp(e){if(!e)return En;e=e._reactInternals;e:{if(Zn(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var n=e.type;if(ht(n))return g0(e,n,t)}return t}function vp(e,t,n,o,h,g,y,c,r){return e=Jc(n,o,!0,e,h,g,y,c,r),e.context=mp(null),n=e.current,o=ot(),h=_n(n),g=Qt(o,h),g.callback=t??null,yn(n,g,h),e.current.lanes=h,Yi(e,h,o),dt(e,o),e}function Ms(e,t,n,o){var h=t.current,g=ot(),y=_n(h);return n=mp(n),t.context===null?t.context=n:t.pendingContext=n,t=Qt(g,y),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=yn(h,t,y),e!==null&&(Ht(e,h,y,g),Ao(e,h,y)),y}function ls(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function eu(e,t){Gf(e,t),(e=e.alternate)&&Gf(e,t)}function Iv(){return null}var yp=typeof reportError=="function"?reportError:function(e){console.error(e)};function tu(e){this._internalRoot=e}Ls.prototype.render=tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));Ms(e,t,null,null)};Ls.prototype.unmount=tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yn(function(){Ms(null,e,null,null)}),t[en]=null}};function Ls(e){this._internalRoot=e}Ls.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&Kd(e)}};function nu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $f(){}function Mv(e,t,n,o,h){if(h){if(typeof o=="function"){var g=o;o=function(){var l=ls(y);g.call(l)}}var y=vp(t,o,e,0,null,!1,!1,"",$f);return e._reactRootContainer=y,e[en]=y.current,Oi(e.nodeType===8?e.parentNode:e),Yn(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof o=="function"){var c=o;o=function(){var l=ls(r);c.call(l)}}var r=Jc(e,0,!1,null,null,!1,!1,"",$f);return e._reactRootContainer=r,e[en]=r.current,Oi(e.nodeType===8?e.parentNode:e),Yn(function(){Ms(t,r,n,o)}),r}function Fs(e,t,n,o,h){var g=n._reactRootContainer;if(g){var y=g;if(typeof h=="function"){var c=h;h=function(){var r=ls(y);c.call(r)}}Ms(t,y,e,h)}else y=Mv(n,t,e,h,o);return ls(y)}$d=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=oi(t.pendingLanes);n!==0&&(wc(t,n|1),dt(t,Me()),!(ve&6)&&(Or=Me()+500,Pn()))}break;case 13:Yn(function(){var o=tn(e,1);if(o!==null){var h=ot();Ht(o,e,1,h)}}),eu(e,1)}};xc=function(e){if(e.tag===13){var t=tn(e,134217728);if(t!==null){var n=ot();Ht(t,e,134217728,n)}eu(e,134217728)}};Xd=function(e){if(e.tag===13){var t=_n(e),n=tn(e,t);if(n!==null){var o=ot();Ht(n,e,t,o)}eu(e,t)}};Yd=function(){return Ce};qd=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}};Cl=function(e,t,n){switch(t){case"input":if(hl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var h=Es(o);if(!h)throw Error(re(90));Ed(o),hl(o,h)}}}break;case"textarea":kd(e,n);break;case"select":t=n.value,t!=null&&pr(e,!!n.multiple,t,!1)}};Rd=qc;Fd=Yn;var Lv={usingClientEntryPoint:!1,Events:[Ki,ar,Es,Md,Ld,qc]},Xr={findFiberByHostInstance:Nn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Rv={bundleType:Xr.bundleType,version:Xr.version,rendererPackageName:Xr.rendererPackageName,rendererConfig:Xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nd(e),e===null?null:e.stateNode},findFiberByHostInstance:Xr.findFiberByHostInstance||Iv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{xs=yo.inject(Rv),$t=yo}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lv;wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nu(t))throw Error(re(200));return Av(e,t,null,n)};wt.createRoot=function(e,t){if(!nu(e))throw Error(re(299));var n=!1,o="",h=yp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Jc(e,1,!1,null,null,n,!1,o,h),e[en]=t.current,Oi(e.nodeType===8?e.parentNode:e),new tu(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=Nd(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return Yn(e)};wt.hydrate=function(e,t,n){if(!Rs(t))throw Error(re(200));return Fs(null,e,t,!0,n)};wt.hydrateRoot=function(e,t,n){if(!nu(e))throw Error(re(405));var o=n!=null&&n.hydratedSources||null,h=!1,g="",y=yp;if(n!=null&&(n.unstable_strictMode===!0&&(h=!0),n.identifierPrefix!==void 0&&(g=n.identifierPrefix),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),t=vp(t,null,e,1,n??null,h,!1,g,y),e[en]=t.current,Oi(e),o)for(e=0;e<o.length;e++)n=o[e],h=n._getVersion,h=h(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,h]:t.mutableSourceEagerHydrationData.push(n,h);return new Ls(t)};wt.render=function(e,t,n){if(!Rs(t))throw Error(re(200));return Fs(null,e,t,!1,n)};wt.unmountComponentAtNode=function(e){if(!Rs(e))throw Error(re(40));return e._reactRootContainer?(Yn(function(){Fs(null,null,e,!1,function(){e._reactRootContainer=null,e[en]=null})}),!0):!1};wt.unstable_batchedUpdates=qc;wt.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Rs(n))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Fs(e,t,n,!1,o)};wt.version="18.2.0-next-9e3b772b8-20220608";function Cp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cp)}catch(e){console.error(e)}}Cp(),vd.exports=wt;var Qn=vd.exports;const Fv=_s(Qn);var Xf=Qn;ol.createRoot=Xf.createRoot,ol.hydrateRoot=Xf.hydrateRoot;var De={};const jv={},Bv=Object.freeze(Object.defineProperty({__proto__:null,default:jv},Symbol.toStringTag,{value:"Module"})),Na=f2(Bv);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=Na,o=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=o.document,t.jsdomImplForWrapper=Na.implForWrapper,t.nodeCanvas=Na.Canvas,t.window=o,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function c(a,f){if(this.__eventListeners[a]){var p=this.__eventListeners[a];f?p[p.indexOf(f)]=!1:t.util.array.fill(p,!1)}}function r(a,f){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var p in a)this.on(p,a[p]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(f);return this}function l(a,f){var p=(function(){f.apply(this,arguments),this.off(a,p)}).bind(this);this.on(a,p)}function d(a,f){if(arguments.length===1)for(var p in a)l.call(this,p,a[p]);else l.call(this,a,f);return this}function i(a,f){if(!this.__eventListeners)return this;if(arguments.length===0)for(a in this.__eventListeners)c.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var p in a)c.call(this,p,a[p]);else c.call(this,a,f);return this}function s(a,f){if(!this.__eventListeners)return this;var p=this.__eventListeners[a];if(!p)return this;for(var u=0,m=p.length;u<m;u++)p[u]&&p[u].call(this,f||{});return this.__eventListeners[a]=p.filter(function(v){return v!==!1}),this}t.Observable={fire:s,on:r,once:d,off:i}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var c=0,r=arguments.length;c<r;c++)this._onObjectAdded(arguments[c]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(c,r,l){var d=this._objects;return l?d[r]=c:d.splice(r,0,c),this._onObjectAdded&&this._onObjectAdded(c),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var c=this._objects,r,l=!1,d=0,i=arguments.length;d<i;d++)r=c.indexOf(arguments[d]),r!==-1&&(l=!0,c.splice(r,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[d]));return this.renderOnAddRemove&&l&&this.requestRenderAll(),this},forEachObject:function(c,r){for(var l=this.getObjects(),d=0,i=l.length;d<i;d++)c.call(r,l[d],d,l);return this},getObjects:function(c){return typeof c>"u"?this._objects.concat():this._objects.filter(function(r){return r.type===c})},item:function(c){return this._objects[c]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(c,r){return this._objects.indexOf(c)>-1?!0:r?this._objects.some(function(l){return typeof l.contains=="function"&&l.contains(c,!0)}):!1},complexity:function(){return this._objects.reduce(function(c,r){return c+=r.complexity?r.complexity():0,c},0)}},t.CommonMethods={_setOptions:function(c){for(var r in c)this.set(r,c[r])},_initGradient:function(c,r){c&&c.colorStops&&!(c instanceof t.Gradient)&&this.set(r,new t.Gradient(c))},_initPattern:function(c,r,l){c&&c.source&&!(c instanceof t.Pattern)?this.set(r,new t.Pattern(c,l)):l&&l()},_setObject:function(c){for(var r in c)this._set(r,c[r])},set:function(c,r){return typeof c=="object"?this._setObject(c):this._set(c,r),this},_set:function(c,r){this[c]=r},toggle:function(c){var r=this.get(c);return typeof r=="boolean"&&this.set(c,!r),this},get:function(c){return this[c]}},function(c){var r=Math.sqrt,l=Math.atan2,d=Math.pow,i=Math.PI/180,s=Math.PI/2;t.util={cos:function(a){if(a===0)return 1;a<0&&(a=-a);var f=a/s;switch(f){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(a===0)return 0;var f=a/s,p=1;switch(a<0&&(p=-1),f){case 1:return p;case 2:return 0;case 3:return-p}return Math.sin(a)},removeFromArray:function(a,f){var p=a.indexOf(f);return p!==-1&&a.splice(p,1),a},getRandomInt:function(a,f){return Math.floor(Math.random()*(f-a+1))+a},degreesToRadians:function(a){return a*i},radiansToDegrees:function(a){return a/i},rotatePoint:function(a,f,p){var u=new t.Point(a.x-f.x,a.y-f.y),m=t.util.rotateVector(u,p);return new t.Point(m.x,m.y).addEquals(f)},rotateVector:function(a,f){var p=t.util.sin(f),u=t.util.cos(f),m=a.x*u-a.y*p,v=a.x*p+a.y*u;return{x:m,y:v}},createVector:function(a,f){return new t.Point(f.x-a.x,f.y-a.y)},calcAngleBetweenVectors:function(a,f){return Math.acos((a.x*f.x+a.y*f.y)/(Math.hypot(a.x,a.y)*Math.hypot(f.x,f.y)))},getHatVector:function(a){return new t.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,f,p){var u=t.util.createVector(a,f),m=t.util.createVector(a,p),v=t.util.calcAngleBetweenVectors(u,m),C=t.util.calcAngleBetweenVectors(t.util.rotateVector(u,v),m),_=v*(C===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(u,_)),angle:v}},projectStrokeOnPoints:function(a,f,p){var u=[],m=f.strokeWidth/2,v=f.strokeUniform?new t.Point(1/f.scaleX,1/f.scaleY):new t.Point(1,1),C=function(_){var w=m/Math.hypot(_.x,_.y);return new t.Point(_.x*w*v.x,_.y*w*v.y)};return a.length<=1||a.forEach(function(_,w){var x=new t.Point(_.x,_.y),T,S;w===0?(S=a[w+1],T=p?C(t.util.createVector(S,x)).addEquals(x):a[a.length-1]):w===a.length-1?(T=a[w-1],S=p?C(t.util.createVector(T,x)).addEquals(x):a[0]):(T=a[w-1],S=a[w+1]);var A=t.util.getBisector(x,T,S),I=A.vector,R=A.angle,B,V;if(f.strokeLineJoin==="miter"&&(B=-m/Math.sin(R/2),V=new t.Point(I.x*B*v.x,I.y*B*v.y),Math.hypot(V.x,V.y)/m<=f.strokeMiterLimit)){u.push(x.add(V)),u.push(x.subtract(V));return}B=-m*Math.SQRT2,V=new t.Point(I.x*B*v.x,I.y*B*v.y),u.push(x.add(V)),u.push(x.subtract(V))}),u},transformPoint:function(a,f,p){return p?new t.Point(f[0]*a.x+f[2]*a.y,f[1]*a.x+f[3]*a.y):new t.Point(f[0]*a.x+f[2]*a.y+f[4],f[1]*a.x+f[3]*a.y+f[5])},makeBoundingBoxFromPoints:function(a,f){if(f)for(var p=0;p<a.length;p++)a[p]=t.util.transformPoint(a[p],f);var u=[a[0].x,a[1].x,a[2].x,a[3].x],m=t.util.array.min(u),v=t.util.array.max(u),C=v-m,_=[a[0].y,a[1].y,a[2].y,a[3].y],w=t.util.array.min(_),x=t.util.array.max(_),T=x-w;return{left:m,top:w,width:C,height:T}},invertTransform:function(a){var f=1/(a[0]*a[3]-a[1]*a[2]),p=[f*a[3],-f*a[1],-f*a[2],f*a[0]],u=t.util.transformPoint({x:a[4],y:a[5]},p,!0);return p[4]=-u.x,p[5]=-u.y,p},toFixed:function(a,f){return parseFloat(Number(a).toFixed(f))},parseUnit:function(a,f){var p=/\D{0,2}$/.exec(a),u=parseFloat(a);switch(f||(f=t.Text.DEFAULT_SVG_FONT_SIZE),p[0]){case"mm":return u*t.DPI/25.4;case"cm":return u*t.DPI/2.54;case"in":return u*t.DPI;case"pt":return u*t.DPI/72;case"pc":return u*t.DPI/72*12;case"em":return u*f;default:return u}},falseFunction:function(){return!1},getKlass:function(a,f){return a=t.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),t.util.resolveNamespace(f)[a]},getSvgAttributes:function(a){var f=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":f=f.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":f=f.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":f=f.concat(["offset","stop-color","stop-opacity"]);break}return f},resolveNamespace:function(a){if(!a)return t;var f=a.split("."),p=f.length,u,m=c||t.window;for(u=0;u<p;++u)m=m[f[u]];return m},loadImage:function(a,f,p,u){if(!a){f&&f.call(p,a);return}var m=t.util.createImage(),v=function(){f&&f.call(p,m,!1),m=m.onload=m.onerror=null};m.onload=v,m.onerror=function(){t.log("Error loading "+m.src),f&&f.call(p,null,!0),m=m.onload=m.onerror=null},a.indexOf("data")!==0&&u!==void 0&&u!==null&&(m.crossOrigin=u),a.substring(0,14)==="data:image/svg"&&(m.onload=null,t.util.loadImageInDom(m,v)),m.src=a},loadImageInDom:function(a,f){var p=t.document.createElement("div");p.style.width=p.style.height="1px",p.style.left=p.style.top="-100%",p.style.position="absolute",p.appendChild(a),t.document.querySelector("body").appendChild(p),a.onload=function(){f(),p.parentNode.removeChild(p),p=null}},enlivenObjects:function(a,f,p,u){a=a||[];var m=[],v=0,C=a.length;function _(){++v===C&&f&&f(m.filter(function(w){return w}))}if(!C){f&&f(m);return}a.forEach(function(w,x){if(!w||!w.type){_();return}var T=t.util.getKlass(w.type,p);T.fromObject(w,function(S,A){A||(m[x]=S),u&&u(w,S,A),_()})})},enlivenObjectEnlivables:function(a,f,p){var u=t.Object.ENLIVEN_PROPS.filter(function(m){return!!a[m]});t.util.enlivenObjects(u.map(function(m){return a[m]}),function(m){var v={};u.forEach(function(C,_){v[C]=m[_],f&&(f[C]=m[_])}),p&&p(v)})},enlivenPatterns:function(a,f){a=a||[];function p(){++m===v&&f&&f(u)}var u=[],m=0,v=a.length;if(!v){f&&f(u);return}a.forEach(function(C,_){C&&C.source?new t.Pattern(C,function(w){u[_]=w,p()}):(u[_]=C,p())})},groupSVGElements:function(a,f,p){var u;return a&&a.length===1?(typeof p<"u"&&(a[0].sourcePath=p),a[0]):(f&&(f.width&&f.height?f.centerPoint={x:f.width/2,y:f.height/2}:(delete f.width,delete f.height)),u=new t.Group(a,f),typeof p<"u"&&(u.sourcePath=p),u)},populateWithProperties:function(a,f,p){if(p&&Array.isArray(p))for(var u=0,m=p.length;u<m;u++)p[u]in a&&(f[p[u]]=a[p[u]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(a){var f=t.util.createCanvasElement();return f.width=a.width,f.height=a.height,f.getContext("2d").drawImage(a,0,0),f},toDataURL:function(a,f,p){return a.toDataURL("image/"+f,p)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(a,f,p){return[a[0]*f[0]+a[2]*f[1],a[1]*f[0]+a[3]*f[1],a[0]*f[2]+a[2]*f[3],a[1]*f[2]+a[3]*f[3],p?0:a[0]*f[4]+a[2]*f[5]+a[4],p?0:a[1]*f[4]+a[3]*f[5]+a[5]]},qrDecompose:function(a){var f=l(a[1],a[0]),p=d(a[0],2)+d(a[1],2),u=r(p),m=(a[0]*a[3]-a[2]*a[1])/u,v=l(a[0]*a[2]+a[1]*a[3],p);return{angle:f/i,scaleX:u,scaleY:m,skewX:v/i,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return t.iMatrix.concat();var f=t.util.degreesToRadians(a.angle),p=t.util.cos(f),u=t.util.sin(f);return[p,u,-u,p,0,0]},calcDimensionsMatrix:function(a){var f=typeof a.scaleX>"u"?1:a.scaleX,p=typeof a.scaleY>"u"?1:a.scaleY,u=[a.flipX?-f:f,0,0,a.flipY?-p:p,0,0],m=t.util.multiplyTransformMatrices,v=t.util.degreesToRadians;return a.skewX&&(u=m(u,[1,0,Math.tan(v(a.skewX)),1],!0)),a.skewY&&(u=m(u,[1,Math.tan(v(a.skewY)),0,1],!0)),u},composeMatrix:function(a){var f=[1,0,0,1,a.translateX||0,a.translateY||0],p=t.util.multiplyTransformMatrices;return a.angle&&(f=p(f,t.util.calcRotateMatrix(a))),(a.scaleX!==1||a.scaleY!==1||a.skewX||a.skewY||a.flipX||a.flipY)&&(f=p(f,t.util.calcDimensionsMatrix(a))),f},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,f,p,u){u>0&&(f>u?f-=u:f=0,p>u?p-=u:p=0);var m=!0,v,C,_=a.getImageData(f,p,u*2||1,u*2||1),w=_.data.length;for(v=3;v<w&&(C=_.data[v],m=C<=0,m!==!1);v+=4);return _=null,m},parsePreserveAspectRatioAttribute:function(a){var f="meet",p="Mid",u="Mid",m=a.split(" "),v;return m&&m.length&&(f=m.pop(),f!=="meet"&&f!=="slice"?(v=f,f="meet"):m.length&&(v=m.pop())),p=v!=="none"?v.slice(1,4):"none",u=v!=="none"?v.slice(5,8):"none",{meetOrSlice:f,alignX:p,alignY:u}},clearFabricFontCache:function(a){a=(a||"").toLowerCase(),a?t.charWidthsCache[a]&&delete t.charWidthsCache[a]:t.charWidthsCache={}},limitDimsByArea:function(a,f){var p=Math.sqrt(f*a),u=Math.floor(f/p);return{x:Math.floor(p),y:u}},capValue:function(a,f,p){return Math.max(a,Math.min(f,p))},findScaleToFit:function(a,f){return Math.min(f.width/a.width,f.height/a.height)},findScaleToCover:function(a,f){return Math.max(f.width/a.width,f.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(f){return t.util.toFixed(f,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,f){var p=t.util.invertTransform(f),u=t.util.multiplyTransformMatrices(p,a.calcOwnMatrix());t.util.applyTransformToObject(a,u)},addTransformToObject:function(a,f){t.util.applyTransformToObject(a,t.util.multiplyTransformMatrices(f,a.calcOwnMatrix()))},applyTransformToObject:function(a,f){var p=t.util.qrDecompose(f),u=new t.Point(p.translateX,p.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",p.scaleX),a.set("scaleY",p.scaleY),a.skewX=p.skewX,a.skewY=p.skewY,a.angle=p.angle,a.setPositionByOrigin(u,"center","center")},sizeAfterTransform:function(a,f,p){var u=a/2,m=f/2,v=[{x:-u,y:-m},{x:u,y:-m},{x:-u,y:m},{x:u,y:m}],C=t.util.calcDimensionsMatrix(p),_=t.util.makeBoundingBoxFromPoints(v,C);return{x:_.width,y:_.height}},mergeClipPaths:function(a,f){var p=a,u=f;p.inverted&&!u.inverted&&(p=f,u=a),t.util.applyTransformToObject(u,t.util.multiplyTransformMatrices(t.util.invertTransform(p.calcTransformMatrix()),u.calcTransformMatrix()));var m=p.inverted&&u.inverted;return m&&(p.inverted=u.inverted=!1),new t.Group([p],{clipPath:u,inverted:m})},hasStyleChanged:function(a,f,p){return p=p||!1,a.fill!==f.fill||a.stroke!==f.stroke||a.strokeWidth!==f.strokeWidth||a.fontSize!==f.fontSize||a.fontFamily!==f.fontFamily||a.fontWeight!==f.fontWeight||a.fontStyle!==f.fontStyle||a.textBackgroundColor!==f.textBackgroundColor||a.deltaY!==f.deltaY||p&&(a.overline!==f.overline||a.underline!==f.underline||a.linethrough!==f.linethrough)},stylesToArray:function(p,f){for(var p=t.util.object.clone(p,!0),u=f.split(`
`),m=-1,v={},C=[],_=0;_<u.length;_++){if(!p[_]){m+=u[_].length;continue}for(var w=0;w<u[_].length;w++){m++;var x=p[_][w];if(x&&Object.keys(x).length>0){var T=t.util.hasStyleChanged(v,x,!0);T?C.push({start:m,end:m+1,style:x}):C[C.length-1].end++}v=x||{}}}return C},stylesFromArray:function(a,f){if(!Array.isArray(a))return a;for(var p=f.split(`
`),u=-1,m=0,v={},C=0;C<p.length;C++)for(var _=0;_<p[C].length;_++)u++,a[m]&&a[m].start<=u&&u<a[m].end&&(v[C]=v[C]||{},v[C][_]=Object.assign({},a[m].style),u===a[m].end-1&&m++);return v}}}(e),function(){var c=Array.prototype.join,r={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},l={m:"l",M:"L"};function d(b,O,D,P,z,k,E,L,F,Y,W){var Z=t.util.cos(b),te=t.util.sin(b),ie=t.util.cos(O),G=t.util.sin(O),j=D*z*ie-P*k*G+E,K=P*z*ie+D*k*G+L,Q=Y+F*(-D*z*te-P*k*Z),X=W+F*(-P*z*te+D*k*Z),J=j+F*(D*z*G+P*k*ie),se=K+F*(P*z*G-D*k*ie);return["C",Q,X,J,se,j,K]}function i(b,O,D,P,z,k,E){var L=Math.PI,F=E*L/180,Y=t.util.sin(F),W=t.util.cos(F),Z=0,te=0;D=Math.abs(D),P=Math.abs(P);var ie=-W*b*.5-Y*O*.5,G=-W*O*.5+Y*b*.5,j=D*D,K=P*P,Q=G*G,X=ie*ie,J=j*K-j*Q-K*X,se=0;if(J<0){var he=Math.sqrt(1-J/(j*K));D*=he,P*=he}else se=(z===k?-1:1)*Math.sqrt(J/(j*Q+K*X));var le=se*D*G/P,q=-se*P*ie/D,ue=W*le-Y*q+b*.5,de=Y*le+W*q+O*.5,me=s(1,0,(ie-le)/D,(G-q)/P),Te=s((ie-le)/D,(G-q)/P,(-ie-le)/D,(-G-q)/P);k===0&&Te>0?Te-=2*L:k===1&&Te<0&&(Te+=2*L);for(var ye=Math.ceil(Math.abs(Te/L*2)),nt=[],Le=Te/ye,In=8/3*Math.sin(Le/4)*Math.sin(Le/4)/Math.sin(Le/2),Nr=me+Le,zt=0;zt<ye;zt++)nt[zt]=d(me,Nr,W,Y,D,P,ue,de,In,Z,te),Z=nt[zt][5],te=nt[zt][6],me=Nr,Nr+=Le;return nt}function s(b,O,D,P){var z=Math.atan2(O,b),k=Math.atan2(P,D);return k>=z?k-z:2*Math.PI-(z-k)}function a(b,O,D,P,z,k,E,L){var F;if(t.cachesBoundsOfCurve&&(F=c.call(arguments),t.boundsOfCurveCache[F]))return t.boundsOfCurveCache[F];var Y=Math.sqrt,W=Math.min,Z=Math.max,te=Math.abs,ie=[],G=[[],[]],j,K,Q,X,J,se,he,le;K=6*b-12*D+6*z,j=-3*b+9*D-9*z+3*E,Q=3*D-3*b;for(var q=0;q<2;++q){if(q>0&&(K=6*O-12*P+6*k,j=-3*O+9*P-9*k+3*L,Q=3*P-3*O),te(j)<1e-12){if(te(K)<1e-12)continue;X=-Q/K,0<X&&X<1&&ie.push(X);continue}he=K*K-4*Q*j,!(he<0)&&(le=Y(he),J=(-K+le)/(2*j),0<J&&J<1&&ie.push(J),se=(-K-le)/(2*j),0<se&&se<1&&ie.push(se))}for(var ue,de,me=ie.length,Te=me,ye;me--;)X=ie[me],ye=1-X,ue=ye*ye*ye*b+3*ye*ye*X*D+3*ye*X*X*z+X*X*X*E,G[0][me]=ue,de=ye*ye*ye*O+3*ye*ye*X*P+3*ye*X*X*k+X*X*X*L,G[1][me]=de;G[0][Te]=b,G[1][Te]=O,G[0][Te+1]=E,G[1][Te+1]=L;var nt=[{x:W.apply(null,G[0]),y:W.apply(null,G[1])},{x:Z.apply(null,G[0]),y:Z.apply(null,G[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[F]=nt),nt}function f(b,O,D){for(var P=D[1],z=D[2],k=D[3],E=D[4],L=D[5],F=D[6],Y=D[7],W=i(F-b,Y-O,P,z,E,L,k),Z=0,te=W.length;Z<te;Z++)W[Z][1]+=b,W[Z][2]+=O,W[Z][3]+=b,W[Z][4]+=O,W[Z][5]+=b,W[Z][6]+=O;return W}function p(b){var O=0,D=0,P=b.length,z=0,k=0,E,L,F,Y=[],W,Z,te;for(L=0;L<P;++L){switch(F=!1,E=b[L].slice(0),E[0]){case"l":E[0]="L",E[1]+=O,E[2]+=D;case"L":O=E[1],D=E[2];break;case"h":E[1]+=O;case"H":E[0]="L",E[2]=D,O=E[1];break;case"v":E[1]+=D;case"V":E[0]="L",D=E[1],E[1]=O,E[2]=D;break;case"m":E[0]="M",E[1]+=O,E[2]+=D;case"M":O=E[1],D=E[2],z=E[1],k=E[2];break;case"c":E[0]="C",E[1]+=O,E[2]+=D,E[3]+=O,E[4]+=D,E[5]+=O,E[6]+=D;case"C":Z=E[3],te=E[4],O=E[5],D=E[6];break;case"s":E[0]="S",E[1]+=O,E[2]+=D,E[3]+=O,E[4]+=D;case"S":W==="C"?(Z=2*O-Z,te=2*D-te):(Z=O,te=D),O=E[3],D=E[4],E[0]="C",E[5]=E[3],E[6]=E[4],E[3]=E[1],E[4]=E[2],E[1]=Z,E[2]=te,Z=E[3],te=E[4];break;case"q":E[0]="Q",E[1]+=O,E[2]+=D,E[3]+=O,E[4]+=D;case"Q":Z=E[1],te=E[2],O=E[3],D=E[4];break;case"t":E[0]="T",E[1]+=O,E[2]+=D;case"T":W==="Q"?(Z=2*O-Z,te=2*D-te):(Z=O,te=D),E[0]="Q",O=E[1],D=E[2],E[1]=Z,E[2]=te,E[3]=O,E[4]=D;break;case"a":E[0]="A",E[6]+=O,E[7]+=D;case"A":F=!0,Y=Y.concat(f(O,D,E)),O=E[6],D=E[7];break;case"z":case"Z":O=z,D=k;break}F||Y.push(E),W=E[0]}return Y}function u(b,O,D,P){return Math.sqrt((D-b)*(D-b)+(P-O)*(P-O))}function m(b){return b*b*b}function v(b){return 3*b*b*(1-b)}function C(b){return 3*b*(1-b)*(1-b)}function _(b){return(1-b)*(1-b)*(1-b)}function w(b,O,D,P,z,k,E,L){return function(F){var Y=m(F),W=v(F),Z=C(F),te=_(F);return{x:E*Y+z*W+D*Z+b*te,y:L*Y+k*W+P*Z+O*te}}}function x(b,O,D,P,z,k,E,L){return function(F){var Y=1-F,W=3*Y*Y*(D-b)+6*Y*F*(z-D)+3*F*F*(E-z),Z=3*Y*Y*(P-O)+6*Y*F*(k-P)+3*F*F*(L-k);return Math.atan2(Z,W)}}function T(b){return b*b}function S(b){return 2*b*(1-b)}function A(b){return(1-b)*(1-b)}function I(b,O,D,P,z,k){return function(E){var L=T(E),F=S(E),Y=A(E);return{x:z*L+D*F+b*Y,y:k*L+P*F+O*Y}}}function R(b,O,D,P,z,k){return function(E){var L=1-E,F=2*L*(D-b)+2*E*(z-D),Y=2*L*(P-O)+2*E*(k-P);return Math.atan2(Y,F)}}function B(b,O,D){var P={x:O,y:D},z,k=0,E;for(E=1;E<=100;E+=1)z=b(E/100),k+=u(P.x,P.y,z.x,z.y),P=z;return k}function V(b,O){for(var D=0,P=0,z=b.iterator,k={x:b.x,y:b.y},E,L,F=.01,Y=b.angleFinder,W;P<O&&F>1e-4;)E=z(D),W=D,L=u(k.x,k.y,E.x,E.y),L+P>O?(D-=F,F/=2):(k=E,D+=F,P+=L);return E.angle=Y(W),E}function H(b){for(var O=0,D=b.length,P,z=0,k=0,E=0,L=0,F=[],Y,W,Z,te=0;te<D;te++){switch(P=b[te],W={x:z,y:k,command:P[0]},P[0]){case"M":W.length=0,E=z=P[1],L=k=P[2];break;case"L":W.length=u(z,k,P[1],P[2]),z=P[1],k=P[2];break;case"C":Y=w(z,k,P[1],P[2],P[3],P[4],P[5],P[6]),Z=x(z,k,P[1],P[2],P[3],P[4],P[5],P[6]),W.iterator=Y,W.angleFinder=Z,W.length=B(Y,z,k),z=P[5],k=P[6];break;case"Q":Y=I(z,k,P[1],P[2],P[3],P[4]),Z=R(z,k,P[1],P[2],P[3],P[4]),W.iterator=Y,W.angleFinder=Z,W.length=B(Y,z,k),z=P[3],k=P[4];break;case"Z":case"z":W.destX=E,W.destY=L,W.length=u(z,k,E,L),z=E,k=L;break}O+=W.length,F.push(W)}return F.push({length:O,x:z,y:k}),F}function U(b,O,D){D||(D=H(b));for(var P=0;O-D[P].length>0&&P<D.length-2;)O-=D[P].length,P++;var z=D[P],k=O/z.length,E=z.command,L=b[P],F;switch(E){case"M":return{x:z.x,y:z.y,angle:0};case"Z":case"z":return F=new t.Point(z.x,z.y).lerp(new t.Point(z.destX,z.destY),k),F.angle=Math.atan2(z.destY-z.y,z.destX-z.x),F;case"L":return F=new t.Point(z.x,z.y).lerp(new t.Point(L[1],L[2]),k),F.angle=Math.atan2(L[2]-z.y,L[1]-z.x),F;case"C":return V(z,O);case"Q":return V(z,O)}}function ne(b){var O=[],D=[],P,z,k=t.rePathCommand,E="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",L="("+E+")"+t.commaWsp,F="([01])"+t.commaWsp+"?",Y=L+"?"+L+"?"+L+F+F+L+"?("+E+")",W=new RegExp(Y,"g"),Z,te,ie;if(!b||!b.match)return O;ie=b.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var G=0,j,K=ie.length;G<K;G++){P=ie[G],te=P.slice(1).trim(),D.length=0;var Q=P.charAt(0);if(j=[Q],Q.toLowerCase()==="a")for(var X;X=W.exec(te);)for(var J=1;J<X.length;J++)D.push(X[J]);else for(;Z=k.exec(te);)D.push(Z[0]);for(var J=0,se=D.length;J<se;J++)z=parseFloat(D[J]),isNaN(z)||j.push(z);var he=r[Q.toLowerCase()],le=l[Q]||Q;if(j.length-1>he)for(var q=1,ue=j.length;q<ue;q+=he)O.push([Q].concat(j.slice(q,q+he))),Q=le;else O.push(j)}return O}function ee(b,O){var D=[],P,z=new t.Point(b[0].x,b[0].y),k=new t.Point(b[1].x,b[1].y),E=b.length,L=1,F=0,Y=E>2;for(O=O||0,Y&&(L=b[2].x<k.x?-1:b[2].x===k.x?0:1,F=b[2].y<k.y?-1:b[2].y===k.y?0:1),D.push(["M",z.x-L*O,z.y-F*O]),P=1;P<E;P++){if(!z.eq(k)){var W=z.midPointFrom(k);D.push(["Q",z.x,z.y,W.x,W.y])}z=b[P],P+1<b.length&&(k=b[P+1])}return Y&&(L=z.x>b[P-2].x?1:z.x===b[P-2].x?0:-1,F=z.y>b[P-2].y?1:z.y===b[P-2].y?0:-1),D.push(["L",z.x+L*O,z.y+F*O]),D}function N(b,O,D){return D&&(O=t.util.multiplyTransformMatrices(O,[1,0,0,1,-D.x,-D.y])),b.map(function(P){for(var z=P.slice(0),k={},E=1;E<P.length-1;E+=2)k.x=P[E],k.y=P[E+1],k=t.util.transformPoint(k,O),z[E]=k.x,z[E+1]=k.y;return z})}t.util.joinPath=function(b){return b.map(function(O){return O.join(" ")}).join(" ")},t.util.parsePath=ne,t.util.makePathSimpler=p,t.util.getSmoothPathFromPoints=ee,t.util.getPathSegmentsInfo=H,t.util.getBoundsOfCurve=a,t.util.getPointOnPath=U,t.util.transformPath=N}(),function(){var c=Array.prototype.slice;function r(a,f){for(var p=c.call(arguments,2),u=[],m=0,v=a.length;m<v;m++)u[m]=p.length?a[m][f].apply(a[m],p):a[m][f].call(a[m]);return u}function l(a,f){return s(a,f,function(p,u){return p>=u})}function d(a,f){return s(a,f,function(p,u){return p<u})}function i(a,f){for(var p=a.length;p--;)a[p]=f;return a}function s(a,f,p){if(!(!a||a.length===0)){var u=a.length-1,m=f?a[u][f]:a[u];if(f)for(;u--;)p(a[u][f],m)&&(m=a[u][f]);else for(;u--;)p(a[u],m)&&(m=a[u]);return m}}t.util.array={fill:i,invoke:r,min:d,max:l}}(),function(){function c(l,d,i){if(i)if(!t.isLikelyNode&&d instanceof Element)l=d;else if(d instanceof Array){l=[];for(var s=0,a=d.length;s<a;s++)l[s]=c({},d[s],i)}else if(d&&typeof d=="object")for(var f in d)f==="canvas"||f==="group"?l[f]=null:d.hasOwnProperty(f)&&(l[f]=c({},d[f],i));else l=d;else for(var f in d)l[f]=d[f];return l}function r(l,d){return c({},l,d)}t.util.object={extend:c,clone:r},t.util.object.extend(t.util,t.Observable)}(),function(){function c(s){return s.replace(/-+(.)?/g,function(a,f){return f?f.toUpperCase():""})}function r(s,a){return s.charAt(0).toUpperCase()+(a?s.slice(1):s.slice(1).toLowerCase())}function l(s){return s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(s){var a=0,f,p=[];for(a=0,f;a<s.length;a++)(f=i(s,a))!==!1&&p.push(f);return p}function i(s,a){var f=s.charCodeAt(a);if(isNaN(f))return"";if(f<55296||f>57343)return s.charAt(a);if(55296<=f&&f<=56319){if(s.length<=a+1)throw"High surrogate without following low surrogate";var p=s.charCodeAt(a+1);if(56320>p||p>57343)throw"High surrogate without following low surrogate";return s.charAt(a)+s.charAt(a+1)}if(a===0)throw"Low surrogate without preceding high surrogate";var u=s.charCodeAt(a-1);if(55296>u||u>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:c,capitalize:r,escapeXml:l,graphemeSplit:d}}(),function(){var c=Array.prototype.slice,r=function(){},l=function(){for(var f in{toString:1})if(f==="toString")return!1;return!0}(),d=function(f,p,u){for(var m in p)m in f.prototype&&typeof f.prototype[m]=="function"&&(p[m]+"").indexOf("callSuper")>-1?f.prototype[m]=function(v){return function(){var C=this.constructor.superclass;this.constructor.superclass=u;var _=p[v].apply(this,arguments);if(this.constructor.superclass=C,v!=="initialize")return _}}(m):f.prototype[m]=p[m],l&&(p.toString!==Object.prototype.toString&&(f.prototype.toString=p.toString),p.valueOf!==Object.prototype.valueOf&&(f.prototype.valueOf=p.valueOf))};function i(){}function s(f){for(var p=null,u=this;u.constructor.superclass;){var m=u.constructor.superclass.prototype[f];if(u[f]!==m){p=m;break}u=u.constructor.superclass.prototype}return p?arguments.length>1?p.apply(this,c.call(arguments,1)):p.call(this):console.log("tried to callSuper "+f+", method not found in prototype chain",this)}function a(){var f=null,p=c.call(arguments,0);typeof p[0]=="function"&&(f=p.shift());function u(){this.initialize.apply(this,arguments)}u.superclass=f,u.subclasses=[],f&&(i.prototype=f.prototype,u.prototype=new i,f.subclasses.push(u));for(var m=0,v=p.length;m<v;m++)d(u,p[m],f);return u.prototype.initialize||(u.prototype.initialize=r),u.prototype.constructor=u,u.prototype.callSuper=s,u}t.util.createClass=a}(),function(){var c=!!t.document.createElement("div").attachEvent,r=["touchstart","touchmove","touchend"];t.util.addListener=function(d,i,s,a){d&&d.addEventListener(i,s,c?!1:a)},t.util.removeListener=function(d,i,s,a){d&&d.removeEventListener(i,s,c?!1:a)};function l(d){var i=d.changedTouches;return i&&i[0]?i[0]:d}t.util.getPointer=function(d){var i=d.target,s=t.util.getScrollLeftTop(i),a=l(d);return{x:a.clientX+s.left,y:a.clientY+s.top}},t.util.isTouchEvent=function(d){return r.indexOf(d.type)>-1||d.pointerType==="touch"}}(),function(){function c(a,f){var p=a.style;if(!p)return a;if(typeof f=="string")return a.style.cssText+=";"+f,f.indexOf("opacity")>-1?s(a,f.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var u in f)if(u==="opacity")s(a,f[u]);else{var m=u==="float"||u==="cssFloat"?typeof p.styleFloat>"u"?"cssFloat":"styleFloat":u;p.setProperty(m,f[u])}return a}var r=t.document.createElement("div"),l=typeof r.style.opacity=="string",d=typeof r.style.filter=="string",i=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,s=function(a){return a};l?s=function(a,f){return a.style.opacity=f,a}:d&&(s=function(a,f){var p=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(p.zoom=1),i.test(p.filter)?(f=f>=.9999?"":"alpha(opacity="+f*100+")",p.filter=p.filter.replace(i,f)):p.filter+=" alpha(opacity="+f*100+")",a}),t.util.setStyle=c}(),function(){var c=Array.prototype.slice;function r(_){return typeof _=="string"?t.document.getElementById(_):_}var l,d=function(_){return c.call(_,0)};try{l=d(t.document.childNodes)instanceof Array}catch{}l||(d=function(_){for(var w=new Array(_.length),x=_.length;x--;)w[x]=_[x];return w});function i(_,w){var x=t.document.createElement(_);for(var T in w)T==="class"?x.className=w[T]:T==="for"?x.htmlFor=w[T]:x.setAttribute(T,w[T]);return x}function s(_,w){_&&(" "+_.className+" ").indexOf(" "+w+" ")===-1&&(_.className+=(_.className?" ":"")+w)}function a(_,w,x){return typeof w=="string"&&(w=i(w,x)),_.parentNode&&_.parentNode.replaceChild(w,_),w.appendChild(_),w}function f(_){for(var w=0,x=0,T=t.document.documentElement,S=t.document.body||{scrollLeft:0,scrollTop:0};_&&(_.parentNode||_.host)&&(_=_.parentNode||_.host,_===t.document?(w=S.scrollLeft||T.scrollLeft||0,x=S.scrollTop||T.scrollTop||0):(w+=_.scrollLeft||0,x+=_.scrollTop||0),!(_.nodeType===1&&_.style.position==="fixed")););return{left:w,top:x}}function p(_){var w,x=_&&_.ownerDocument,T={left:0,top:0},S={left:0,top:0},A,I={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!x)return S;for(var R in I)S[I[R]]+=parseInt(u(_,R),10)||0;return w=x.documentElement,typeof _.getBoundingClientRect<"u"&&(T=_.getBoundingClientRect()),A=f(_),{left:T.left+A.left-(w.clientLeft||0)+S.left,top:T.top+A.top-(w.clientTop||0)+S.top}}var u;t.document.defaultView&&t.document.defaultView.getComputedStyle?u=function(_,w){var x=t.document.defaultView.getComputedStyle(_,null);return x?x[w]:void 0}:u=function(_,w){var x=_.style[w];return!x&&_.currentStyle&&(x=_.currentStyle[w]),x},function(){var _=t.document.documentElement.style,w="userSelect"in _?"userSelect":"MozUserSelect"in _?"MozUserSelect":"WebkitUserSelect"in _?"WebkitUserSelect":"KhtmlUserSelect"in _?"KhtmlUserSelect":"";function x(S){return typeof S.onselectstart<"u"&&(S.onselectstart=t.util.falseFunction),w?S.style[w]="none":typeof S.unselectable=="string"&&(S.unselectable="on"),S}function T(S){return typeof S.onselectstart<"u"&&(S.onselectstart=null),w?S.style[w]="":typeof S.unselectable=="string"&&(S.unselectable=""),S}t.util.makeElementUnselectable=x,t.util.makeElementSelectable=T}();function m(_){var w=t.jsdomImplForWrapper(_);return w._canvas||w._image}function v(_){if(t.isLikelyNode){var w=t.jsdomImplForWrapper(_);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function C(_,w){_.imageSmoothingEnabled=_.imageSmoothingEnabled||_.webkitImageSmoothingEnabled||_.mozImageSmoothingEnabled||_.msImageSmoothingEnabled||_.oImageSmoothingEnabled,_.imageSmoothingEnabled=w}t.util.setImageSmoothing=C,t.util.getById=r,t.util.toArray=d,t.util.addClass=s,t.util.makeElement=i,t.util.wrapElement=a,t.util.getScrollLeftTop=f,t.util.getElementOffset=p,t.util.getNodeCanvas=m,t.util.cleanUpJsdomNode=v}(),function(){function c(d,i){return d+(/\?/.test(d)?"&":"?")+i}function r(){}function l(d,i){i||(i={});var s=i.method?i.method.toUpperCase():"GET",a=i.onComplete||function(){},f=new t.window.XMLHttpRequest,p=i.body||i.parameters;return f.onreadystatechange=function(){f.readyState===4&&(a(f),f.onreadystatechange=r)},s==="GET"&&(p=null,typeof i.parameters=="string"&&(d=c(d,i.parameters))),f.open(s,d,!0),(s==="POST"||s==="PUT")&&f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(p),f}t.util.request=l}(),t.log=console.log,t.warn=console.warn,function(){var c=t.util.object.extend,r=t.util.object.clone,l=[];t.util.object.extend(l,{cancelAll:function(){var m=this.splice(0);return m.forEach(function(v){v.cancel()}),m},cancelByCanvas:function(m){if(!m)return[];var v=this.filter(function(C){return typeof C.target=="object"&&C.target.canvas===m});return v.forEach(function(C){C.cancel()}),v},cancelByTarget:function(m){var v=this.findAnimationsByTarget(m);return v.forEach(function(C){C.cancel()}),v},findAnimationIndex:function(m){return this.indexOf(this.findAnimation(m))},findAnimation:function(m){return this.find(function(v){return v.cancel===m})},findAnimationsByTarget:function(m){return m?this.filter(function(v){return v.target===m}):[]}});function d(){return!1}function i(m,v,C,_){return-C*Math.cos(m/_*(Math.PI/2))+C+v}function s(m){m||(m={});var v=!1,C,_=function(){var w=t.runningAnimations.indexOf(C);return w>-1&&t.runningAnimations.splice(w,1)[0]};return C=c(r(m),{cancel:function(){return v=!0,_()},currentValue:"startValue"in m?m.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(C),p(function(w){var x=w||+new Date,T=m.duration||500,S=x+T,A,I=m.onChange||d,R=m.abort||d,B=m.onComplete||d,V=m.easing||i,H="startValue"in m?m.startValue.length>0:!1,U="startValue"in m?m.startValue:0,ne="endValue"in m?m.endValue:100,ee=m.byValue||(H?U.map(function(N,b){return ne[b]-U[b]}):ne-U);m.onStart&&m.onStart(),function N(b){A=b||+new Date;var O=A>S?T:A-x,D=O/T,P=H?U.map(function(k,E){return V(O,U[E],ee[E],T)}):V(O,U,ee,T),z=Math.abs(H?(P[0]-U[0])/ee[0]:(P-U)/ee);if(C.currentValue=H?P.slice():P,C.completionRate=z,C.durationRate=D,!v){if(R(P,z,D)){_();return}if(A>S){C.currentValue=H?ne.slice():ne,C.completionRate=1,C.durationRate=1,I(H?ne.slice():ne,1,1),B(ne,1,1),_();return}else I(P,z,D),p(N)}}(x)}),C.cancel}var a=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(m){return t.window.setTimeout(m,1e3/60)},f=t.window.cancelAnimationFrame||t.window.clearTimeout;function p(){return a.apply(t.window,arguments)}function u(){return f.apply(t.window,arguments)}t.util.animate=s,t.util.requestAnimFrame=p,t.util.cancelAnimFrame=u,t.runningAnimations=l}(),function(){function c(l,d,i){var s="rgba("+parseInt(l[0]+i*(d[0]-l[0]),10)+","+parseInt(l[1]+i*(d[1]-l[1]),10)+","+parseInt(l[2]+i*(d[2]-l[2]),10);return s+=","+(l&&d?parseFloat(l[3]+i*(d[3]-l[3])):1),s+=")",s}function r(l,d,i,s){var a=new t.Color(l).getSource(),f=new t.Color(d).getSource(),p=s.onComplete,u=s.onChange;return s=s||{},t.util.animate(t.util.object.extend(s,{duration:i||500,startValue:a,endValue:f,byValue:f,easing:function(m,v,C,_){var w=s.colorEasing?s.colorEasing(m,_):1-Math.cos(m/_*(Math.PI/2));return c(v,C,w)},onComplete:function(m,v,C){if(p)return p(c(f,f,0),v,C)},onChange:function(m,v,C){if(u){if(Array.isArray(m))return u(c(m,m,0),v,C);u(m,v,C)}}}))}t.util.animateColor=r}(),function(){function c(b,O,D,P){return b<Math.abs(O)?(b=O,P=D/4):O===0&&b===0?P=D/(2*Math.PI)*Math.asin(1):P=D/(2*Math.PI)*Math.asin(O/b),{a:b,c:O,p:D,s:P}}function r(b,O,D){return b.a*Math.pow(2,10*(O-=1))*Math.sin((O*D-b.s)*(2*Math.PI)/b.p)}function l(b,O,D,P){return D*((b=b/P-1)*b*b+1)+O}function d(b,O,D,P){return b/=P/2,b<1?D/2*b*b*b+O:D/2*((b-=2)*b*b+2)+O}function i(b,O,D,P){return D*(b/=P)*b*b*b+O}function s(b,O,D,P){return-D*((b=b/P-1)*b*b*b-1)+O}function a(b,O,D,P){return b/=P/2,b<1?D/2*b*b*b*b+O:-D/2*((b-=2)*b*b*b-2)+O}function f(b,O,D,P){return D*(b/=P)*b*b*b*b+O}function p(b,O,D,P){return D*((b=b/P-1)*b*b*b*b+1)+O}function u(b,O,D,P){return b/=P/2,b<1?D/2*b*b*b*b*b+O:D/2*((b-=2)*b*b*b*b+2)+O}function m(b,O,D,P){return-D*Math.cos(b/P*(Math.PI/2))+D+O}function v(b,O,D,P){return D*Math.sin(b/P*(Math.PI/2))+O}function C(b,O,D,P){return-D/2*(Math.cos(Math.PI*b/P)-1)+O}function _(b,O,D,P){return b===0?O:D*Math.pow(2,10*(b/P-1))+O}function w(b,O,D,P){return b===P?O+D:D*(-Math.pow(2,-10*b/P)+1)+O}function x(b,O,D,P){return b===0?O:b===P?O+D:(b/=P/2,b<1?D/2*Math.pow(2,10*(b-1))+O:D/2*(-Math.pow(2,-10*--b)+2)+O)}function T(b,O,D,P){return-D*(Math.sqrt(1-(b/=P)*b)-1)+O}function S(b,O,D,P){return D*Math.sqrt(1-(b=b/P-1)*b)+O}function A(b,O,D,P){return b/=P/2,b<1?-D/2*(Math.sqrt(1-b*b)-1)+O:D/2*(Math.sqrt(1-(b-=2)*b)+1)+O}function I(b,O,D,P){var z=1.70158,k=0,E=D;if(b===0)return O;if(b/=P,b===1)return O+D;k||(k=P*.3);var L=c(E,D,k,z);return-r(L,b,P)+O}function R(b,O,D,P){var z=1.70158,k=0,E=D;if(b===0)return O;if(b/=P,b===1)return O+D;k||(k=P*.3);var L=c(E,D,k,z);return L.a*Math.pow(2,-10*b)*Math.sin((b*P-L.s)*(2*Math.PI)/L.p)+L.c+O}function B(b,O,D,P){var z=1.70158,k=0,E=D;if(b===0)return O;if(b/=P/2,b===2)return O+D;k||(k=P*(.3*1.5));var L=c(E,D,k,z);return b<1?-.5*r(L,b,P)+O:L.a*Math.pow(2,-10*(b-=1))*Math.sin((b*P-L.s)*(2*Math.PI)/L.p)*.5+L.c+O}function V(b,O,D,P,z){return z===void 0&&(z=1.70158),D*(b/=P)*b*((z+1)*b-z)+O}function H(b,O,D,P,z){return z===void 0&&(z=1.70158),D*((b=b/P-1)*b*((z+1)*b+z)+1)+O}function U(b,O,D,P,z){return z===void 0&&(z=1.70158),b/=P/2,b<1?D/2*(b*b*(((z*=1.525)+1)*b-z))+O:D/2*((b-=2)*b*(((z*=1.525)+1)*b+z)+2)+O}function ne(b,O,D,P){return D-ee(P-b,0,D,P)+O}function ee(b,O,D,P){return(b/=P)<1/2.75?D*(7.5625*b*b)+O:b<2/2.75?D*(7.5625*(b-=1.5/2.75)*b+.75)+O:b<2.5/2.75?D*(7.5625*(b-=2.25/2.75)*b+.9375)+O:D*(7.5625*(b-=2.625/2.75)*b+.984375)+O}function N(b,O,D,P){return b<P/2?ne(b*2,0,D,P)*.5+O:ee(b*2-P,0,D,P)*.5+D*.5+O}t.util.ease={easeInQuad:function(b,O,D,P){return D*(b/=P)*b+O},easeOutQuad:function(b,O,D,P){return-D*(b/=P)*(b-2)+O},easeInOutQuad:function(b,O,D,P){return b/=P/2,b<1?D/2*b*b+O:-D/2*(--b*(b-2)-1)+O},easeInCubic:function(b,O,D,P){return D*(b/=P)*b*b+O},easeOutCubic:l,easeInOutCubic:d,easeInQuart:i,easeOutQuart:s,easeInOutQuart:a,easeInQuint:f,easeOutQuint:p,easeInOutQuint:u,easeInSine:m,easeOutSine:v,easeInOutSine:C,easeInExpo:_,easeOutExpo:w,easeInOutExpo:x,easeInCirc:T,easeOutCirc:S,easeInOutCirc:A,easeInElastic:I,easeOutElastic:R,easeInOutElastic:B,easeInBack:V,easeOutBack:H,easeInOutBack:U,easeInBounce:ne,easeOutBounce:ee,easeInOutBounce:N}}(),function(c){var r=c.fabric||(c.fabric={}),l=r.util.object.extend,d=r.util.object.clone,i=r.util.toFixed,s=r.util.parseUnit,a=r.util.multiplyTransformMatrices,f=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],p=["symbol","image","marker","pattern","view","svg"],u=["pattern","defs","symbol","metadata","clipPath","mask","desc"],m=["symbol","g","a","svg","clipPath","defs"],v={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},C={stroke:"strokeOpacity",fill:"fillOpacity"},_="font-size",w="clip-path";r.svgValidTagNamesRegEx=S(f),r.svgViewBoxElementsRegEx=S(p),r.svgInvalidAncestorsRegEx=S(u),r.svgValidParentsRegEx=S(m),r.cssRules={},r.gradientDefs={},r.clipPaths={};function x(k){return k in v?v[k]:k}function T(k,E,L,F){var Y=Array.isArray(E),W;if((k==="fill"||k==="stroke")&&E==="none")E="";else{if(k==="strokeUniform")return E==="non-scaling-stroke";if(k==="strokeDashArray")E==="none"?E=null:E=E.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(k==="transformMatrix")L&&L.transformMatrix?E=a(L.transformMatrix,r.parseTransformAttribute(E)):E=r.parseTransformAttribute(E);else if(k==="visible")E=E!=="none"&&E!=="hidden",L&&L.visible===!1&&(E=!1);else if(k==="opacity")E=parseFloat(E),L&&typeof L.opacity<"u"&&(E*=L.opacity);else if(k==="textAnchor")E=E==="start"?"left":E==="end"?"right":"center";else if(k==="charSpacing")W=s(E,F)/F*1e3;else if(k==="paintFirst"){var Z=E.indexOf("fill"),te=E.indexOf("stroke"),E="fill";(Z>-1&&te>-1&&te<Z||Z===-1&&te>-1)&&(E="stroke")}else{if(k==="href"||k==="xlink:href"||k==="font")return E;if(k==="imageSmoothing")return E==="optimizeQuality";W=Y?E.map(s):s(E,F)}}return!Y&&isNaN(W)?E:W}function S(k){return new RegExp("^("+k.join("|")+")\\b","i")}function A(k){for(var E in C)if(!(typeof k[C[E]]>"u"||k[E]==="")){if(typeof k[E]>"u"){if(!r.Object.prototype[E])continue;k[E]=r.Object.prototype[E]}if(k[E].indexOf("url(")!==0){var L=new r.Color(k[E]);k[E]=L.setAlpha(i(L.getAlpha()*k[C[E]],2)).toRgba()}}return k}function I(k,E){var L,F=[],Y,W,Z;for(W=0,Z=E.length;W<Z;W++)L=E[W],Y=k.getElementsByTagName(L),F=F.concat(Array.prototype.slice.call(Y));return F}r.parseTransformAttribute=function(){function k(q,ue){var de=r.util.cos(ue[0]),me=r.util.sin(ue[0]),Te=0,ye=0;ue.length===3&&(Te=ue[1],ye=ue[2]),q[0]=de,q[1]=me,q[2]=-me,q[3]=de,q[4]=Te-(de*Te-me*ye),q[5]=ye-(me*Te+de*ye)}function E(q,ue){var de=ue[0],me=ue.length===2?ue[1]:ue[0];q[0]=de,q[3]=me}function L(q,ue,de){q[de]=Math.tan(r.util.degreesToRadians(ue[0]))}function F(q,ue){q[4]=ue[0],ue.length===2&&(q[5]=ue[1])}var Y=r.iMatrix,W=r.reNum,Z=r.commaWsp,te="(?:(skewX)\\s*\\(\\s*("+W+")\\s*\\))",ie="(?:(skewY)\\s*\\(\\s*("+W+")\\s*\\))",G="(?:(rotate)\\s*\\(\\s*("+W+")(?:"+Z+"("+W+")"+Z+"("+W+"))?\\s*\\))",j="(?:(scale)\\s*\\(\\s*("+W+")(?:"+Z+"("+W+"))?\\s*\\))",K="(?:(translate)\\s*\\(\\s*("+W+")(?:"+Z+"("+W+"))?\\s*\\))",Q="(?:(matrix)\\s*\\(\\s*("+W+")"+Z+"("+W+")"+Z+"("+W+")"+Z+"("+W+")"+Z+"("+W+")"+Z+"("+W+")\\s*\\))",X="(?:"+Q+"|"+K+"|"+j+"|"+G+"|"+te+"|"+ie+")",J="(?:"+X+"(?:"+Z+"*"+X+")*)",se="^\\s*(?:"+J+"?)\\s*$",he=new RegExp(se),le=new RegExp(X,"g");return function(q){var ue=Y.concat(),de=[];if(!q||q&&!he.test(q))return ue;q.replace(le,function(Te){var ye=new RegExp(X).exec(Te).filter(function(In){return!!In}),nt=ye[1],Le=ye.slice(2).map(parseFloat);switch(nt){case"translate":F(ue,Le);break;case"rotate":Le[0]=r.util.degreesToRadians(Le[0]),k(ue,Le);break;case"scale":E(ue,Le);break;case"skewX":L(ue,Le,2);break;case"skewY":L(ue,Le,1);break;case"matrix":ue=Le;break}de.push(ue.concat()),ue=Y.concat()});for(var me=de[0];de.length>1;)de.shift(),me=r.util.multiplyTransformMatrices(me,de[0]);return me}}();function R(k,E){var L,F;k.replace(/;\s*$/,"").split(";").forEach(function(Y){var W=Y.split(":");L=W[0].trim().toLowerCase(),F=W[1].trim(),E[L]=F})}function B(k,E){var L,F;for(var Y in k)typeof k[Y]>"u"||(L=Y.toLowerCase(),F=k[Y],E[L]=F)}function V(k,E){var L={};for(var F in r.cssRules[E])if(H(k,F.split(" ")))for(var Y in r.cssRules[E][F])L[Y]=r.cssRules[E][F][Y];return L}function H(k,E){var L,F=!0;return L=ne(k,E.pop()),L&&E.length&&(F=U(k,E)),L&&F&&E.length===0}function U(k,E){for(var L,F=!0;k.parentNode&&k.parentNode.nodeType===1&&E.length;)F&&(L=E.pop()),k=k.parentNode,F=ne(k,L);return E.length===0}function ne(k,E){var L=k.nodeName,F=k.getAttribute("class"),Y=k.getAttribute("id"),W,Z;if(W=new RegExp("^"+L,"i"),E=E.replace(W,""),Y&&E.length&&(W=new RegExp("#"+Y+"(?![a-zA-Z\\-]+)","i"),E=E.replace(W,"")),F&&E.length)for(F=F.split(" "),Z=F.length;Z--;)W=new RegExp("\\."+F[Z]+"(?![a-zA-Z\\-]+)","i"),E=E.replace(W,"");return E.length===0}function ee(k,E){var L;if(k.getElementById&&(L=k.getElementById(E)),L)return L;var F,Y,W,Z=k.getElementsByTagName("*");for(Y=0,W=Z.length;Y<W;Y++)if(F=Z[Y],E===F.getAttribute("id"))return F}function N(k){for(var E=I(k,["use","svg:use"]),L=0;E.length&&L<E.length;){var F=E[L],Y=F.getAttribute("xlink:href")||F.getAttribute("href");if(Y===null)return;var W=Y.slice(1),Z=F.getAttribute("x")||0,te=F.getAttribute("y")||0,ie=ee(k,W).cloneNode(!0),G=(ie.getAttribute("transform")||"")+" translate("+Z+", "+te+")",j,K=E.length,Q,X,J,se,he=r.svgNS;if(O(ie),/^svg$/i.test(ie.nodeName)){var le=ie.ownerDocument.createElementNS(he,"g");for(X=0,J=ie.attributes,se=J.length;X<se;X++)Q=J.item(X),le.setAttributeNS(he,Q.nodeName,Q.nodeValue);for(;ie.firstChild;)le.appendChild(ie.firstChild);ie=le}for(X=0,J=F.attributes,se=J.length;X<se;X++)Q=J.item(X),!(Q.nodeName==="x"||Q.nodeName==="y"||Q.nodeName==="xlink:href"||Q.nodeName==="href")&&(Q.nodeName==="transform"?G=Q.nodeValue+" "+G:ie.setAttribute(Q.nodeName,Q.nodeValue));ie.setAttribute("transform",G),ie.setAttribute("instantiated_by_use","1"),ie.removeAttribute("id"),j=F.parentNode,j.replaceChild(ie,F),E.length===K&&L++}}var b=new RegExp("^\\s*("+r.reNum+"+)\\s*,?\\s*("+r.reNum+"+)\\s*,?\\s*("+r.reNum+"+)\\s*,?\\s*("+r.reNum+"+)\\s*$");function O(k){if(!r.svgViewBoxElementsRegEx.test(k.nodeName))return{};var E=k.getAttribute("viewBox"),L=1,F=1,Y=0,W=0,Z,te,ie,G,j=k.getAttribute("width"),K=k.getAttribute("height"),Q=k.getAttribute("x")||0,X=k.getAttribute("y")||0,J=k.getAttribute("preserveAspectRatio")||"",se=!E||!(E=E.match(b)),he=!j||!K||j==="100%"||K==="100%",le=se&&he,q={},ue="",de=0,me=0;if(q.width=0,q.height=0,q.toBeParsed=le,se&&(Q||X)&&k.parentNode&&k.parentNode.nodeName!=="#document"&&(ue=" translate("+s(Q)+" "+s(X)+") ",ie=(k.getAttribute("transform")||"")+ue,k.setAttribute("transform",ie),k.removeAttribute("x"),k.removeAttribute("y")),le)return q;if(se)return q.width=s(j),q.height=s(K),q;if(Y=-parseFloat(E[1]),W=-parseFloat(E[2]),Z=parseFloat(E[3]),te=parseFloat(E[4]),q.minX=Y,q.minY=W,q.viewBoxWidth=Z,q.viewBoxHeight=te,he?(q.width=Z,q.height=te):(q.width=s(j),q.height=s(K),L=q.width/Z,F=q.height/te),J=r.util.parsePreserveAspectRatioAttribute(J),J.alignX!=="none"&&(J.meetOrSlice==="meet"&&(F=L=L>F?F:L),J.meetOrSlice==="slice"&&(F=L=L>F?L:F),de=q.width-Z*L,me=q.height-te*L,J.alignX==="Mid"&&(de/=2),J.alignY==="Mid"&&(me/=2),J.alignX==="Min"&&(de=0),J.alignY==="Min"&&(me=0)),L===1&&F===1&&Y===0&&W===0&&Q===0&&X===0)return q;if((Q||X)&&k.parentNode.nodeName!=="#document"&&(ue=" translate("+s(Q)+" "+s(X)+") "),ie=ue+" matrix("+L+" 0 0 "+F+" "+(Y*L+de)+" "+(W*F+me)+") ",k.nodeName==="svg"){for(G=k.ownerDocument.createElementNS(r.svgNS,"g");k.firstChild;)G.appendChild(k.firstChild);k.appendChild(G)}else G=k,G.removeAttribute("x"),G.removeAttribute("y"),ie=G.getAttribute("transform")+ie;return G.setAttribute("transform",ie),q}function D(k,E){for(;k&&(k=k.parentNode);)if(k.nodeName&&E.test(k.nodeName.replace("svg:",""))&&!k.getAttribute("instantiated_by_use"))return!0;return!1}r.parseSVGDocument=function(k,E,L,F){if(k){N(k);var Y=r.Object.__uid++,W,Z,te=O(k),ie=r.util.toArray(k.getElementsByTagName("*"));if(te.crossOrigin=F&&F.crossOrigin,te.svgUid=Y,ie.length===0&&r.isLikelyNode){ie=k.selectNodes('//*[name(.)!="svg"]');var G=[];for(W=0,Z=ie.length;W<Z;W++)G[W]=ie[W];ie=G}var j=ie.filter(function(Q){return O(Q),r.svgValidTagNamesRegEx.test(Q.nodeName.replace("svg:",""))&&!D(Q,r.svgInvalidAncestorsRegEx)});if(!j||j&&!j.length){E&&E([],{});return}var K={};ie.filter(function(Q){return Q.nodeName.replace("svg:","")==="clipPath"}).forEach(function(Q){var X=Q.getAttribute("id");K[X]=r.util.toArray(Q.getElementsByTagName("*")).filter(function(J){return r.svgValidTagNamesRegEx.test(J.nodeName.replace("svg:",""))})}),r.gradientDefs[Y]=r.getGradientDefs(k),r.cssRules[Y]=r.getCSSRules(k),r.clipPaths[Y]=K,r.parseElements(j,function(Q,X){E&&(E(Q,te,X,ie),delete r.gradientDefs[Y],delete r.cssRules[Y],delete r.clipPaths[Y])},d(te),L,F)}};function P(k,E){var L=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],F="xlink:href",Y=E.getAttribute(F).slice(1),W=ee(k,Y);if(W&&W.getAttribute(F)&&P(k,W),L.forEach(function(te){W&&!E.hasAttribute(te)&&W.hasAttribute(te)&&E.setAttribute(te,W.getAttribute(te))}),!E.children.length)for(var Z=W.cloneNode(!0);Z.firstChild;)E.appendChild(Z.firstChild);E.removeAttribute(F)}var z=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+r.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+r.reNum+"))?\\s+(.*)");l(r,{parseFontDeclaration:function(k,E){var L=k.match(z);if(L){var F=L[1],Y=L[3],W=L[4],Z=L[5],te=L[6];F&&(E.fontStyle=F),Y&&(E.fontWeight=isNaN(parseFloat(Y))?Y:parseFloat(Y)),W&&(E.fontSize=s(W)),te&&(E.fontFamily=te),Z&&(E.lineHeight=Z==="normal"?1:Z)}},getGradientDefs:function(k){var E=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],L=I(k,E),F,Y=0,W={};for(Y=L.length;Y--;)F=L[Y],F.getAttribute("xlink:href")&&P(k,F),W[F.getAttribute("id")]=F;return W},parseAttributes:function(k,E,L){if(k){var F,Y={},W,Z;typeof L>"u"&&(L=k.getAttribute("svgUid")),k.parentNode&&r.svgValidParentsRegEx.test(k.parentNode.nodeName)&&(Y=r.parseAttributes(k.parentNode,E,L));var te=E.reduce(function(J,se){return F=k.getAttribute(se),F&&(J[se]=F),J},{}),ie=l(V(k,L),r.parseStyleAttribute(k));te=l(te,ie),ie[w]&&k.setAttribute(w,ie[w]),W=Z=Y.fontSize||r.Text.DEFAULT_SVG_FONT_SIZE,te[_]&&(te[_]=W=s(te[_],Z));var G,j,K={};for(var Q in te)G=x(Q),j=T(G,te[Q],Y,W),K[G]=j;K&&K.font&&r.parseFontDeclaration(K.font,K);var X=l(Y,K);return r.svgValidParentsRegEx.test(k.nodeName)?X:A(X)}},parseElements:function(k,E,L,F,Y){new r.ElementsParser(k,E,L,F,Y).parse()},parseStyleAttribute:function(k){var E={},L=k.getAttribute("style");return L&&(typeof L=="string"?R(L,E):B(L,E)),E},parsePointsAttribute:function(k){if(!k)return null;k=k.replace(/,/g," ").trim(),k=k.split(/\s+/);var E=[],L,F;for(L=0,F=k.length;L<F;L+=2)E.push({x:parseFloat(k[L]),y:parseFloat(k[L+1])});return E},getCSSRules:function(k){var E=k.getElementsByTagName("style"),L,F,Y={},W;for(L=0,F=E.length;L<F;L++){var Z=E[L].textContent;Z=Z.replace(/\/\*[\s\S]*?\*\//g,""),Z.trim()!==""&&(W=Z.split("}"),W=W.filter(function(te){return te.trim()}),W.forEach(function(te){var ie=te.split("{"),G={},j=ie[1].trim(),K=j.split(";").filter(function(se){return se.trim()});for(L=0,F=K.length;L<F;L++){var Q=K[L].split(":"),X=Q[0].trim(),J=Q[1].trim();G[X]=J}te=ie[0].trim(),te.split(",").forEach(function(se){se=se.replace(/^svg/i,"").trim(),se!==""&&(Y[se]?r.util.object.extend(Y[se],G):Y[se]=r.util.object.clone(G))})}))}return Y},loadSVGFromURL:function(k,E,L,F){k=k.replace(/^\n\s*/,"").trim(),new r.util.request(k,{method:"get",onComplete:Y});function Y(W){var Z=W.responseXML;if(!Z||!Z.documentElement)return E&&E(null),!1;r.parseSVGDocument(Z.documentElement,function(te,ie,G,j){E&&E(te,ie,G,j)},L,F)}},loadSVGFromString:function(k,E,L,F){var Y=new r.window.DOMParser,W=Y.parseFromString(k.trim(),"text/xml");r.parseSVGDocument(W.documentElement,function(Z,te,ie,G){E(Z,te,ie,G)},L,F)}})}(e),t.ElementsParser=function(c,r,l,d,i,s){this.elements=c,this.callback=r,this.options=l,this.reviver=d,this.svgUid=l&&l.svgUid||0,this.parsingOptions=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=s},function(c){c.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},c.createObjects=function(){var r=this;this.elements.forEach(function(l,d){l.setAttribute("svgUid",r.svgUid),r.createObject(l,d)})},c.findTag=function(r){return t[t.util.string.capitalize(r.tagName.replace("svg:",""))]},c.createObject=function(r,l){var d=this.findTag(r);if(d&&d.fromElement)try{d.fromElement(r,this.createCallback(l,r),this.options)}catch(i){t.log(i)}else this.checkIfDone()},c.createCallback=function(r,l){var d=this;return function(i){var s;d.resolveGradient(i,l,"fill"),d.resolveGradient(i,l,"stroke"),i instanceof t.Image&&i._originalElement&&(s=i.parsePreserveAspectRatioAttribute(l)),i._removeTransformMatrix(s),d.resolveClipPath(i,l),d.reviver&&d.reviver(l,i),d.instances[r]=i,d.checkIfDone()}},c.extractPropertyDefinition=function(r,l,d){var i=r[l],s=this.regexUrl;if(s.test(i)){s.lastIndex=0;var a=s.exec(i)[1];return s.lastIndex=0,t[d][this.svgUid][a]}},c.resolveGradient=function(r,l,d){var i=this.extractPropertyDefinition(r,d,"gradientDefs");if(i){var s=l.getAttribute(d+"-opacity"),a=t.Gradient.fromElement(i,r,s,this.options);r.set(d,a)}},c.createClipPathCallback=function(r,l){return function(d){d._removeTransformMatrix(),d.fillRule=d.clipRule,l.push(d)}},c.resolveClipPath=function(r,l){var d=this.extractPropertyDefinition(r,"clipPath","clipPaths"),i,s,a,f,p,u;if(d){f=[],a=t.util.invertTransform(r.calcTransformMatrix());for(var m=d[0].parentNode,v=l;v.parentNode&&v.getAttribute("clip-path")!==r.clipPath;)v=v.parentNode;v.parentNode.appendChild(m);for(var C=0;C<d.length;C++)i=d[C],s=this.findTag(i),s.fromElement(i,this.createClipPathCallback(r,f),this.options);f.length===1?d=f[0]:d=new t.Group(f),p=t.util.multiplyTransformMatrices(a,d.calcTransformMatrix()),d.clipPath&&this.resolveClipPath(d,v);var u=t.util.qrDecompose(p);d.flipX=!1,d.flipY=!1,d.set("scaleX",u.scaleX),d.set("scaleY",u.scaleY),d.angle=u.angle,d.skewX=u.skewX,d.skewY=0,d.setPositionByOrigin({x:u.translateX,y:u.translateY},"center","center"),r.clipPath=d}else delete r.clipPath},c.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(r){return r!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(c){var r=c.fabric||(c.fabric={});if(r.Point){r.warn("fabric.Point is already defined");return}r.Point=l;function l(d,i){this.x=d,this.y=i}l.prototype={type:"point",constructor:l,add:function(d){return new l(this.x+d.x,this.y+d.y)},addEquals:function(d){return this.x+=d.x,this.y+=d.y,this},scalarAdd:function(d){return new l(this.x+d,this.y+d)},scalarAddEquals:function(d){return this.x+=d,this.y+=d,this},subtract:function(d){return new l(this.x-d.x,this.y-d.y)},subtractEquals:function(d){return this.x-=d.x,this.y-=d.y,this},scalarSubtract:function(d){return new l(this.x-d,this.y-d)},scalarSubtractEquals:function(d){return this.x-=d,this.y-=d,this},multiply:function(d){return new l(this.x*d,this.y*d)},multiplyEquals:function(d){return this.x*=d,this.y*=d,this},divide:function(d){return new l(this.x/d,this.y/d)},divideEquals:function(d){return this.x/=d,this.y/=d,this},eq:function(d){return this.x===d.x&&this.y===d.y},lt:function(d){return this.x<d.x&&this.y<d.y},lte:function(d){return this.x<=d.x&&this.y<=d.y},gt:function(d){return this.x>d.x&&this.y>d.y},gte:function(d){return this.x>=d.x&&this.y>=d.y},lerp:function(d,i){return typeof i>"u"&&(i=.5),i=Math.max(Math.min(1,i),0),new l(this.x+(d.x-this.x)*i,this.y+(d.y-this.y)*i)},distanceFrom:function(d){var i=this.x-d.x,s=this.y-d.y;return Math.sqrt(i*i+s*s)},midPointFrom:function(d){return this.lerp(d)},min:function(d){return new l(Math.min(this.x,d.x),Math.min(this.y,d.y))},max:function(d){return new l(Math.max(this.x,d.x),Math.max(this.y,d.y))},toString:function(){return this.x+","+this.y},setXY:function(d,i){return this.x=d,this.y=i,this},setX:function(d){return this.x=d,this},setY:function(d){return this.y=d,this},setFromPoint:function(d){return this.x=d.x,this.y=d.y,this},swap:function(d){var i=this.x,s=this.y;this.x=d.x,this.y=d.y,d.x=i,d.y=s},clone:function(){return new l(this.x,this.y)}}}(e),function(c){var r=c.fabric||(c.fabric={});if(r.Intersection){r.warn("fabric.Intersection is already defined");return}function l(d){this.status=d,this.points=[]}r.Intersection=l,r.Intersection.prototype={constructor:l,appendPoint:function(d){return this.points.push(d),this},appendPoints:function(d){return this.points=this.points.concat(d),this}},r.Intersection.intersectLineLine=function(d,i,s,a){var f,p=(a.x-s.x)*(d.y-s.y)-(a.y-s.y)*(d.x-s.x),u=(i.x-d.x)*(d.y-s.y)-(i.y-d.y)*(d.x-s.x),m=(a.y-s.y)*(i.x-d.x)-(a.x-s.x)*(i.y-d.y);if(m!==0){var v=p/m,C=u/m;0<=v&&v<=1&&0<=C&&C<=1?(f=new l("Intersection"),f.appendPoint(new r.Point(d.x+v*(i.x-d.x),d.y+v*(i.y-d.y)))):f=new l}else p===0||u===0?f=new l("Coincident"):f=new l("Parallel");return f},r.Intersection.intersectLinePolygon=function(d,i,s){var a=new l,f=s.length,p,u,m,v;for(v=0;v<f;v++)p=s[v],u=s[(v+1)%f],m=l.intersectLineLine(d,i,p,u),a.appendPoints(m.points);return a.points.length>0&&(a.status="Intersection"),a},r.Intersection.intersectPolygonPolygon=function(d,i){var s=new l,a=d.length,f;for(f=0;f<a;f++){var p=d[f],u=d[(f+1)%a],m=l.intersectLinePolygon(p,u,i);s.appendPoints(m.points)}return s.points.length>0&&(s.status="Intersection"),s},r.Intersection.intersectPolygonRectangle=function(d,i,s){var a=i.min(s),f=i.max(s),p=new r.Point(f.x,a.y),u=new r.Point(a.x,f.y),m=l.intersectLinePolygon(a,p,d),v=l.intersectLinePolygon(p,f,d),C=l.intersectLinePolygon(f,u,d),_=l.intersectLinePolygon(u,a,d),w=new l;return w.appendPoints(m.points),w.appendPoints(v.points),w.appendPoints(C.points),w.appendPoints(_.points),w.points.length>0&&(w.status="Intersection"),w}}(e),function(c){var r=c.fabric||(c.fabric={});if(r.Color){r.warn("fabric.Color is already defined.");return}function l(i){i?this._tryParsingColor(i):this.setSource([0,0,0,1])}r.Color=l,r.Color.prototype={_tryParsingColor:function(i){var s;i in l.colorNameMap&&(i=l.colorNameMap[i]),i==="transparent"&&(s=[255,255,255,0]),s||(s=l.sourceFromHex(i)),s||(s=l.sourceFromRgb(i)),s||(s=l.sourceFromHsl(i)),s||(s=[0,0,0,1]),s&&this.setSource(s)},_rgbToHsl:function(i,s,a){i/=255,s/=255,a/=255;var f,p,u,m=r.util.array.max([i,s,a]),v=r.util.array.min([i,s,a]);if(u=(m+v)/2,m===v)f=p=0;else{var C=m-v;switch(p=u>.5?C/(2-m-v):C/(m+v),m){case i:f=(s-a)/C+(s<a?6:0);break;case s:f=(a-i)/C+2;break;case a:f=(i-s)/C+4;break}f/=6}return[Math.round(f*360),Math.round(p*100),Math.round(u*100)]},getSource:function(){return this._source},setSource:function(i){this._source=i},toRgb:function(){var i=this.getSource();return"rgb("+i[0]+","+i[1]+","+i[2]+")"},toRgba:function(){var i=this.getSource();return"rgba("+i[0]+","+i[1]+","+i[2]+","+i[3]+")"},toHsl:function(){var i=this.getSource(),s=this._rgbToHsl(i[0],i[1],i[2]);return"hsl("+s[0]+","+s[1]+"%,"+s[2]+"%)"},toHsla:function(){var i=this.getSource(),s=this._rgbToHsl(i[0],i[1],i[2]);return"hsla("+s[0]+","+s[1]+"%,"+s[2]+"%,"+i[3]+")"},toHex:function(){var i=this.getSource(),s,a,f;return s=i[0].toString(16),s=s.length===1?"0"+s:s,a=i[1].toString(16),a=a.length===1?"0"+a:a,f=i[2].toString(16),f=f.length===1?"0"+f:f,s.toUpperCase()+a.toUpperCase()+f.toUpperCase()},toHexa:function(){var i=this.getSource(),s;return s=Math.round(i[3]*255),s=s.toString(16),s=s.length===1?"0"+s:s,this.toHex()+s.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(i){var s=this.getSource();return s[3]=i,this.setSource(s),this},toGrayscale:function(){var i=this.getSource(),s=parseInt((i[0]*.3+i[1]*.59+i[2]*.11).toFixed(0),10),a=i[3];return this.setSource([s,s,s,a]),this},toBlackWhite:function(i){var s=this.getSource(),a=(s[0]*.3+s[1]*.59+s[2]*.11).toFixed(0),f=s[3];return i=i||127,a=Number(a)<Number(i)?0:255,this.setSource([a,a,a,f]),this},overlayWith:function(i){i instanceof l||(i=new l(i));var s=[],a=this.getAlpha(),f=.5,p=this.getSource(),u=i.getSource(),m;for(m=0;m<3;m++)s.push(Math.round(p[m]*(1-f)+u[m]*f));return s[3]=a,this.setSource(s),this}},r.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,r.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,r.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,r.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function d(i,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?i+(s-i)*6*a:a<1/2?s:a<2/3?i+(s-i)*(2/3-a)*6:i}r.Color.fromRgb=function(i){return l.fromSource(l.sourceFromRgb(i))},r.Color.sourceFromRgb=function(i){var s=i.match(l.reRGBa);if(s){var a=parseInt(s[1],10)/(/%$/.test(s[1])?100:1)*(/%$/.test(s[1])?255:1),f=parseInt(s[2],10)/(/%$/.test(s[2])?100:1)*(/%$/.test(s[2])?255:1),p=parseInt(s[3],10)/(/%$/.test(s[3])?100:1)*(/%$/.test(s[3])?255:1);return[parseInt(a,10),parseInt(f,10),parseInt(p,10),s[4]?parseFloat(s[4]):1]}},r.Color.fromRgba=l.fromRgb,r.Color.fromHsl=function(i){return l.fromSource(l.sourceFromHsl(i))},r.Color.sourceFromHsl=function(i){var s=i.match(l.reHSLa);if(s){var a=(parseFloat(s[1])%360+360)%360/360,f=parseFloat(s[2])/(/%$/.test(s[2])?100:1),p=parseFloat(s[3])/(/%$/.test(s[3])?100:1),u,m,v;if(f===0)u=m=v=p;else{var C=p<=.5?p*(f+1):p+f-p*f,_=p*2-C;u=d(_,C,a+1/3),m=d(_,C,a),v=d(_,C,a-1/3)}return[Math.round(u*255),Math.round(m*255),Math.round(v*255),s[4]?parseFloat(s[4]):1]}},r.Color.fromHsla=l.fromHsl,r.Color.fromHex=function(i){return l.fromSource(l.sourceFromHex(i))},r.Color.sourceFromHex=function(i){if(i.match(l.reHex)){var s=i.slice(i.indexOf("#")+1),a=s.length===3||s.length===4,f=s.length===8||s.length===4,p=a?s.charAt(0)+s.charAt(0):s.substring(0,2),u=a?s.charAt(1)+s.charAt(1):s.substring(2,4),m=a?s.charAt(2)+s.charAt(2):s.substring(4,6),v=f?a?s.charAt(3)+s.charAt(3):s.substring(6,8):"FF";return[parseInt(p,16),parseInt(u,16),parseInt(m,16),parseFloat((parseInt(v,16)/255).toFixed(2))]}},r.Color.fromSource=function(i){var s=new l;return s.setSource(i),s}}(e),function(c){var r=c.fabric||(c.fabric={}),l=["e","se","s","sw","w","nw","n","ne","e"],d=["ns","nesw","ew","nwse"],i={},s="left",a="top",f="right",p="bottom",u="center",m={top:p,bottom:a,left:f,right:s,center:u},v=r.util.radiansToDegrees,C=Math.sign||function(G){return(G>0)-(G<0)||+G};function _(G,j){var K=G.angle+v(Math.atan2(j.y,j.x))+360;return Math.round(K%360/45)}function w(G,j){var K=j.transform.target,Q=K.canvas,X=r.util.object.clone(j);X.target=K,Q&&Q.fire("object:"+G,X),K.fire(G,j)}function x(G,j){var K=j.canvas,Q=K.uniScaleKey,X=G[Q];return K.uniformScaling&&!X||!K.uniformScaling&&X}function T(G){return G.originX===u&&G.originY===u}function S(G,j,K){var Q=G.lockScalingX,X=G.lockScalingY;return!!(Q&&X||!j&&(Q||X)&&K||Q&&j==="x"||X&&j==="y")}function A(G,j,K){var Q="not-allowed",X=x(G,K),J="";if(j.x!==0&&j.y===0?J="x":j.x===0&&j.y!==0&&(J="y"),S(K,J,X))return Q;var se=_(K,j);return l[se]+"-resize"}function I(G,j,K){var Q="not-allowed";if(j.x!==0&&K.lockSkewingY||j.y!==0&&K.lockSkewingX)return Q;var X=_(K,j)%4;return d[X]+"-resize"}function R(G,j,K){return G[K.canvas.altActionKey]?i.skewCursorStyleHandler(G,j,K):i.scaleCursorStyleHandler(G,j,K)}function B(G,j,K){var Q=G[K.canvas.altActionKey];if(j.x===0)return Q?"skewX":"scaleY";if(j.y===0)return Q?"skewY":"scaleX"}function V(G,j,K){return K.lockRotation?"not-allowed":j.cursorStyle}function H(G,j,K,Q){return{e:G,transform:j,pointer:{x:K,y:Q}}}function U(G){return function(j,K,Q,X){var J=K.target,se=J.getCenterPoint(),he=J.translateToOriginPoint(se,K.originX,K.originY),le=G(j,K,Q,X);return J.setPositionByOrigin(he,K.originX,K.originY),le}}function ne(G,j){return function(K,Q,X,J){var se=j(K,Q,X,J);return se&&w(G,H(K,Q,X,J)),se}}function ee(G,j,K,Q,X){var J=G.target,se=J.controls[G.corner],he=J.canvas.getZoom(),le=J.padding/he,q=J.toLocalPoint(new r.Point(Q,X),j,K);return q.x>=le&&(q.x-=le),q.x<=-le&&(q.x+=le),q.y>=le&&(q.y-=le),q.y<=le&&(q.y+=le),q.x-=se.offsetX,q.y-=se.offsetY,q}function N(G){return G.flipX!==G.flipY}function b(G,j,K,Q,X){if(G[j]!==0){var J=G._getTransformedDimensions()[Q],se=X/J*G[K];G.set(K,se)}}function O(G,j,K,Q){var X=j.target,J=X._getTransformedDimensions(0,X.skewY),se=ee(j,j.originX,j.originY,K,Q),he=Math.abs(se.x*2)-J.x,le=X.skewX,q;he<2?q=0:(q=v(Math.atan2(he/X.scaleX,J.y/X.scaleY)),j.originX===s&&j.originY===p&&(q=-q),j.originX===f&&j.originY===a&&(q=-q),N(X)&&(q=-q));var ue=le!==q;if(ue){var de=X._getTransformedDimensions().y;X.set("skewX",q),b(X,"skewY","scaleY","y",de)}return ue}function D(G,j,K,Q){var X=j.target,J=X._getTransformedDimensions(X.skewX,0),se=ee(j,j.originX,j.originY,K,Q),he=Math.abs(se.y*2)-J.y,le=X.skewY,q;he<2?q=0:(q=v(Math.atan2(he/X.scaleY,J.x/X.scaleX)),j.originX===s&&j.originY===p&&(q=-q),j.originX===f&&j.originY===a&&(q=-q),N(X)&&(q=-q));var ue=le!==q;if(ue){var de=X._getTransformedDimensions().x;X.set("skewY",q),b(X,"skewX","scaleX","x",de)}return ue}function P(G,j,K,Q){var X=j.target,J=X.skewX,se,he=j.originY;if(X.lockSkewingX)return!1;if(J===0){var le=ee(j,u,u,K,Q);le.x>0?se=s:se=f}else J>0&&(se=he===a?s:f),J<0&&(se=he===a?f:s),N(X)&&(se=se===s?f:s);j.originX=se;var q=ne("skewing",U(O));return q(G,j,K,Q)}function z(G,j,K,Q){var X=j.target,J=X.skewY,se,he=j.originX;if(X.lockSkewingY)return!1;if(J===0){var le=ee(j,u,u,K,Q);le.y>0?se=a:se=p}else J>0&&(se=he===s?a:p),J<0&&(se=he===s?p:a),N(X)&&(se=se===a?p:a);j.originY=se;var q=ne("skewing",U(D));return q(G,j,K,Q)}function k(G,j,K,Q){var X=j,J=X.target,se=J.translateToOriginPoint(J.getCenterPoint(),X.originX,X.originY);if(J.lockRotation)return!1;var he=Math.atan2(X.ey-se.y,X.ex-se.x),le=Math.atan2(Q-se.y,K-se.x),q=v(le-he+X.theta),ue=!0;if(J.snapAngle>0){var de=J.snapAngle,me=J.snapThreshold||de,Te=Math.ceil(q/de)*de,ye=Math.floor(q/de)*de;Math.abs(q-ye)<me?q=ye:Math.abs(q-Te)<me&&(q=Te)}return q<0&&(q=360+q),q%=360,ue=J.angle!==q,J.angle=q,ue}function E(G,j,K,Q,X){X=X||{};var J=j.target,se=J.lockScalingX,he=J.lockScalingY,le=X.by,q,ue,de,me,Te=x(G,J),ye=S(J,le,Te),nt,Le,In=j.gestureScale;if(ye)return!1;if(In)ue=j.scaleX*In,de=j.scaleY*In;else{if(q=ee(j,j.originX,j.originY,K,Q),nt=le!=="y"?C(q.x):1,Le=le!=="x"?C(q.y):1,j.signX||(j.signX=nt),j.signY||(j.signY=Le),J.lockScalingFlip&&(j.signX!==nt||j.signY!==Le))return!1;if(me=J._getTransformedDimensions(),Te&&!le){var Nr=Math.abs(q.x)+Math.abs(q.y),zt=j.original,l2=Math.abs(me.x*zt.scaleX/J.scaleX)+Math.abs(me.y*zt.scaleY/J.scaleY),ju=Nr/l2;ue=zt.scaleX*ju,de=zt.scaleY*ju}else ue=Math.abs(q.x*J.scaleX/me.x),de=Math.abs(q.y*J.scaleY/me.y);T(j)&&(ue*=2,de*=2),j.signX!==nt&&le!=="y"&&(j.originX=m[j.originX],ue*=-1,j.signX=nt),j.signY!==Le&&le!=="x"&&(j.originY=m[j.originY],de*=-1,j.signY=Le)}var c2=J.scaleX,u2=J.scaleY;return le?(le==="x"&&J.set("scaleX",ue),le==="y"&&J.set("scaleY",de)):(!se&&J.set("scaleX",ue),!he&&J.set("scaleY",de)),c2!==J.scaleX||u2!==J.scaleY}function L(G,j,K,Q){return E(G,j,K,Q)}function F(G,j,K,Q){return E(G,j,K,Q,{by:"x"})}function Y(G,j,K,Q){return E(G,j,K,Q,{by:"y"})}function W(G,j,K,Q){return G[j.target.canvas.altActionKey]?i.skewHandlerX(G,j,K,Q):i.scalingY(G,j,K,Q)}function Z(G,j,K,Q){return G[j.target.canvas.altActionKey]?i.skewHandlerY(G,j,K,Q):i.scalingX(G,j,K,Q)}function te(G,j,K,Q){var X=j.target,J=ee(j,j.originX,j.originY,K,Q),se=X.strokeWidth/(X.strokeUniform?X.scaleX:1),he=T(j)?2:1,le=X.width,q=Math.abs(J.x*he/X.scaleX)-se;return X.set("width",Math.max(q,0)),le!==q}function ie(G,j,K,Q){var X=j.target,J=K-j.offsetX,se=Q-j.offsetY,he=!X.get("lockMovementX")&&X.left!==J,le=!X.get("lockMovementY")&&X.top!==se;return he&&X.set("left",J),le&&X.set("top",se),(he||le)&&w("moving",H(G,j,K,Q)),he||le}i.scaleCursorStyleHandler=A,i.skewCursorStyleHandler=I,i.scaleSkewCursorStyleHandler=R,i.rotationWithSnapping=ne("rotating",U(k)),i.scalingEqually=ne("scaling",U(L)),i.scalingX=ne("scaling",U(F)),i.scalingY=ne("scaling",U(Y)),i.scalingYOrSkewingX=W,i.scalingXOrSkewingY=Z,i.changeWidth=ne("resizing",U(te)),i.skewHandlerX=P,i.skewHandlerY=z,i.dragHandler=ie,i.scaleOrSkewActionName=B,i.rotationStyleHandler=V,i.fireEvent=w,i.wrapWithFixedAnchor=U,i.wrapWithFireEvent=ne,i.getLocalPoint=ee,r.controlsUtils=i}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.util.degreesToRadians,d=r.controlsUtils;function i(a,f,p,u,m){u=u||{};var v=this.sizeX||u.cornerSize||m.cornerSize,C=this.sizeY||u.cornerSize||m.cornerSize,_=typeof u.transparentCorners<"u"?u.transparentCorners:m.transparentCorners,w=_?"stroke":"fill",x=!_&&(u.cornerStrokeColor||m.cornerStrokeColor),T=f,S=p,A;a.save(),a.fillStyle=u.cornerColor||m.cornerColor,a.strokeStyle=u.cornerStrokeColor||m.cornerStrokeColor,v>C?(A=v,a.scale(1,C/v),S=p*v/C):C>v?(A=C,a.scale(v/C,1),T=f*C/v):A=v,a.lineWidth=1,a.beginPath(),a.arc(T,S,A/2,0,2*Math.PI,!1),a[w](),x&&a.stroke(),a.restore()}function s(a,f,p,u,m){u=u||{};var v=this.sizeX||u.cornerSize||m.cornerSize,C=this.sizeY||u.cornerSize||m.cornerSize,_=typeof u.transparentCorners<"u"?u.transparentCorners:m.transparentCorners,w=_?"stroke":"fill",x=!_&&(u.cornerStrokeColor||m.cornerStrokeColor),T=v/2,S=C/2;a.save(),a.fillStyle=u.cornerColor||m.cornerColor,a.strokeStyle=u.cornerStrokeColor||m.cornerStrokeColor,a.lineWidth=1,a.translate(f,p),a.rotate(l(m.angle)),a[w+"Rect"](-T,-S,v,C),x&&a.strokeRect(-T,-S,v,C),a.restore()}d.renderCircleControl=i,d.renderSquareControl=s}(e),function(c){var r=c.fabric||(c.fabric={});function l(d){for(var i in d)this[i]=d[i]}r.Control=l,r.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(d,i){return i.cursorStyle},getActionName:function(d,i){return i.actionName},getVisibility:function(d,i){var s=d._controlsVisibility;return s&&typeof s[i]<"u"?s[i]:this.visible},setVisibility:function(d){this.visible=d},positionHandler:function(d,i){var s=r.util.transformPoint({x:this.x*d.x+this.offsetX,y:this.y*d.y+this.offsetY},i);return s},calcCornerCoords:function(d,i,s,a,f){var p,u,m,v,C=f?this.touchSizeX:this.sizeX,_=f?this.touchSizeY:this.sizeY;if(C&&_&&C!==_){var w=Math.atan2(_,C),x=Math.sqrt(C*C+_*_)/2,T=w-r.util.degreesToRadians(d),S=Math.PI/2-w-r.util.degreesToRadians(d);p=x*r.util.cos(T),u=x*r.util.sin(T),m=x*r.util.cos(S),v=x*r.util.sin(S)}else{var A=C&&_?C:i;x=A*.7071067812;var T=r.util.degreesToRadians(45-d);p=m=x*r.util.cos(T),u=v=x*r.util.sin(T)}return{tl:{x:s-v,y:a-m},tr:{x:s+p,y:a-u},bl:{x:s-p,y:a+u},br:{x:s+v,y:a+m}}},render:function(d,i,s,a,f){switch(a=a||{},a.cornerStyle||f.cornerStyle){case"circle":r.controlsUtils.renderCircleControl.call(this,d,i,s,a,f);break;default:r.controlsUtils.renderSquareControl.call(this,d,i,s,a,f)}}}}(e),function(){function c(s,a){var f=s.getAttribute("style"),p=s.getAttribute("offset")||0,u,m,v,C;if(p=parseFloat(p)/(/%$/.test(p)?100:1),p=p<0?0:p>1?1:p,f){var _=f.split(/\s*;\s*/);for(_[_.length-1]===""&&_.pop(),C=_.length;C--;){var w=_[C].split(/\s*:\s*/),x=w[0].trim(),T=w[1].trim();x==="stop-color"?u=T:x==="stop-opacity"&&(v=T)}}return u||(u=s.getAttribute("stop-color")||"rgb(0,0,0)"),v||(v=s.getAttribute("stop-opacity")),u=new t.Color(u),m=u.getAlpha(),v=isNaN(parseFloat(v))?1:parseFloat(v),v*=m*a,{offset:p,color:u.toRgb(),opacity:v}}function r(s){return{x1:s.getAttribute("x1")||0,y1:s.getAttribute("y1")||0,x2:s.getAttribute("x2")||"100%",y2:s.getAttribute("y2")||0}}function l(s){return{x1:s.getAttribute("fx")||s.getAttribute("cx")||"50%",y1:s.getAttribute("fy")||s.getAttribute("cy")||"50%",r1:0,x2:s.getAttribute("cx")||"50%",y2:s.getAttribute("cy")||"50%",r2:s.getAttribute("r")||"50%"}}var d=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(s){s||(s={}),s.coords||(s.coords={});var a,f=this;Object.keys(s).forEach(function(p){f[p]=s[p]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,a={x1:s.coords.x1||0,y1:s.coords.y1||0,x2:s.coords.x2||0,y2:s.coords.y2||0},this.type==="radial"&&(a.r1=s.coords.r1||0,a.r2=s.coords.r2||0),this.coords=a,this.colorStops=s.colorStops.slice()},addColorStop:function(s){for(var a in s){var f=new t.Color(s[a]);this.colorStops.push({offset:parseFloat(a),color:f.toRgb(),opacity:f.getAlpha()})}return this},toObject:function(s){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,a,s),a},toSVG:function(s,m){var f=d(this.coords,!0),p,u,m=m||{},v,C,_=d(this.colorStops,!0),w=f.r1>f.r2,x=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),T=-this.offsetX,S=-this.offsetY,A=!!m.additionalTransform,I=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(_.sort(function(U,ne){return U.offset-ne.offset}),I==="objectBoundingBox"?(T/=s.width,S/=s.height):(T+=s.width/2,S+=s.height/2),s.type==="path"&&this.gradientUnits!=="percentage"&&(T-=s.pathOffset.x,S-=s.pathOffset.y),x[4]-=T,x[5]-=S,C='id="SVGID_'+this.id+'" gradientUnits="'+I+'"',C+=' gradientTransform="'+(A?m.additionalTransform+" ":"")+t.util.matrixToSVG(x)+'" ',this.type==="linear"?v=["<linearGradient ",C,' x1="',f.x1,'" y1="',f.y1,'" x2="',f.x2,'" y2="',f.y2,`">
`]:this.type==="radial"&&(v=["<radialGradient ",C,' cx="',w?f.x1:f.x2,'" cy="',w?f.y1:f.y2,'" r="',w?f.r1:f.r2,'" fx="',w?f.x2:f.x1,'" fy="',w?f.y2:f.y1,`">
`]),this.type==="radial"){if(w)for(_=_.concat(),_.reverse(),p=0,u=_.length;p<u;p++)_[p].offset=1-_[p].offset;var R=Math.min(f.r1,f.r2);if(R>0){var B=Math.max(f.r1,f.r2),V=R/B;for(p=0,u=_.length;p<u;p++)_[p].offset+=V*(1-_[p].offset)}}for(p=0,u=_.length;p<u;p++){var H=_[p];v.push("<stop ",'offset="',H.offset*100+"%",'" style="stop-color:',H.color,typeof H.opacity<"u"?";stop-opacity: "+H.opacity:";",`"/>
`)}return v.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),v.join("")},toLive:function(s){var a,f=t.util.object.clone(this.coords),p,u;if(this.type){for(this.type==="linear"?a=s.createLinearGradient(f.x1,f.y1,f.x2,f.y2):this.type==="radial"&&(a=s.createRadialGradient(f.x1,f.y1,f.r1,f.x2,f.y2,f.r2)),p=0,u=this.colorStops.length;p<u;p++){var m=this.colorStops[p].color,v=this.colorStops[p].opacity,C=this.colorStops[p].offset;typeof v<"u"&&(m=new t.Color(m).setAlpha(v).toRgba()),a.addColorStop(C,m)}return a}}}),t.util.object.extend(t.Gradient,{fromElement:function(s,a,f,p){var u=parseFloat(f)/(/%$/.test(f)?100:1);u=u<0?0:u>1?1:u,isNaN(u)&&(u=1);var m=s.getElementsByTagName("stop"),v,C=s.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",_=s.getAttribute("gradientTransform")||"",w=[],x,T,S=0,A=0,I;for(s.nodeName==="linearGradient"||s.nodeName==="LINEARGRADIENT"?(v="linear",x=r(s)):(v="radial",x=l(s)),T=m.length;T--;)w.push(c(m[T],u));I=t.parseTransformAttribute(_),i(a,x,p,C),C==="pixels"&&(S=-a.left,A=-a.top);var R=new t.Gradient({id:s.getAttribute("id"),type:v,coords:x,colorStops:w,gradientUnits:C,gradientTransform:I,offsetX:S,offsetY:A});return R}});function i(s,a,f,p){var u,m;Object.keys(a).forEach(function(v){u=a[v],u==="Infinity"?m=1:u==="-Infinity"?m=0:(m=parseFloat(a[v],10),typeof u=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(u)&&(m*=.01,p==="pixels"&&((v==="x1"||v==="x2"||v==="r2")&&(m*=f.viewBoxWidth||f.width),(v==="y1"||v==="y2")&&(m*=f.viewBoxHeight||f.height)))),a[v]=m})}}(),function(){var c=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(r,l){if(r||(r={}),this.id=t.Object.__uid++,this.setOptions(r),!r.source||r.source&&typeof r.source!="string"){l&&l(this);return}else{var d=this;this.source=t.util.createImage(),t.util.loadImage(r.source,function(i,s){d.source=i,l&&l(d,s)},null,this.crossOrigin)}},toObject:function(r){var l=t.Object.NUM_FRACTION_DIGITS,d,i;return typeof this.source.src=="string"?d=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(d=this.source.toDataURL()),i={type:"pattern",source:d,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:c(this.offsetX,l),offsetY:c(this.offsetY,l),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,i,r),i},toSVG:function(r){var l=typeof this.source=="function"?this.source():this.source,d=l.width/r.width,i=l.height/r.height,s=this.offsetX/r.width,a=this.offsetY/r.height,f="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(i=1,a&&(i+=Math.abs(a))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(d=1,s&&(d+=Math.abs(s))),l.src?f=l.src:l.toDataURL&&(f=l.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+s+'" y="'+a+'" width="'+d+'" height="'+i+`">
<image x="0" y="0" width="`+l.width+'" height="'+l.height+'" xlink:href="'+f+`"></image>
</pattern>
`},setOptions:function(r){for(var l in r)this[l]=r[l]},toLive:function(r){var l=this.source;return!l||typeof l.src<"u"&&(!l.complete||l.naturalWidth===0||l.naturalHeight===0)?"":r.createPattern(l,this.repeat)}})}(),function(c){var r=c.fabric||(c.fabric={}),l=r.util.toFixed;if(r.Shadow){r.warn("fabric.Shadow is already defined.");return}r.Shadow=r.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(d){typeof d=="string"&&(d=this._parseShadow(d));for(var i in d)this[i]=d[i];this.id=r.Object.__uid++},_parseShadow:function(d){var i=d.trim(),s=r.Shadow.reOffsetsAndBlur.exec(i)||[],a=i.replace(r.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:a.trim(),offsetX:parseFloat(s[1],10)||0,offsetY:parseFloat(s[2],10)||0,blur:parseFloat(s[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(d){var i=40,s=40,a=r.Object.NUM_FRACTION_DIGITS,f=r.util.rotateVector({x:this.offsetX,y:this.offsetY},r.util.degreesToRadians(-d.angle)),p=20,u=new r.Color(this.color);return d.width&&d.height&&(i=l((Math.abs(f.x)+this.blur)/d.width,a)*100+p,s=l((Math.abs(f.y)+this.blur)/d.height,a)*100+p),d.flipX&&(f.x*=-1),d.flipY&&(f.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+s+'%" height="'+(100+2*s)+'%" x="-'+i+'%" width="'+(100+2*i)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+l(this.blur?this.blur/2:0,a)+`"></feGaussianBlur>
	<feOffset dx="`+l(f.x,a)+'" dy="'+l(f.y,a)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+u.toRgb()+'" flood-opacity="'+u.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var d={},i=r.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(s){this[s]!==i[s]&&(d[s]=this[s])},this),d}}),r.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var c=t.util.object.extend,r=t.util.getElementOffset,l=t.util.removeFromArray,d=t.util.toFixed,i=t.util.transformPoint,s=t.util.invertTransform,a=t.util.getNodeCanvas,f=t.util.createCanvasElement,p=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(u,m){m||(m={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(u,m)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(u,m){var v=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(u),this._initOptions(m),this.interactive||this._initRetinaScaling(),m.overlayImage&&this.setOverlayImage(m.overlayImage,v),m.backgroundImage&&this.setBackgroundImage(m.backgroundImage,v),m.backgroundColor&&this.setBackgroundColor(m.backgroundColor,v),m.overlayColor&&this.setOverlayColor(m.overlayColor,v),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var u=t.devicePixelRatio;this.__initRetinaScaling(u,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(u,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(u,m,v){m.setAttribute("width",this.width*u),m.setAttribute("height",this.height*u),v.scale(u,u)},calcOffset:function(){return this._offset=r(this.lowerCanvasEl),this},setOverlayImage:function(u,m,v){return this.__setBgOverlayImage("overlayImage",u,m,v)},setBackgroundImage:function(u,m,v){return this.__setBgOverlayImage("backgroundImage",u,m,v)},setOverlayColor:function(u,m){return this.__setBgOverlayColor("overlayColor",u,m)},setBackgroundColor:function(u,m){return this.__setBgOverlayColor("backgroundColor",u,m)},__setBgOverlayImage:function(u,m,v,C){return typeof m=="string"?t.util.loadImage(m,function(_,w){if(_){var x=new t.Image(_,C);this[u]=x,x.canvas=this}v&&v(_,w)},this,C&&C.crossOrigin):(C&&m.setOptions(C),this[u]=m,m&&(m.canvas=this),v&&v(m,!1)),this},__setBgOverlayColor:function(u,m,v){return this[u]=m,this._initGradient(m,u),this._initPattern(m,u,v),this},_createCanvasElement:function(){var u=f();if(!u||(u.style||(u.style={}),typeof u.getContext>"u"))throw p;return u},_initOptions:function(u){var m=this.lowerCanvasEl;this._setOptions(u),this.width=this.width||parseInt(m.width,10)||0,this.height=this.height||parseInt(m.height,10)||0,this.lowerCanvasEl.style&&(m.width=this.width,m.height=this.height,m.style.width=this.width+"px",m.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(u){u&&u.getContext?this.lowerCanvasEl=u:this.lowerCanvasEl=t.util.getById(u)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(u,m){return this.setDimensions({width:u},m)},setHeight:function(u,m){return this.setDimensions({height:u},m)},setDimensions:function(u,m){var v;m=m||{};for(var C in u)v=u[C],m.cssOnly||(this._setBackstoreDimension(C,u[C]),v+="px",this.hasLostContext=!0),m.backstoreOnly||this._setCssDimension(C,v);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),m.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(u,m){return this.lowerCanvasEl[u]=m,this.upperCanvasEl&&(this.upperCanvasEl[u]=m),this.cacheCanvasEl&&(this.cacheCanvasEl[u]=m),this[u]=m,this},_setCssDimension:function(u,m){return this.lowerCanvasEl.style[u]=m,this.upperCanvasEl&&(this.upperCanvasEl.style[u]=m),this.wrapperEl&&(this.wrapperEl.style[u]=m),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(u){var m=this._activeObject,v=this.backgroundImage,C=this.overlayImage,_,w,x;for(this.viewportTransform=u,w=0,x=this._objects.length;w<x;w++)_=this._objects[w],_.group||_.setCoords(!0);return m&&m.setCoords(),v&&v.setCoords(!0),C&&C.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(u,m){var v=u,C=this.viewportTransform.slice(0);u=i(u,s(this.viewportTransform)),C[0]=m,C[3]=m;var _=i(u,C);return C[4]+=v.x-_.x,C[5]+=v.y-_.y,this.setViewportTransform(C)},setZoom:function(u){return this.zoomToPoint(new t.Point(0,0),u),this},absolutePan:function(u){var m=this.viewportTransform.slice(0);return m[4]=-u.x,m[5]=-u.y,this.setViewportTransform(m)},relativePan:function(u){return this.absolutePan(new t.Point(-u.x-this.viewportTransform[4],-u.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(u){this.stateful&&u.setupState(),u._set("canvas",this),u.setCoords(),this.fire("object:added",{target:u}),u.fire("added")},_onObjectRemoved:function(u){this.fire("object:removed",{target:u}),u.fire("removed"),delete u.canvas},clearContext:function(u){return u.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var u=this.contextContainer;return this.renderCanvas(u,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var u={},m=this.width,v=this.height,C=s(this.viewportTransform);return u.tl=i({x:0,y:0},C),u.br=i({x:m,y:v},C),u.tr=new t.Point(u.br.x,u.tl.y),u.bl=new t.Point(u.tl.x,u.br.y),this.vptCoords=u,u},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(u,m){var v=this.viewportTransform,C=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(u),t.util.setImageSmoothing(u,this.imageSmoothingEnabled),this.fire("before:render",{ctx:u}),this._renderBackground(u),u.save(),u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._renderObjects(u,m),u.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(u),C&&(C.canvas=this,C.shouldCache(),C._transformDone=!0,C.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(u)),this._renderOverlay(u),this.controlsAboveOverlay&&this.interactive&&this.drawControls(u),this.fire("after:render",{ctx:u})},drawClipPathOnCanvas:function(u){var m=this.viewportTransform,v=this.clipPath;u.save(),u.transform(m[0],m[1],m[2],m[3],m[4],m[5]),u.globalCompositeOperation="destination-in",v.transform(u),u.scale(1/v.zoomX,1/v.zoomY),u.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),u.restore()},_renderObjects:function(u,m){var v,C;for(v=0,C=m.length;v<C;++v)m[v]&&m[v].render(u)},_renderBackgroundOrOverlay:function(u,m){var v=this[m+"Color"],C=this[m+"Image"],_=this.viewportTransform,w=this[m+"Vpt"];if(!(!v&&!C)){if(v){u.save(),u.beginPath(),u.moveTo(0,0),u.lineTo(this.width,0),u.lineTo(this.width,this.height),u.lineTo(0,this.height),u.closePath(),u.fillStyle=v.toLive?v.toLive(u,this):v,w&&u.transform(_[0],_[1],_[2],_[3],_[4],_[5]),u.transform(1,0,0,1,v.offsetX||0,v.offsetY||0);var x=v.gradientTransform||v.patternTransform;x&&u.transform(x[0],x[1],x[2],x[3],x[4],x[5]),u.fill(),u.restore()}C&&(u.save(),w&&u.transform(_[0],_[1],_[2],_[3],_[4],_[5]),C.render(u),u.restore())}},_renderBackground:function(u){this._renderBackgroundOrOverlay(u,"background")},_renderOverlay:function(u){this._renderBackgroundOrOverlay(u,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(u){return this._centerObject(u,new t.Point(this.getCenterPoint().x,u.getCenterPoint().y))},centerObjectV:function(u){return this._centerObject(u,new t.Point(u.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(u){var m=this.getCenterPoint();return this._centerObject(u,m)},viewportCenterObject:function(u){var m=this.getVpCenter();return this._centerObject(u,m)},viewportCenterObjectH:function(u){var m=this.getVpCenter();return this._centerObject(u,new t.Point(m.x,u.getCenterPoint().y)),this},viewportCenterObjectV:function(u){var m=this.getVpCenter();return this._centerObject(u,new t.Point(u.getCenterPoint().x,m.y))},getVpCenter:function(){var u=this.getCenterPoint(),m=s(this.viewportTransform);return i(u,m)},_centerObject:function(u,m){return u.setPositionByOrigin(m,"center","center"),u.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(u){return this.toDatalessObject(u)},toObject:function(u){return this._toObjectMethod("toObject",u)},toDatalessObject:function(u){return this._toObjectMethod("toDatalessObject",u)},_toObjectMethod:function(u,m){var v=this.clipPath,C={version:t.version,objects:this._toObjects(u,m)};return v&&!v.excludeFromExport&&(C.clipPath=this._toObject(this.clipPath,u,m)),c(C,this.__serializeBgOverlay(u,m)),t.util.populateWithProperties(this,C,m),C},_toObjects:function(u,m){return this._objects.filter(function(v){return!v.excludeFromExport}).map(function(v){return this._toObject(v,u,m)},this)},_toObject:function(u,m,v){var C;this.includeDefaultValues||(C=u.includeDefaultValues,u.includeDefaultValues=!1);var _=u[m](v);return this.includeDefaultValues||(u.includeDefaultValues=C),_},__serializeBgOverlay:function(u,m){var v={},C=this.backgroundImage,_=this.overlayImage,w=this.backgroundColor,x=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(v.background=w.toObject(m)):w&&(v.background=w),x&&x.toObject?x.excludeFromExport||(v.overlay=x.toObject(m)):x&&(v.overlay=x),C&&!C.excludeFromExport&&(v.backgroundImage=this._toObject(C,u,m)),_&&!_.excludeFromExport&&(v.overlayImage=this._toObject(_,u,m)),v},svgViewportTransformation:!0,toSVG:function(u,m){u||(u={}),u.reviver=m;var v=[];return this._setSVGPreamble(v,u),this._setSVGHeader(v,u),this.clipPath&&v.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(v,"background"),this._setSVGBgOverlayImage(v,"backgroundImage",m),this._setSVGObjects(v,m),this.clipPath&&v.push(`</g>
`),this._setSVGBgOverlayColor(v,"overlay"),this._setSVGBgOverlayImage(v,"overlayImage",m),v.push("</svg>"),v.join("")},_setSVGPreamble:function(u,m){m.suppressPreamble||u.push('<?xml version="1.0" encoding="',m.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(u,m){var v=m.width||this.width,C=m.height||this.height,_,w='viewBox="0 0 '+this.width+" "+this.height+'" ',x=t.Object.NUM_FRACTION_DIGITS;m.viewBox?w='viewBox="'+m.viewBox.x+" "+m.viewBox.y+" "+m.viewBox.width+" "+m.viewBox.height+'" ':this.svgViewportTransformation&&(_=this.viewportTransform,w='viewBox="'+d(-_[4]/_[0],x)+" "+d(-_[5]/_[3],x)+" "+d(this.width/_[0],x)+" "+d(this.height/_[3],x)+'" '),u.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',v,'" ','height="',C,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(m),`</defs>
`)},createSVGClipPathMarkup:function(u){var m=this.clipPath;return m?(m.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+m.clipPathId+`" >
`+this.clipPath.toClipPathSVG(u.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var u=this,m=["background","overlay"].map(function(v){var C=u[v+"Color"];if(C&&C.toLive){var _=u[v+"Vpt"],w=u.viewportTransform,x={width:u.width/(_?w[0]:1),height:u.height/(_?w[3]:1)};return C.toSVG(x,{additionalTransform:_?t.util.matrixToSVG(w):""})}});return m.join("")},createSVGFontFacesMarkup:function(){var u="",m={},v,C,_,w,x,T,S,A,I,R=t.fontPaths,B=[];for(this._objects.forEach(function H(U){B.push(U),U._objects&&U._objects.forEach(H)}),A=0,I=B.length;A<I;A++)if(v=B[A],C=v.fontFamily,!(v.type.indexOf("text")===-1||m[C]||!R[C])&&(m[C]=!0,!!v.styles)){_=v.styles;for(x in _){w=_[x];for(S in w)T=w[S],C=T.fontFamily,!m[C]&&R[C]&&(m[C]=!0)}}for(var V in m)u+=[`		@font-face {
`,"			font-family: '",V,`';
`,"			src: url('",R[V],`');
`,`		}
`].join("");return u&&(u=['	<style type="text/css">',`<![CDATA[
`,u,"]]>",`</style>
`].join("")),u},_setSVGObjects:function(u,m){var v,C,_,w=this._objects;for(C=0,_=w.length;C<_;C++)v=w[C],!v.excludeFromExport&&this._setSVGObject(u,v,m)},_setSVGObject:function(u,m,v){u.push(m.toSVG(v))},_setSVGBgOverlayImage:function(u,m,v){this[m]&&!this[m].excludeFromExport&&this[m].toSVG&&u.push(this[m].toSVG(v))},_setSVGBgOverlayColor:function(u,m){var v=this[m+"Color"],C=this.viewportTransform,_=this.width,w=this.height;if(v)if(v.toLive){var x=v.repeat,T=t.util.invertTransform(C),S=this[m+"Vpt"],A=S?t.util.matrixToSVG(T):"";u.push('<rect transform="'+A+" translate(",_/2,",",w/2,')"',' x="',v.offsetX-_/2,'" y="',v.offsetY-w/2,'" ','width="',x==="repeat-y"||x==="no-repeat"?v.source.width:_,'" height="',x==="repeat-x"||x==="no-repeat"?v.source.height:w,'" fill="url(#SVGID_'+v.id+')"',`></rect>
`)}else u.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',v,'"',`></rect>
`)},sendToBack:function(u){if(!u)return this;var m=this._activeObject,v,C,_;if(u===m&&u.type==="activeSelection")for(_=m._objects,v=_.length;v--;)C=_[v],l(this._objects,C),this._objects.unshift(C);else l(this._objects,u),this._objects.unshift(u);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(u){if(!u)return this;var m=this._activeObject,v,C,_;if(u===m&&u.type==="activeSelection")for(_=m._objects,v=0;v<_.length;v++)C=_[v],l(this._objects,C),this._objects.push(C);else l(this._objects,u),this._objects.push(u);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(u,m){if(!u)return this;var v=this._activeObject,C,_,w,x,T,S=0;if(u===v&&u.type==="activeSelection")for(T=v._objects,C=0;C<T.length;C++)_=T[C],w=this._objects.indexOf(_),w>0+S&&(x=w-1,l(this._objects,_),this._objects.splice(x,0,_)),S++;else w=this._objects.indexOf(u),w!==0&&(x=this._findNewLowerIndex(u,w,m),l(this._objects,u),this._objects.splice(x,0,u));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(u,m,v){var C,_;if(v)for(C=m,_=m-1;_>=0;--_){var w=u.intersectsWithObject(this._objects[_])||u.isContainedWithinObject(this._objects[_])||this._objects[_].isContainedWithinObject(u);if(w){C=_;break}}else C=m-1;return C},bringForward:function(u,m){if(!u)return this;var v=this._activeObject,C,_,w,x,T,S=0;if(u===v&&u.type==="activeSelection")for(T=v._objects,C=T.length;C--;)_=T[C],w=this._objects.indexOf(_),w<this._objects.length-1-S&&(x=w+1,l(this._objects,_),this._objects.splice(x,0,_)),S++;else w=this._objects.indexOf(u),w!==this._objects.length-1&&(x=this._findNewUpperIndex(u,w,m),l(this._objects,u),this._objects.splice(x,0,u));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(u,m,v){var C,_,w;if(v)for(C=m,_=m+1,w=this._objects.length;_<w;++_){var x=u.intersectsWithObject(this._objects[_])||u.isContainedWithinObject(this._objects[_])||this._objects[_].isContainedWithinObject(u);if(x){C=_;break}}else C=m+1;return C},moveTo:function(u,m){return l(this._objects,u),this._objects.splice(m,0,u),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(u){u.dispose&&u.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),c(t.StaticCanvas.prototype,t.Observable),c(t.StaticCanvas.prototype,t.Collection),c(t.StaticCanvas.prototype,t.DataURLExporter),c(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(u){var m=f();if(!m||!m.getContext)return null;var v=m.getContext("2d");if(!v)return null;switch(u){case"setLineDash":return typeof v.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var u=a(this.lowerCanvasEl);return u&&u.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(u){var m=a(this.lowerCanvasEl);return m&&m.createJPEGStream(u)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(c){c.strokeStyle=this.color,c.lineWidth=this.width,c.lineCap=this.strokeLineCap,c.miterLimit=this.strokeMiterLimit,c.lineJoin=this.strokeLineJoin,c.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(c){var r=this.canvas.viewportTransform;c.save(),c.transform(r[0],r[1],r[2],r[3],r[4],r[5])},_setShadow:function(){if(this.shadow){var c=this.canvas,r=this.shadow,l=c.contextTop,d=c.getZoom();c&&c._isRetinaScaling()&&(d*=t.devicePixelRatio),l.shadowColor=r.color,l.shadowBlur=r.blur*d,l.shadowOffsetX=r.offsetX*d,l.shadowOffsetY=r.offsetY*d}},needsFullRender:function(){var c=new t.Color(this.color);return c.getAlpha()<1||!!this.shadow},_resetShadow:function(){var c=this.canvas.contextTop;c.shadowColor="",c.shadowBlur=c.shadowOffsetX=c.shadowOffsetY=0},_isOutSideCanvas:function(c){return c.x<0||c.x>this.canvas.getWidth()||c.y<0||c.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(c){this.canvas=c,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(c,r,l){var d=r.midPointFrom(l);return c.quadraticCurveTo(r.x,r.y,d.x,d.y),d},onMouseDown:function(c,r){this.canvas._isMainEvent(r.e)&&(this.drawStraightLine=r.e[this.straightLineKey],this._prepareForDrawing(c),this._captureDrawingPath(c),this._render())},onMouseMove:function(c,r){if(this.canvas._isMainEvent(r.e)&&(this.drawStraightLine=r.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c))&&this._captureDrawingPath(c)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var l=this._points,d=l.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,l[d-2],l[d-1],!0),i.stroke(),i.restore()}},onMouseUp:function(c){return this.canvas._isMainEvent(c.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(c){var r=new t.Point(c.x,c.y);this._reset(),this._addPoint(r),this.canvas.contextTop.moveTo(r.x,r.y)},_addPoint:function(c){return this._points.length>1&&c.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(c),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(c){var r=new t.Point(c.x,c.y);return this._addPoint(r)},_render:function(c){var r,l,d=this._points[0],i=this._points[1];if(c=c||this.canvas.contextTop,this._saveAndTransform(c),c.beginPath(),this._points.length===2&&d.x===i.x&&d.y===i.y){var s=this.width/1e3;d=new t.Point(d.x,d.y),i=new t.Point(i.x,i.y),d.x-=s,i.x+=s}for(c.moveTo(d.x,d.y),r=1,l=this._points.length;r<l;r++)this._drawSegment(c,d,i),d=this._points[r],i=this._points[r+1];c.lineTo(d.x,d.y),c.stroke(),c.restore()},convertPointsToSVGPath:function(c){var r=this.width/1e3;return t.util.getSmoothPathFromPoints(c,r)},_isEmptySVGPath:function(c){var r=t.util.joinPath(c);return r==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(c){var r=new t.Path(c,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,r.shadow=new t.Shadow(this.shadow)),r},decimatePoints:function(c,r){if(c.length<=2)return c;var l=this.canvas.getZoom(),d=Math.pow(r/l,2),i,s=c.length-1,a=c[0],f=[a],p;for(i=1;i<s-1;i++)p=Math.pow(a.x-c[i].x,2)+Math.pow(a.y-c[i].y,2),p>=d&&(a=c[i],f.push(a));return f.push(c[s]),f},_finalizeAndAddPath:function(){var c=this.canvas.contextTop;c.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var r=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(r)){this.canvas.requestRenderAll();return}var l=this.createPath(r);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:l}),this.canvas.add(l),this.canvas.requestRenderAll(),l.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:l})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(c){this.canvas=c,this.points=[]},drawDot:function(c){var r=this.addPoint(c),l=this.canvas.contextTop;this._saveAndTransform(l),this.dot(l,r),l.restore()},dot:function(c,r){c.fillStyle=r.fill,c.beginPath(),c.arc(r.x,r.y,r.radius,0,Math.PI*2,!1),c.closePath(),c.fill()},onMouseDown:function(c){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(c)},_render:function(){var c=this.canvas.contextTop,r,l,d=this.points;for(this._saveAndTransform(c),r=0,l=d.length;r<l;r++)this.dot(c,d[r]);c.restore()},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(c),this._render()):this.drawDot(c))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove,r,l;this.canvas.renderOnAddRemove=!1;var d=[];for(r=0,l=this.points.length;r<l;r++){var i=this.points[r],s=new t.Circle({radius:i.radius,left:i.x,top:i.y,originX:"center",originY:"center",fill:i.fill});this.shadow&&(s.shadow=new t.Shadow(this.shadow)),d.push(s)}var a=new t.Group(d);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},addPoint:function(c){var r=new t.Point(c.x,c.y),l=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,d=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return r.radius=l,r.fill=d,this.points.push(r),r}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(c){this.canvas=c,this.sprayChunks=[]},onMouseDown:function(c){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(c),this.render(this.sprayChunkPoints)},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.addSprayChunk(c),this.render(this.sprayChunkPoints))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var r=[],l=0,d=this.sprayChunks.length;l<d;l++)for(var i=this.sprayChunks[l],s=0,a=i.length;s<a;s++){var f=new t.Rect({width:i[s].width,height:i[s].width,left:i[s].x+1,top:i[s].y+1,originX:"center",originY:"center",fill:this.color});r.push(f)}this.optimizeOverlapping&&(r=this._getOptimizedRects(r));var p=new t.Group(r);this.shadow&&p.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:p}),this.canvas.add(p),this.canvas.fire("path:created",{path:p}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},_getOptimizedRects:function(c){var r={},l,d,i;for(d=0,i=c.length;d<i;d++)l=c[d].left+""+c[d].top,r[l]||(r[l]=c[d]);var s=[];for(l in r)s.push(r[l]);return s},render:function(c){var r=this.canvas.contextTop,l,d;for(r.fillStyle=this.color,this._saveAndTransform(r),l=0,d=c.length;l<d;l++){var i=c[l];typeof i.opacity<"u"&&(r.globalAlpha=i.opacity),r.fillRect(i.x,i.y,i.width,i.width)}r.restore()},_render:function(){var c=this.canvas.contextTop,r,l;for(c.fillStyle=this.color,this._saveAndTransform(c),r=0,l=this.sprayChunks.length;r<l;r++)this.render(this.sprayChunks[r]);c.restore()},addSprayChunk:function(c){this.sprayChunkPoints=[];var r,l,d,i=this.width/2,s;for(s=0;s<this.density;s++){r=t.util.getRandomInt(c.x-i,c.x+i),l=t.util.getRandomInt(c.y-i,c.y+i),this.dotWidthVariance?d=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):d=this.dotWidth;var a=new t.Point(r,l);a.width=d,this.randomOpacity&&(a.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var c=20,r=5,l=t.util.createCanvasElement(),d=l.getContext("2d");return l.width=l.height=c+r,d.fillStyle=this.color,d.beginPath(),d.arc(c/2,c/2,c/2,0,Math.PI*2,!1),d.closePath(),d.fill(),l},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(c){return c.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(c){this.callSuper("_setBrushStyles",c),c.strokeStyle=this.getPattern(c)},createPath:function(c){var r=this.callSuper("createPath",c),l=r._getLeftTopCoords().scalarAdd(r.strokeWidth/2);return r.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-l.x,offsetY:-l.y}),r}}),function(){var c=t.util.getPointer,r=t.util.degreesToRadians,l=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(i,s){s||(s={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(i,s),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var i=this.getActiveObjects(),s,a,f;if(i.length>0&&!this.preserveObjectStacking){a=[],f=[];for(var p=0,u=this._objects.length;p<u;p++)s=this._objects[p],i.indexOf(s)===-1?a.push(s):f.push(s);i.length>1&&(this._activeObject._objects=f),a.push.apply(a,f)}else a=this._objects;return a},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var i=this.contextContainer;return this.renderCanvas(i,this._chooseObjectsToRender()),this},renderTopLayer:function(i){i.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(i),this.contextTopDirty=!0),i.restore()},renderTop:function(){var i=this.contextTop;return this.clearContext(i),this.renderTopLayer(i),this.fire("after:render"),this},_normalizePointer:function(i,s){var a=i.calcTransformMatrix(),f=t.util.invertTransform(a),p=this.restorePointerVpt(s);return t.util.transformPoint(p,f)},isTargetTransparent:function(i,s,a){if(i.shouldCache()&&i._cacheCanvas&&i!==this._activeObject){var f=this._normalizePointer(i,{x:s,y:a}),p=Math.max(i.cacheTranslationX+f.x*i.zoomX,0),u=Math.max(i.cacheTranslationY+f.y*i.zoomY,0),_=t.util.isTransparent(i._cacheContext,Math.round(p),Math.round(u),this.targetFindTolerance);return _}var m=this.contextCache,v=i.selectionBackgroundColor,C=this.viewportTransform;i.selectionBackgroundColor="",this.clearContext(m),m.save(),m.transform(C[0],C[1],C[2],C[3],C[4],C[5]),i.render(m),m.restore(),i.selectionBackgroundColor=v;var _=t.util.isTransparent(m,s,a,this.targetFindTolerance);return _},_isSelectionKeyPressed:function(i){var s=!1;return Array.isArray(this.selectionKey)?s=!!this.selectionKey.find(function(a){return i[a]===!0}):s=i[this.selectionKey],s},_shouldClearSelection:function(i,s){var a=this.getActiveObjects(),f=this._activeObject;return!s||s&&f&&a.length>1&&a.indexOf(s)===-1&&f!==s&&!this._isSelectionKeyPressed(i)||s&&!s.evented||s&&!s.selectable&&f&&f!==s},_shouldCenterTransform:function(i,s,a){if(i){var f;return s==="scale"||s==="scaleX"||s==="scaleY"||s==="resizing"?f=this.centeredScaling||i.centeredScaling:s==="rotate"&&(f=this.centeredRotation||i.centeredRotation),f?!a:a}},_getOriginFromCorner:function(i,s){var a={x:i.originX,y:i.originY};return s==="ml"||s==="tl"||s==="bl"?a.x="right":(s==="mr"||s==="tr"||s==="br")&&(a.x="left"),s==="tl"||s==="mt"||s==="tr"?a.y="bottom":(s==="bl"||s==="mb"||s==="br")&&(a.y="top"),a},_getActionFromCorner:function(i,s,a,f){if(!s||!i)return"drag";var p=f.controls[s];return p.getActionName(a,p,f)},_setupCurrentTransform:function(i,s,a){if(s){var f=this.getPointer(i),p=s.__corner,u=s.controls[p],m=a&&p?u.getActionHandler(i,s,u):t.controlsUtils.dragHandler,v=this._getActionFromCorner(a,p,i,s),C=this._getOriginFromCorner(s,p),_=i[this.centeredKey],w={target:s,action:v,actionHandler:m,corner:p,scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,offsetX:f.x-s.left,offsetY:f.y-s.top,originX:C.x,originY:C.y,ex:f.x,ey:f.y,lastX:f.x,lastY:f.y,theta:r(s.angle),width:s.width*s.scaleX,shiftKey:i.shiftKey,altKey:_,original:t.util.saveObjectTransform(s)};this._shouldCenterTransform(s,v,_)&&(w.originX="center",w.originY="center"),w.original.originX=C.x,w.original.originY=C.y,this._currentTransform=w,this._beforeTransform(i)}},setCursor:function(i){this.upperCanvasEl.style.cursor=i},_drawSelection:function(i){var s=this._groupSelector,a=new t.Point(s.ex,s.ey),f=t.util.transformPoint(a,this.viewportTransform),p=new t.Point(s.ex+s.left,s.ey+s.top),u=t.util.transformPoint(p,this.viewportTransform),m=Math.min(f.x,u.x),v=Math.min(f.y,u.y),C=Math.max(f.x,u.x),_=Math.max(f.y,u.y),w=this.selectionLineWidth/2;this.selectionColor&&(i.fillStyle=this.selectionColor,i.fillRect(m,v,C-m,_-v)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(i.lineWidth=this.selectionLineWidth,i.strokeStyle=this.selectionBorderColor,m+=w,v+=w,C-=w,_-=w,t.Object.prototype._setLineDash.call(this,i,this.selectionDashArray),i.strokeRect(m,v,C-m,_-v))},findTarget:function(i,s){if(!this.skipTargetFind){var a=!0,f=this.getPointer(i,a),p=this._activeObject,u=this.getActiveObjects(),m,v,C=l(i),_=u.length>1&&!s||u.length===1;if(this.targets=[],_&&p._findTargetCorner(f,C)||u.length>1&&!s&&p===this._searchPossibleTargets([p],f))return p;if(u.length===1&&p===this._searchPossibleTargets([p],f))if(this.preserveObjectStacking)m=p,v=this.targets,this.targets=[];else return p;var w=this._searchPossibleTargets(this._objects,f);return i[this.altSelectionKey]&&w&&m&&w!==m&&(w=m,this.targets=v),w}},_checkTarget:function(i,s,a){if(s&&s.visible&&s.evented&&s.containsPoint(i))if((this.perPixelTargetFind||s.perPixelTargetFind)&&!s.isEditing){var f=this.isTargetTransparent(s,a.x,a.y);if(!f)return!0}else return!0},_searchPossibleTargets:function(i,s){for(var a,f=i.length,p;f--;){var u=i[f],m=u.group?this._normalizePointer(u.group,s):s;if(this._checkTarget(m,u,s)){a=i[f],a.subTargetCheck&&a instanceof t.Group&&(p=this._searchPossibleTargets(a._objects,s),p&&this.targets.push(p));break}}return a},restorePointerVpt:function(i){return t.util.transformPoint(i,t.util.invertTransform(this.viewportTransform))},getPointer:function(i,s){if(this._absolutePointer&&!s)return this._absolutePointer;if(this._pointer&&s)return this._pointer;var a=c(i),f=this.upperCanvasEl,p=f.getBoundingClientRect(),u=p.width||0,m=p.height||0,v;(!u||!m)&&("top"in p&&"bottom"in p&&(m=Math.abs(p.top-p.bottom)),"right"in p&&"left"in p&&(u=Math.abs(p.right-p.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,s||(a=this.restorePointerVpt(a));var C=this.getRetinaScaling();return C!==1&&(a.x/=C,a.y/=C),u===0||m===0?v={width:1,height:1}:v={width:f.width/u,height:f.height/m},{x:a.x*v.width,y:a.y*v.height}},_createUpperCanvas:function(){var i=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),s=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),t.util.addClass(a,"upper-canvas "+i),this.wrapperEl.appendChild(a),this._copyCanvasStyle(s,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(i){var s=this.width||i.width,a=this.height||i.height;t.util.setStyle(i,{position:"absolute",width:s+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),i.width=s,i.height=a,t.util.makeElementUnselectable(i)},_copyCanvasStyle:function(i,s){s.style.cssText=i.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var i=this._activeObject;return i?i.type==="activeSelection"&&i._objects?i._objects.slice(0):[i]:[]},_onObjectRemoved:function(i){i===this._activeObject&&(this.fire("before:selection:cleared",{target:i}),this._discardActiveObject(),this.fire("selection:cleared",{target:i}),i.fire("deselected")),i===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",i)},_fireSelectionEvents:function(i,s){var a=!1,f=this.getActiveObjects(),p=[],u=[];i.forEach(function(m){f.indexOf(m)===-1&&(a=!0,m.fire("deselected",{e:s,target:m}),u.push(m))}),f.forEach(function(m){i.indexOf(m)===-1&&(a=!0,m.fire("selected",{e:s,target:m}),p.push(m))}),i.length>0&&f.length>0?a&&this.fire("selection:updated",{e:s,selected:p,deselected:u}):f.length>0?this.fire("selection:created",{e:s,selected:p}):i.length>0&&this.fire("selection:cleared",{e:s,deselected:u})},setActiveObject:function(i,s){var a=this.getActiveObjects();return this._setActiveObject(i,s),this._fireSelectionEvents(a,s),this},_setActiveObject:function(i,s){return this._activeObject===i||!this._discardActiveObject(s,i)||i.onSelect({e:s})?!1:(this._activeObject=i,!0)},_discardActiveObject:function(i,s){var a=this._activeObject;if(a){if(a.onDeselect({e:i,object:s}))return!1;this._activeObject=null}return!0},discardActiveObject:function(i){var s=this.getActiveObjects(),a=this.getActiveObject();return s.length&&this.fire("before:selection:cleared",{target:a,e:i}),this._discardActiveObject(i),this._fireSelectionEvents(s,i),this},dispose:function(){var i=this.wrapperEl;return this.removeListeners(),i.removeChild(this.upperCanvasEl),i.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(s){t.util.cleanUpJsdomNode(this[s]),this[s]=void 0}).bind(this)),i.parentNode&&i.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(i){var s=this._activeObject;s&&s._renderControls(i)},_toObject:function(i,s,a){var f=this._realizeGroupTransformOnObject(i),p=this.callSuper("_toObject",i,s,a);return this._unwindGroupTransformOnObject(i,f),p},_realizeGroupTransformOnObject:function(i){if(i.group&&i.group.type==="activeSelection"&&this._activeObject===i.group){var s=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],a={};return s.forEach(function(f){a[f]=i[f]}),t.util.addTransformToObject(i,this._activeObject.calcOwnMatrix()),a}else return null},_unwindGroupTransformOnObject:function(i,s){s&&i.set(s)},_setSVGObject:function(i,s,a){var f=this._realizeGroupTransformOnObject(s);this.callSuper("_setSVGObject",i,s,a),this._unwindGroupTransformOnObject(s,f)},setViewportTransform:function(i){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,i)}});for(var d in t.StaticCanvas)d!=="prototype"&&(t.Canvas[d]=t.StaticCanvas[d])}(),function(){var c=t.util.addListener,r=t.util.removeListener,l=3,d=2,i=1,s={passive:!1};function a(f,p){return f.button&&f.button===p-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(c,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(f,p){var u=this.upperCanvasEl,m=this._getEventPrefix();f(t.window,"resize",this._onResize),f(u,m+"down",this._onMouseDown),f(u,m+"move",this._onMouseMove,s),f(u,m+"out",this._onMouseOut),f(u,m+"enter",this._onMouseEnter),f(u,"wheel",this._onMouseWheel),f(u,"contextmenu",this._onContextMenu),f(u,"dblclick",this._onDoubleClick),f(u,"dragover",this._onDragOver),f(u,"dragenter",this._onDragEnter),f(u,"dragleave",this._onDragLeave),f(u,"drop",this._onDrop),this.enablePointerEvents||f(u,"touchstart",this._onTouchStart,s),typeof eventjs<"u"&&p in eventjs&&(eventjs[p](u,"gesture",this._onGesture),eventjs[p](u,"drag",this._onDrag),eventjs[p](u,"orientation",this._onOrientationChange),eventjs[p](u,"shake",this._onShake),eventjs[p](u,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(r,"remove");var f=this._getEventPrefix();r(t.document,f+"up",this._onMouseUp),r(t.document,"touchend",this._onTouchEnd,s),r(t.document,f+"move",this._onMouseMove,s),r(t.document,"touchmove",this._onMouseMove,s)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(f,p){this.__onTransformGesture&&this.__onTransformGesture(f,p)},_onDrag:function(f,p){this.__onDrag&&this.__onDrag(f,p)},_onMouseWheel:function(f){this.__onMouseWheel(f)},_onMouseOut:function(f){var p=this._hoveredTarget;this.fire("mouse:out",{target:p,e:f}),this._hoveredTarget=null,p&&p.fire("mouseout",{e:f});var u=this;this._hoveredTargets.forEach(function(m){u.fire("mouse:out",{target:p,e:f}),m&&p.fire("mouseout",{e:f})}),this._hoveredTargets=[]},_onMouseEnter:function(f){!this._currentTransform&&!this.findTarget(f)&&(this.fire("mouse:over",{target:null,e:f}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(f,p){this.__onOrientationChange&&this.__onOrientationChange(f,p)},_onShake:function(f,p){this.__onShake&&this.__onShake(f,p)},_onLongPress:function(f,p){this.__onLongPress&&this.__onLongPress(f,p)},_onDragOver:function(f){f.preventDefault();var p=this._simpleEventHandler("dragover",f);this._fireEnterLeaveEvents(p,f)},_onDrop:function(f){return this._simpleEventHandler("drop:before",f),this._simpleEventHandler("drop",f)},_onContextMenu:function(f){return this.stopContextMenu&&(f.stopPropagation(),f.preventDefault()),!1},_onDoubleClick:function(f){this._cacheTransformEventData(f),this._handleEvent(f,"dblclick"),this._resetTransformEventData(f)},getPointerId:function(f){var p=f.changedTouches;return p?p[0]&&p[0].identifier:this.enablePointerEvents?f.pointerId:-1},_isMainEvent:function(f){return f.isPrimary===!0?!0:f.isPrimary===!1?!1:f.type==="touchend"&&f.touches.length===0?!0:f.changedTouches?f.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(f){f.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(f)),this.__onMouseDown(f),this._resetTransformEventData();var p=this.upperCanvasEl,u=this._getEventPrefix();c(t.document,"touchend",this._onTouchEnd,s),c(t.document,"touchmove",this._onMouseMove,s),r(p,u+"down",this._onMouseDown)},_onMouseDown:function(f){this.__onMouseDown(f),this._resetTransformEventData();var p=this.upperCanvasEl,u=this._getEventPrefix();r(p,u+"move",this._onMouseMove,s),c(t.document,u+"up",this._onMouseUp),c(t.document,u+"move",this._onMouseMove,s)},_onTouchEnd:function(f){if(!(f.touches.length>0)){this.__onMouseUp(f),this._resetTransformEventData(),this.mainTouchId=null;var p=this._getEventPrefix();r(t.document,"touchend",this._onTouchEnd,s),r(t.document,"touchmove",this._onMouseMove,s);var u=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){c(u.upperCanvasEl,p+"down",u._onMouseDown),u._willAddMouseDown=0},400)}},_onMouseUp:function(f){this.__onMouseUp(f),this._resetTransformEventData();var p=this.upperCanvasEl,u=this._getEventPrefix();this._isMainEvent(f)&&(r(t.document,u+"up",this._onMouseUp),r(t.document,u+"move",this._onMouseMove,s),c(p,u+"move",this._onMouseMove,s))},_onMouseMove:function(f){!this.allowTouchScrolling&&f.preventDefault&&f.preventDefault(),this.__onMouseMove(f)},_onResize:function(){this.calcOffset()},_shouldRender:function(f){var p=this._activeObject;return!!p!=!!f||p&&f&&p!==f?!0:(p&&p.isEditing,!1)},__onMouseUp:function(f){var p,u=this._currentTransform,m=this._groupSelector,v=!1,C=!m||m.left===0&&m.top===0;if(this._cacheTransformEventData(f),p=this._target,this._handleEvent(f,"up:before"),a(f,l)){this.fireRightClick&&this._handleEvent(f,"up",l,C);return}if(a(f,d)){this.fireMiddleClick&&this._handleEvent(f,"up",d,C),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(f);return}if(this._isMainEvent(f)){if(u&&(this._finalizeCurrentTransform(f),v=u.actionPerformed),!C){var _=p===this._activeObject;this._maybeGroupObjects(f),v||(v=this._shouldRender(p)||!_&&p===this._activeObject)}var w,x;if(p){if(w=p._findTargetCorner(this.getPointer(f,!0),t.util.isTouchEvent(f)),p.selectable&&p!==this._activeObject&&p.activeOn==="up")this.setActiveObject(p,f),v=!0;else{var T=p.controls[w],S=T&&T.getMouseUpHandler(f,p,T);S&&(x=this.getPointer(f),S(f,u,x.x,x.y))}p.isMoving=!1}if(u&&(u.target!==p||u.corner!==w)){var A=u.target&&u.target.controls[u.corner],I=A&&A.getMouseUpHandler(f,p,T);x=x||this.getPointer(f),I&&I(f,u,x.x,x.y)}this._setCursorFromEvent(f,p),this._handleEvent(f,"up",i,C),this._groupSelector=null,this._currentTransform=null,p&&(p.__corner=0),v?this.requestRenderAll():C||this.renderTop()}},_simpleEventHandler:function(f,p){var u=this.findTarget(p),m=this.targets,v={e:p,target:u,subTargets:m};if(this.fire(f,v),u&&u.fire(f,v),!m)return u;for(var C=0;C<m.length;C++)m[C].fire(f,v);return u},_handleEvent:function(f,p,u,m){var v=this._target,C=this.targets||[],_={e:f,target:v,subTargets:C,button:u||i,isClick:m||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};p==="up"&&(_.currentTarget=this.findTarget(f),_.currentSubTargets=this.targets),this.fire("mouse:"+p,_),v&&v.fire("mouse"+p,_);for(var w=0;w<C.length;w++)C[w].fire("mouse"+p,_)},_finalizeCurrentTransform:function(f){var p=this._currentTransform,u=p.target,m={e:f,target:u,transform:p,action:p.action};u._scaling&&(u._scaling=!1),u.setCoords(),(p.actionPerformed||this.stateful&&u.hasStateChanged())&&this._fire("modified",m)},_onMouseDownInDrawingMode:function(f){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(f).requestRenderAll();var p=this.getPointer(f);this.freeDrawingBrush.onMouseDown(p,{e:f,pointer:p}),this._handleEvent(f,"down")},_onMouseMoveInDrawingMode:function(f){if(this._isCurrentlyDrawing){var p=this.getPointer(f);this.freeDrawingBrush.onMouseMove(p,{e:f,pointer:p})}this.setCursor(this.freeDrawingCursor),this._handleEvent(f,"move")},_onMouseUpInDrawingMode:function(f){var p=this.getPointer(f);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:f,pointer:p}),this._handleEvent(f,"up")},__onMouseDown:function(f){this._cacheTransformEventData(f),this._handleEvent(f,"down:before");var p=this._target;if(a(f,l)){this.fireRightClick&&this._handleEvent(f,"down",l);return}if(a(f,d)){this.fireMiddleClick&&this._handleEvent(f,"down",d);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(f);return}if(this._isMainEvent(f)&&!this._currentTransform){var u=this._pointer;this._previousPointer=u;var m=this._shouldRender(p),v=this._shouldGroup(f,p);if(this._shouldClearSelection(f,p)?this.discardActiveObject(f):v&&(this._handleGrouping(f,p),p=this._activeObject),this.selection&&(!p||!p.selectable&&!p.isEditing&&p!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),p){var C=p===this._activeObject;p.selectable&&p.activeOn==="down"&&this.setActiveObject(p,f);var _=p._findTargetCorner(this.getPointer(f,!0),t.util.isTouchEvent(f));if(p.__corner=_,p===this._activeObject&&(_||!v)){this._setupCurrentTransform(f,p,C);var w=p.controls[_],u=this.getPointer(f),x=w&&w.getMouseDownHandler(f,p,w);x&&x(f,this._currentTransform,u.x,u.y)}}this._handleEvent(f,"down"),(m||v)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(f){this._resetTransformEventData(),this._pointer=this.getPointer(f,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(f)||null},_beforeTransform:function(f){var p=this._currentTransform;this.stateful&&p.target.saveState(),this.fire("before:transform",{e:f,transform:p})},__onMouseMove:function(f){this._handleEvent(f,"move:before"),this._cacheTransformEventData(f);var p,u;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(f);return}if(this._isMainEvent(f)){var m=this._groupSelector;m?(u=this._absolutePointer,m.left=u.x-m.ex,m.top=u.y-m.ey,this.renderTop()):this._currentTransform?this._transformObject(f):(p=this.findTarget(f)||null,this._setCursorFromEvent(f,p),this._fireOverOutEvents(p,f)),this._handleEvent(f,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(f,p){var u=this._hoveredTarget,m=this._hoveredTargets,v=this.targets,C=Math.max(m.length,v.length);this.fireSyntheticInOutEvents(f,p,{oldTarget:u,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var _=0;_<C;_++)this.fireSyntheticInOutEvents(v[_],p,{oldTarget:m[_],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=f,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(f,p){var u=this._draggedoverTarget,m=this._hoveredTargets,v=this.targets,C=Math.max(m.length,v.length);this.fireSyntheticInOutEvents(f,p,{oldTarget:u,evtOut:"dragleave",evtIn:"dragenter"});for(var _=0;_<C;_++)this.fireSyntheticInOutEvents(v[_],p,{oldTarget:m[_],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=f},fireSyntheticInOutEvents:function(f,p,u){var m,v,C=u.oldTarget,_,w,x=C!==f,T=u.canvasEvtIn,S=u.canvasEvtOut;x&&(m={e:p,target:f,previousTarget:C},v={e:p,target:C,nextTarget:f}),w=f&&x,_=C&&x,_&&(S&&this.fire(S,v),C.fire(u.evtOut,v)),w&&(T&&this.fire(T,m),f.fire(u.evtIn,m))},__onMouseWheel:function(f){this._cacheTransformEventData(f),this._handleEvent(f,"wheel"),this._resetTransformEventData()},_transformObject:function(f){var p=this.getPointer(f),u=this._currentTransform;u.reset=!1,u.shiftKey=f.shiftKey,u.altKey=f[this.centeredKey],this._performTransformAction(f,u,p),u.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(f,p,u){var m=u.x,v=u.y,C=p.action,_=!1,w=p.actionHandler;w&&(_=w(f,p,m,v)),C==="drag"&&_&&(p.target.isMoving=!0,this.setCursor(p.target.moveCursor||this.moveCursor)),p.actionPerformed=p.actionPerformed||_},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(f,p){if(!p)return this.setCursor(this.defaultCursor),!1;var u=p.hoverCursor||this.hoverCursor,m=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,v=(!m||!m.contains(p))&&p._findTargetCorner(this.getPointer(f,!0));v?this.setCursor(this.getCornerCursor(v,p,f)):(p.subTargetCheck&&this.targets.concat().reverse().map(function(C){u=C.hoverCursor||u}),this.setCursor(u))},getCornerCursor:function(f,p,u){var m=p.controls[f];return m.cursorStyleHandler(u,m,p)}})}(),function(){var c=Math.min,r=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(l,d){var i=this._activeObject;return i&&this._isSelectionKeyPressed(l)&&d&&d.selectable&&this.selection&&(i!==d||i.type==="activeSelection")&&!d.onSelect({e:l})},_handleGrouping:function(l,d){var i=this._activeObject;i.__corner||d===i&&(d=this.findTarget(l,!0),!d||!d.selectable)||(i&&i.type==="activeSelection"?this._updateActiveSelection(d,l):this._createActiveSelection(d,l))},_updateActiveSelection:function(l,d){var i=this._activeObject,s=i._objects.slice(0);i.contains(l)?(i.removeWithUpdate(l),this._hoveredTarget=l,this._hoveredTargets=this.targets.concat(),i.size()===1&&this._setActiveObject(i.item(0),d)):(i.addWithUpdate(l),this._hoveredTarget=i,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(s,d)},_createActiveSelection:function(l,d){var i=this.getActiveObjects(),s=this._createGroup(l);this._hoveredTarget=s,this._setActiveObject(s,d),this._fireSelectionEvents(i,d)},_createGroup:function(l){var d=this._objects,i=d.indexOf(this._activeObject)<d.indexOf(l),s=i?[this._activeObject,l]:[l,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(s,{canvas:this})},_groupSelectedObjects:function(l){var d=this._collectObjects(l),i;d.length===1?this.setActiveObject(d[0],l):d.length>1&&(i=new t.ActiveSelection(d.reverse(),{canvas:this}),this.setActiveObject(i,l))},_collectObjects:function(l){for(var d=[],i,s=this._groupSelector.ex,a=this._groupSelector.ey,f=s+this._groupSelector.left,p=a+this._groupSelector.top,u=new t.Point(c(s,f),c(a,p)),m=new t.Point(r(s,f),r(a,p)),v=!this.selectionFullyContained,C=s===f&&a===p,_=this._objects.length;_--&&(i=this._objects[_],!(!(!i||!i.selectable||!i.visible)&&(v&&i.intersectsWithRect(u,m,!0)||i.isContainedWithinRect(u,m,!0)||v&&i.containsPoint(u,null,!0)||v&&i.containsPoint(m,null,!0))&&(d.push(i),C))););return d.length>1&&(d=d.filter(function(w){return!w.onSelect({e:l})})),d},_maybeGroupObjects:function(l){this.selection&&this._groupSelector&&this._groupSelectedObjects(l),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(c){c||(c={});var r=c.format||"png",l=c.quality||1,d=(c.multiplier||1)*(c.enableRetinaScaling?this.getRetinaScaling():1),i=this.toCanvasElement(d,c);return t.util.toDataURL(i,r,l)},toCanvasElement:function(c,r){c=c||1,r=r||{};var l=(r.width||this.width)*c,d=(r.height||this.height)*c,i=this.getZoom(),s=this.width,a=this.height,f=i*c,p=this.viewportTransform,u=(p[4]-(r.left||0))*c,m=(p[5]-(r.top||0))*c,v=this.interactive,C=[f,0,0,f,u,m],_=this.enableRetinaScaling,w=t.util.createCanvasElement(),x=this.contextTop;return w.width=l,w.height=d,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=C,this.width=l,this.height=d,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=p,this.width=s,this.height=a,this.calcViewportBoundaries(),this.interactive=v,this.enableRetinaScaling=_,this.contextTop=x,w}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(c,r,l){if(c){var d=typeof c=="string"?JSON.parse(c):t.util.object.clone(c),i=this,s=d.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete d.clipPath,this._enlivenObjects(d.objects,function(f){i.clear(),i._setBgOverlay(d,function(){s?i._enlivenObjects([s],function(p){i.clipPath=p[0],i.__setupCanvas.call(i,d,f,a,r)}):i.__setupCanvas.call(i,d,f,a,r)})},l),this}},__setupCanvas:function(c,r,l,d){var i=this;r.forEach(function(s,a){i.insertAt(s,a)}),this.renderOnAddRemove=l,delete c.objects,delete c.backgroundImage,delete c.overlayImage,delete c.background,delete c.overlay,this._setOptions(c),this.renderAll(),d&&d()},_setBgOverlay:function(c,r){var l={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!c.backgroundImage&&!c.overlayImage&&!c.background&&!c.overlay){r&&r();return}var d=function(){l.backgroundImage&&l.overlayImage&&l.backgroundColor&&l.overlayColor&&r&&r()};this.__setBgOverlay("backgroundImage",c.backgroundImage,l,d),this.__setBgOverlay("overlayImage",c.overlayImage,l,d),this.__setBgOverlay("backgroundColor",c.background,l,d),this.__setBgOverlay("overlayColor",c.overlay,l,d)},__setBgOverlay:function(c,r,l,d){var i=this;if(!r){l[c]=!0,d&&d();return}c==="backgroundImage"||c==="overlayImage"?t.util.enlivenObjects([r],function(s){i[c]=s[0],l[c]=!0,d&&d()}):this["set"+t.util.string.capitalize(c,!0)](r,function(){l[c]=!0,d&&d()})},_enlivenObjects:function(c,r,l){if(!c||c.length===0){r&&r([]);return}t.util.enlivenObjects(c,function(d){r&&r(d)},null,l)},_toDataURL:function(c,r){this.clone(function(l){r(l.toDataURL(c))})},_toDataURLWithMultiplier:function(c,r,l){this.clone(function(d){l(d.toDataURLWithMultiplier(c,r))})},clone:function(c,r){var l=JSON.stringify(this.toJSON(r));this.cloneWithoutData(function(d){d.loadFromJSON(l,function(){c&&c(d)})})},cloneWithoutData:function(c){var r=t.util.createCanvasElement();r.width=this.width,r.height=this.height;var l=new t.Canvas(r);this.backgroundImage?(l.setBackgroundImage(this.backgroundImage.src,function(){l.renderAll(),c&&c(l)}),l.backgroundImageOpacity=this.backgroundImageOpacity,l.backgroundImageStretch=this.backgroundImageStretch):c&&c(l)}}),function(c){var r=c.fabric||(c.fabric={}),l=r.util.object.extend,d=r.util.object.clone,i=r.util.toFixed,s=r.util.string.capitalize,a=r.util.degreesToRadians,f=!r.isLikelyNode,p=2;r.Object||(r.Object=r.util.createClass(r.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:f,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(u){u&&this.setOptions(u)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=r.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(u){var m=r.perfLimitSizeTotal,v=u.width,C=u.height,_=r.maxCacheSideLimit,w=r.minCacheSideLimit;if(v<=_&&C<=_&&v*C<=m)return v<w&&(u.width=w),C<w&&(u.height=w),u;var x=v/C,T=r.util.limitDimsByArea(x,m),S=r.util.capValue,A=S(w,T.x,_),I=S(w,T.y,_);return v>A&&(u.zoomX/=v/A,u.width=A,u.capped=!0),C>I&&(u.zoomY/=C/I,u.height=I,u.capped=!0),u},_getCacheCanvasDimensions:function(){var u=this.getTotalObjectScaling(),m=this._getTransformedDimensions(0,0),v=m.x*u.scaleX/this.scaleX,C=m.y*u.scaleY/this.scaleY;return{width:v+p,height:C+p,zoomX:u.scaleX,zoomY:u.scaleY,x:v,y:C}},_updateCacheCanvas:function(){var u=this.canvas;if(this.noScaleCache&&u&&u._currentTransform){var m=u._currentTransform.target,v=u._currentTransform.action;if(this===m&&v.slice&&v.slice(0,5)==="scale")return!1}var C=this._cacheCanvas,_=this._limitCacheSize(this._getCacheCanvasDimensions()),w=r.minCacheSideLimit,x=_.width,T=_.height,S,A,I=_.zoomX,R=_.zoomY,B=x!==this.cacheWidth||T!==this.cacheHeight,V=this.zoomX!==I||this.zoomY!==R,H=B||V,U=0,ne=0,ee=!1;if(B){var N=this._cacheCanvas.width,b=this._cacheCanvas.height,O=x>N||T>b,D=(x<N*.9||T<b*.9)&&N>w&&b>w;ee=O||D,O&&!_.capped&&(x>w||T>w)&&(U=x*.1,ne=T*.1)}return this instanceof r.Text&&this.path&&(H=!0,ee=!0,U+=this.getHeightOfLine(0)*this.zoomX,ne+=this.getHeightOfLine(0)*this.zoomY),H?(ee?(C.width=Math.ceil(x+U),C.height=Math.ceil(T+ne)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,C.width,C.height)),S=_.x/2,A=_.y/2,this.cacheTranslationX=Math.round(C.width/2-S)+S,this.cacheTranslationY=Math.round(C.height/2-A)+A,this.cacheWidth=x,this.cacheHeight=T,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(I,R),this.zoomX=I,this.zoomY=R,!0):!1},setOptions:function(u){this._setOptions(u),this._initGradient(u.fill,"fill"),this._initGradient(u.stroke,"stroke"),this._initPattern(u.fill,"fill"),this._initPattern(u.stroke,"stroke")},transform:function(u){var m=this.group&&!this.group._transformDone||this.group&&this.canvas&&u===this.canvas.contextTop,v=this.calcTransformMatrix(!m);u.transform(v[0],v[1],v[2],v[3],v[4],v[5])},toObject:function(u){var m=r.Object.NUM_FRACTION_DIGITS,v={type:this.type,version:r.version,originX:this.originX,originY:this.originY,left:i(this.left,m),top:i(this.top,m),width:i(this.width,m),height:i(this.height,m),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,m),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:i(this.strokeMiterLimit,m),scaleX:i(this.scaleX,m),scaleY:i(this.scaleY,m),angle:i(this.angle,m),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,m),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:i(this.skewX,m),skewY:i(this.skewY,m)};return this.clipPath&&!this.clipPath.excludeFromExport&&(v.clipPath=this.clipPath.toObject(u),v.clipPath.inverted=this.clipPath.inverted,v.clipPath.absolutePositioned=this.clipPath.absolutePositioned),r.util.populateWithProperties(this,v,u),this.includeDefaultValues||(v=this._removeDefaultValues(v)),v},toDatalessObject:function(u){return this.toObject(u)},_removeDefaultValues:function(u){var m=r.util.getKlass(u.type).prototype,v=m.stateProperties;return v.forEach(function(C){C==="left"||C==="top"||(u[C]===m[C]&&delete u[C],Array.isArray(u[C])&&Array.isArray(m[C])&&u[C].length===0&&m[C].length===0&&delete u[C])}),u},toString:function(){return"#<fabric."+s(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var u=r.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(u.scaleX),scaleY:Math.abs(u.scaleY)}},getTotalObjectScaling:function(){var u=this.getObjectScaling(),m=u.scaleX,v=u.scaleY;if(this.canvas){var C=this.canvas.getZoom(),_=this.canvas.getRetinaScaling();m*=C*_,v*=C*_}return{scaleX:m,scaleY:v}},getObjectOpacity:function(){var u=this.opacity;return this.group&&(u*=this.group.getObjectOpacity()),u},_set:function(u,m){var v=u==="scaleX"||u==="scaleY",C=this[u]!==m,_=!1;return v&&(m=this._constrainScale(m)),u==="scaleX"&&m<0?(this.flipX=!this.flipX,m*=-1):u==="scaleY"&&m<0?(this.flipY=!this.flipY,m*=-1):u==="shadow"&&m&&!(m instanceof r.Shadow)?m=new r.Shadow(m):u==="dirty"&&this.group&&this.group.set("dirty",m),this[u]=m,C&&(_=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(u)>-1?(this.dirty=!0,_&&this.group.set("dirty",!0)):_&&this.stateProperties.indexOf(u)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:r.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(u){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(u.save(),this._setupCompositeOperation(u),this.drawSelectionBackground(u),this.transform(u),this._setOpacity(u),this._setShadow(u,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(u)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(u),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),u.restore())},renderCache:function(u){u=u||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,u.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(u,m){if(u.save(),m.inverted?u.globalCompositeOperation="destination-out":u.globalCompositeOperation="destination-in",m.absolutePositioned){var v=r.util.invertTransform(this.calcTransformMatrix());u.transform(v[0],v[1],v[2],v[3],v[4],v[5])}m.transform(u),u.scale(1/m.zoomX,1/m.zoomY),u.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),u.restore()},drawObject:function(u,m){var v=this.fill,C=this.stroke;m?(this.fill="black",this.stroke="",this._setClippingProperties(u)):this._renderBackground(u),this._render(u),this._drawClipPath(u,this.clipPath),this.fill=v,this.stroke=C},_drawClipPath:function(u,m){m&&(m.canvas=this.canvas,m.shouldCache(),m._transformDone=!0,m.renderCache({forClipping:!0}),this.drawClipPathOnCache(u,m))},drawCacheOnCanvas:function(u){u.scale(1/this.zoomX,1/this.zoomY),u.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(u){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!u&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!u){var m=this.cacheWidth/this.zoomX,v=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-m/2,-v/2,m,v)}return!0}return!1},_renderBackground:function(u){if(this.backgroundColor){var m=this._getNonTransformedDimensions();u.fillStyle=this.backgroundColor,u.fillRect(-m.x/2,-m.y/2,m.x,m.y),this._removeShadow(u)}},_setOpacity:function(u){this.group&&!this.group._transformDone?u.globalAlpha=this.getObjectOpacity():u.globalAlpha*=this.opacity},_setStrokeStyles:function(u,m){var v=m.stroke;v&&(u.lineWidth=m.strokeWidth,u.lineCap=m.strokeLineCap,u.lineDashOffset=m.strokeDashOffset,u.lineJoin=m.strokeLineJoin,u.miterLimit=m.strokeMiterLimit,v.toLive?v.gradientUnits==="percentage"||v.gradientTransform||v.patternTransform?this._applyPatternForTransformedGradient(u,v):(u.strokeStyle=v.toLive(u,this),this._applyPatternGradientTransform(u,v)):u.strokeStyle=m.stroke)},_setFillStyles:function(u,m){var v=m.fill;v&&(v.toLive?(u.fillStyle=v.toLive(u,this),this._applyPatternGradientTransform(u,m.fill)):u.fillStyle=v)},_setClippingProperties:function(u){u.globalAlpha=1,u.strokeStyle="transparent",u.fillStyle="#000000"},_setLineDash:function(u,m){!m||m.length===0||(1&m.length&&m.push.apply(m,m),u.setLineDash(m))},_renderControls:function(u,m){var v=this.getViewportTransform(),C=this.calcTransformMatrix(),_,w,x;m=m||{},w=typeof m.hasBorders<"u"?m.hasBorders:this.hasBorders,x=typeof m.hasControls<"u"?m.hasControls:this.hasControls,C=r.util.multiplyTransformMatrices(v,C),_=r.util.qrDecompose(C),u.save(),u.translate(_.translateX,_.translateY),u.lineWidth=1*this.borderScaleFactor,this.group||(u.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(_.angle-=180),u.rotate(a(this.group?_.angle:this.angle)),m.forActiveSelection||this.group?w&&this.drawBordersInGroup(u,_,m):w&&this.drawBorders(u,m),x&&this.drawControls(u,m),u.restore()},_setShadow:function(u){if(this.shadow){var m=this.shadow,v=this.canvas,C,_=v&&v.viewportTransform[0]||1,w=v&&v.viewportTransform[3]||1;m.nonScaling?C={scaleX:1,scaleY:1}:C=this.getObjectScaling(),v&&v._isRetinaScaling()&&(_*=r.devicePixelRatio,w*=r.devicePixelRatio),u.shadowColor=m.color,u.shadowBlur=m.blur*r.browserShadowBlurConstant*(_+w)*(C.scaleX+C.scaleY)/4,u.shadowOffsetX=m.offsetX*_*C.scaleX,u.shadowOffsetY=m.offsetY*w*C.scaleY}},_removeShadow:function(u){this.shadow&&(u.shadowColor="",u.shadowBlur=u.shadowOffsetX=u.shadowOffsetY=0)},_applyPatternGradientTransform:function(u,m){if(!m||!m.toLive)return{offsetX:0,offsetY:0};var v=m.gradientTransform||m.patternTransform,C=-this.width/2+m.offsetX||0,_=-this.height/2+m.offsetY||0;return m.gradientUnits==="percentage"?u.transform(this.width,0,0,this.height,C,_):u.transform(1,0,0,1,C,_),v&&u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),{offsetX:C,offsetY:_}},_renderPaintInOrder:function(u){this.paintFirst==="stroke"?(this._renderStroke(u),this._renderFill(u)):(this._renderFill(u),this._renderStroke(u))},_render:function(){},_renderFill:function(u){this.fill&&(u.save(),this._setFillStyles(u,this),this.fillRule==="evenodd"?u.fill("evenodd"):u.fill(),u.restore())},_renderStroke:function(u){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(u),u.save(),this.strokeUniform&&this.group){var m=this.getObjectScaling();u.scale(1/m.scaleX,1/m.scaleY)}else this.strokeUniform&&u.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(u,this.strokeDashArray),this._setStrokeStyles(u,this),u.stroke(),u.restore()}},_applyPatternForTransformedGradient:function(u,m){var v=this._limitCacheSize(this._getCacheCanvasDimensions()),C=r.util.createCanvasElement(),_,w=this.canvas.getRetinaScaling(),x=v.x/this.scaleX/w,T=v.y/this.scaleY/w;C.width=x,C.height=T,_=C.getContext("2d"),_.beginPath(),_.moveTo(0,0),_.lineTo(x,0),_.lineTo(x,T),_.lineTo(0,T),_.closePath(),_.translate(x/2,T/2),_.scale(v.zoomX/this.scaleX/w,v.zoomY/this.scaleY/w),this._applyPatternGradientTransform(_,m),_.fillStyle=m.toLive(u),_.fill(),u.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),u.scale(w*this.scaleX/v.zoomX,w*this.scaleY/v.zoomY),u.strokeStyle=_.createPattern(C,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var u=r.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",u.scaleX),this.set("scaleY",u.scaleY),this.angle=u.angle,this.skewX=u.skewX,this.skewY=0}},_removeTransformMatrix:function(u){var m=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),m=r.util.transformPoint(m,this.transformMatrix)),this.transformMatrix=null,u&&(this.scaleX*=u.scaleX,this.scaleY*=u.scaleY,this.cropX=u.cropX,this.cropY=u.cropY,m.x+=u.offsetLeft,m.y+=u.offsetTop,this.width=u.width,this.height=u.height),this.setPositionByOrigin(m,"center","center")},clone:function(u,m){var v=this.toObject(m);this.constructor.fromObject?this.constructor.fromObject(v,u):r.Object._fromObject("Object",v,u)},cloneAsImage:function(u,m){var v=this.toCanvasElement(m);return u&&u(new r.Image(v)),this},toCanvasElement:function(u){u||(u={});var m=r.util,v=m.saveObjectTransform(this),C=this.group,_=this.shadow,w=Math.abs,x=(u.multiplier||1)*(u.enableRetinaScaling?r.devicePixelRatio:1);delete this.group,u.withoutTransform&&m.resetObjectTransform(this),u.withoutShadow&&(this.shadow=null);var T=r.util.createCanvasElement(),S=this.getBoundingRect(!0,!0),A=this.shadow,I,R={x:0,y:0},B,V,H;A&&(B=A.blur,A.nonScaling?I={scaleX:1,scaleY:1}:I=this.getObjectScaling(),R.x=2*Math.round(w(A.offsetX)+B)*w(I.scaleX),R.y=2*Math.round(w(A.offsetY)+B)*w(I.scaleY)),V=S.width+R.x,H=S.height+R.y,T.width=Math.ceil(V),T.height=Math.ceil(H);var U=new r.StaticCanvas(T,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});u.format==="jpeg"&&(U.backgroundColor="#fff"),this.setPositionByOrigin(new r.Point(U.width/2,U.height/2),"center","center");var ne=this.canvas;U.add(this);var ee=U.toCanvasElement(x||1,u);return this.shadow=_,this.set("canvas",ne),C&&(this.group=C),this.set(v).setCoords(),U._objects=[],U.dispose(),U=null,ee},toDataURL:function(u){return u||(u={}),r.util.toDataURL(this.toCanvasElement(u),u.format||"png",u.quality||1)},isType:function(u){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===u},complexity:function(){return 1},toJSON:function(u){return this.toObject(u)},rotate:function(u){var m=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return m&&this._setOriginToCenter(),this.set("angle",u),m&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(u,m){m=m||this.canvas.getPointer(u);var v=new r.Point(m.x,m.y),C=this._getLeftTopCoords();return this.angle&&(v=r.util.rotatePoint(v,C,a(-this.angle))),{x:v.x-C.x,y:v.y-C.y}},_setupCompositeOperation:function(u){this.globalCompositeOperation&&(u.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){r.runningAnimations&&r.runningAnimations.cancelByTarget(this)}}),r.util.createAccessors&&r.util.createAccessors(r.Object),l(r.Object.prototype,r.Observable),r.Object.NUM_FRACTION_DIGITS=2,r.Object.ENLIVEN_PROPS=["clipPath"],r.Object._fromObject=function(u,m,v,C){var _=r[u];m=d(m,!0),r.util.enlivenPatterns([m.fill,m.stroke],function(w){typeof w[0]<"u"&&(m.fill=w[0]),typeof w[1]<"u"&&(m.stroke=w[1]),r.util.enlivenObjectEnlivables(m,m,function(){var x=C?new _(m[C],m):new _(m);v&&v(x)})})},r.Object.__uid=0)}(e),function(){var c=t.util.degreesToRadians,r={left:-.5,center:0,right:.5},l={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(d,i,s,a,f){var p=d.x,u=d.y,m,v,C;return typeof i=="string"?i=r[i]:i-=.5,typeof a=="string"?a=r[a]:a-=.5,m=a-i,typeof s=="string"?s=l[s]:s-=.5,typeof f=="string"?f=l[f]:f-=.5,v=f-s,(m||v)&&(C=this._getTransformedDimensions(),p=d.x+m*C.x,u=d.y+v*C.y),new t.Point(p,u)},translateToCenterPoint:function(d,i,s){var a=this.translateToGivenOrigin(d,i,s,"center","center");return this.angle?t.util.rotatePoint(a,d,c(this.angle)):a},translateToOriginPoint:function(d,i,s){var a=this.translateToGivenOrigin(d,"center","center",i,s);return this.angle?t.util.rotatePoint(a,d,c(this.angle)):a},getCenterPoint:function(){var d=new t.Point(this.left,this.top);return this.translateToCenterPoint(d,this.originX,this.originY)},getPointByOrigin:function(d,i){var s=this.getCenterPoint();return this.translateToOriginPoint(s,d,i)},toLocalPoint:function(d,i,s){var a=this.getCenterPoint(),f,p;return typeof i<"u"&&typeof s<"u"?f=this.translateToGivenOrigin(a,"center","center",i,s):f=new t.Point(this.left,this.top),p=new t.Point(d.x,d.y),this.angle&&(p=t.util.rotatePoint(p,a,-c(this.angle))),p.subtractEquals(f)},setPositionByOrigin:function(d,i,s){var a=this.translateToCenterPoint(d,i,s),f=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",f.x),this.set("top",f.y)},adjustPosition:function(d){var i=c(this.angle),s=this.getScaledWidth(),a=t.util.cos(i)*s,f=t.util.sin(i)*s,p,u;typeof this.originX=="string"?p=r[this.originX]:p=this.originX-.5,typeof d=="string"?u=r[d]:u=d-.5,this.left+=a*(u-p),this.top+=f*(u-p),this.setCoords(),this.originX=d},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var d=this.getCenterPoint();this.originX="center",this.originY="center",this.left=d.x,this.top=d.y},_resetOrigin:function(){var d=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=d.x,this.top=d.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function c(s){return[new t.Point(s.tl.x,s.tl.y),new t.Point(s.tr.x,s.tr.y),new t.Point(s.br.x,s.br.y),new t.Point(s.bl.x,s.bl.y)]}var r=t.util,l=r.degreesToRadians,d=r.multiplyTransformMatrices,i=r.transformPoint;r.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(s,a){return a?s?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),s?this.aCoords:this.lineCoords)},getCoords:function(s,a){return c(this._getCoords(s,a))},intersectsWithRect:function(s,a,f,p){var u=this.getCoords(f,p),m=t.Intersection.intersectPolygonRectangle(u,s,a);return m.status==="Intersection"},intersectsWithObject:function(s,a,f){var p=t.Intersection.intersectPolygonPolygon(this.getCoords(a,f),s.getCoords(a,f));return p.status==="Intersection"||s.isContainedWithinObject(this,a,f)||this.isContainedWithinObject(s,a,f)},isContainedWithinObject:function(s,a,f){for(var p=this.getCoords(a,f),u=a?s.aCoords:s.lineCoords,m=0,v=s._getImageLines(u);m<4;m++)if(!s.containsPoint(p[m],v))return!1;return!0},isContainedWithinRect:function(s,a,f,p){var u=this.getBoundingRect(f,p);return u.left>=s.x&&u.left+u.width<=a.x&&u.top>=s.y&&u.top+u.height<=a.y},containsPoint:function(s,m,f,p){var u=this._getCoords(f,p),m=m||this._getImageLines(u),v=this._findCrossPoints(s,m);return v!==0&&v%2===1},isOnScreen:function(s){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,f=this.canvas.vptCoords.br,p=this.getCoords(!0,s);return p.some(function(u){return u.x<=f.x&&u.x>=a.x&&u.y<=f.y&&u.y>=a.y})||this.intersectsWithRect(a,f,!0,s)?!0:this._containsCenterOfCanvas(a,f,s)},_containsCenterOfCanvas:function(s,a,f){var p={x:(s.x+a.x)/2,y:(s.y+a.y)/2};return!!this.containsPoint(p,null,!0,f)},isPartiallyOnScreen:function(s){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,f=this.canvas.vptCoords.br;if(this.intersectsWithRect(a,f,!0,s))return!0;var p=this.getCoords(!0,s).every(function(u){return(u.x>=f.x||u.x<=a.x)&&(u.y>=f.y||u.y<=a.y)});return p&&this._containsCenterOfCanvas(a,f,s)},_getImageLines:function(s){var a={topline:{o:s.tl,d:s.tr},rightline:{o:s.tr,d:s.br},bottomline:{o:s.br,d:s.bl},leftline:{o:s.bl,d:s.tl}};return a},_findCrossPoints:function(s,a){var f,p,u,m,v,C=0,_;for(var w in a)if(_=a[w],!(_.o.y<s.y&&_.d.y<s.y)&&!(_.o.y>=s.y&&_.d.y>=s.y)&&(_.o.x===_.d.x&&_.o.x>=s.x?v=_.o.x:(f=0,p=(_.d.y-_.o.y)/(_.d.x-_.o.x),u=s.y-f*s.x,m=_.o.y-p*_.o.x,v=-(u-m)/(f-p)),v>=s.x&&(C+=1),C===2))break;return C},getBoundingRect:function(s,a){var f=this.getCoords(s,a);return r.makeBoundingBoxFromPoints(f)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(s){return Math.abs(s)<this.minScaleLimit?s<0?-this.minScaleLimit:this.minScaleLimit:s===0?1e-4:s},scale:function(s){return this._set("scaleX",s),this._set("scaleY",s),this.setCoords()},scaleToWidth:function(s,a){var f=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(s/this.width/f)},scaleToHeight:function(s,a){var f=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(s/this.height/f)},calcLineCoords:function(){var s=this.getViewportTransform(),a=this.padding,f=l(this.angle),p=r.cos(f),u=r.sin(f),m=p*a,v=u*a,C=m+v,_=m-v,w=this.calcACoords(),x={tl:i(w.tl,s),tr:i(w.tr,s),bl:i(w.bl,s),br:i(w.br,s)};return a&&(x.tl.x-=_,x.tl.y-=C,x.tr.x+=C,x.tr.y-=_,x.bl.x-=C,x.bl.y+=_,x.br.x+=_,x.br.y+=C),x},calcOCoords:function(){var s=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),f=this.getViewportTransform(),p=d(f,a),u=d(p,s),u=d(u,[1/f[0],0,0,1/f[3],0,0]),m=this._calculateCurrentDimensions(),v={};return this.forEachControl(function(C,_,w){v[_]=C.positionHandler(m,u,w)}),v},calcACoords:function(){var s=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),f=d(a,s),p=this._getTransformedDimensions(),u=p.x/2,m=p.y/2;return{tl:i({x:-u,y:-m},f),tr:i({x:u,y:-m},f),bl:i({x:-u,y:m},f),br:i({x:u,y:m},f)}},setCoords:function(s){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),s?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return r.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var s=this.getCenterPoint();return[1,0,0,1,s.x,s.y]},transformMatrixKey:function(s){var a="_",f="";return!s&&this.group&&(f=this.group.transformMatrixKey(s)+a),f+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(s){var a=this.calcOwnMatrix();if(s||!this.group)return a;var f=this.transformMatrixKey(s),p=this.matrixCache||(this.matrixCache={});return p.key===f?p.value:(this.group&&(a=d(this.group.calcTransformMatrix(!1),a)),p.key=f,p.value=a,a)},calcOwnMatrix:function(){var s=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===s)return a.value;var f=this._calcTranslateMatrix(),p={angle:this.angle,translateX:f[4],translateY:f[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=s,a.value=r.composeMatrix(p),a.value},_getNonTransformedDimensions:function(){var s=this.strokeWidth,a=this.width+s,f=this.height+s;return{x:a,y:f}},_getTransformedDimensions:function(s,a){typeof s>"u"&&(s=this.skewX),typeof a>"u"&&(a=this.skewY);var f,p,u,m=s===0&&a===0;if(this.strokeUniform?(p=this.width,u=this.height):(f=this._getNonTransformedDimensions(),p=f.x,u=f.y),m)return this._finalizeDimensions(p*this.scaleX,u*this.scaleY);var v=r.sizeAfterTransform(p,u,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:s,skewY:a});return this._finalizeDimensions(v.x,v.y)},_finalizeDimensions:function(s,a){return this.strokeUniform?{x:s+this.strokeWidth,y:a+this.strokeWidth}:{x:s,y:a}},_calculateCurrentDimensions:function(){var s=this.getViewportTransform(),a=this._getTransformedDimensions(),f=i(a,s,!0);return f.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(c){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,c):this.canvas&&this.canvas.sendBackwards(this,c),this},bringForward:function(c){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,c):this.canvas&&this.canvas.bringForward(this,c),this},moveTo:function(c){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,c):this.canvas&&this.canvas.moveTo(this,c),this}}),function(){function c(l,d){if(d){if(d.toLive)return l+": url(#SVGID_"+d.id+"); ";var i=new t.Color(d),s=l+": "+i.toRgb()+"; ",a=i.getAlpha();return a!==1&&(s+=l+"-opacity: "+a.toString()+"; "),s}else return l+": none; "}var r=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(l){var d=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",s=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",f=this.strokeLineCap?this.strokeLineCap:"butt",p=this.strokeLineJoin?this.strokeLineJoin:"miter",u=this.strokeMiterLimit?this.strokeMiterLimit:"4",m=typeof this.opacity<"u"?this.opacity:"1",v=this.visible?"":" visibility: hidden;",C=l?"":this.getSvgFilter(),_=c("fill",this.fill),w=c("stroke",this.stroke);return[w,"stroke-width: ",i,"; ","stroke-dasharray: ",s,"; ","stroke-linecap: ",f,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",p,"; ","stroke-miterlimit: ",u,"; ",_,"fill-rule: ",d,"; ","opacity: ",m,";",C,v].join("")},getSvgSpanStyles:function(l,d){var i="; ",a=l.fontFamily?"font-family: "+(l.fontFamily.indexOf("'")===-1&&l.fontFamily.indexOf('"')===-1?"'"+l.fontFamily+"'":l.fontFamily)+i:"",s=l.strokeWidth?"stroke-width: "+l.strokeWidth+i:"",a=a,f=l.fontSize?"font-size: "+l.fontSize+"px"+i:"",p=l.fontStyle?"font-style: "+l.fontStyle+i:"",u=l.fontWeight?"font-weight: "+l.fontWeight+i:"",m=l.fill?c("fill",l.fill):"",v=l.stroke?c("stroke",l.stroke):"",C=this.getSvgTextDecoration(l),_=l.deltaY?"baseline-shift: "+-l.deltaY+"; ":"";return C&&(C="text-decoration: "+C+i),[v,s,a,f,p,u,C,m,_,d?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(l){return["overline","underline","line-through"].filter(function(d){return l[d.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(l,d){var i=l?this.calcTransformMatrix():this.calcOwnMatrix(),s='transform="'+t.util.matrixToSVG(i);return s+(d||"")+'" '},_setSVGBg:function(l){if(this.backgroundColor){var d=t.Object.NUM_FRACTION_DIGITS;l.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',r(-this.width/2,d),'" y="',r(-this.height/2,d),'" width="',r(this.width,d),'" height="',r(this.height,d),`"></rect>
`)}},toSVG:function(l){return this._createBaseSVGMarkup(this._toSVG(l),{reviver:l})},toClipPathSVG:function(l){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(l),{reviver:l})},_createBaseClipPathSVGMarkup:function(l,d){d=d||{};var i=d.reviver,s=d.additionalTransform||"",a=[this.getSvgTransform(!0,s),this.getSvgCommons()].join(""),f=l.indexOf("COMMON_PARTS");return l[f]=a,i?i(l.join("")):l.join("")},_createBaseSVGMarkup:function(l,d){d=d||{};var i=d.noStyle,s=d.reviver,a=i?"":'style="'+this.getSvgStyles()+'" ',f=d.withShadow?'style="'+this.getSvgFilter()+'" ':"",p=this.clipPath,u=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",m=p&&p.absolutePositioned,v=this.stroke,C=this.fill,_=this.shadow,w,x=[],T,S=l.indexOf("COMMON_PARTS"),A=d.additionalTransform;return p&&(p.clipPathId="CLIPPATH_"+t.Object.__uid++,T='<clipPath id="'+p.clipPathId+`" >
`+p.toClipPathSVG(s)+`</clipPath>
`),m&&x.push("<g ",f,this.getSvgCommons(),` >
`),x.push("<g ",this.getSvgTransform(!1),m?"":f+this.getSvgCommons(),` >
`),w=[a,u,i?"":this.addPaintOrder()," ",A?'transform="'+A+'" ':""].join(""),l[S]=w,C&&C.toLive&&x.push(C.toSVG(this)),v&&v.toLive&&x.push(v.toSVG(this)),_&&x.push(_.toSVG(this)),p&&x.push(T),x.push(l.join("")),x.push(`</g>
`),m&&x.push(`</g>
`),s?s(x.join("")):x.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var c=t.util.object.extend,r="stateProperties";function l(i,s,a){var f={},p=!0;a.forEach(function(u){f[u]=i[u]}),c(i[s],f,p)}function d(i,s,a){if(i===s)return!0;if(Array.isArray(i)){if(!Array.isArray(s)||i.length!==s.length)return!1;for(var f=0,p=i.length;f<p;f++)if(!d(i[f],s[f]))return!1;return!0}else if(i&&typeof i=="object"){var u=Object.keys(i),m;if(!s||typeof s!="object"||!a&&u.length!==Object.keys(s).length)return!1;for(var f=0,p=u.length;f<p;f++)if(m=u[f],!(m==="canvas"||m==="group")&&!d(i[m],s[m]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(i){i=i||r;var s="_"+i;return Object.keys(this[s]).length<this[i].length?!0:!d(this[s],this,!0)},saveState:function(i){var s=i&&i.propertySet||r,a="_"+s;return this[a]?(l(this,a,this[s]),i&&i.stateProperties&&l(this,a,i.stateProperties),this):this.setupState(i)},setupState:function(i){i=i||{};var s=i.propertySet||r;return i.propertySet=s,this["_"+s]={},this.saveState(i),this}})}(),function(){var c=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(r,l){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var d=r.x,i=r.y,s,a,f=Object.keys(this.oCoords),p=f.length-1,u;for(this.__corner=0;p>=0;p--)if(u=f[p],!!this.isControlVisible(u)&&(a=this._getImageLines(l?this.oCoords[u].touchCorner:this.oCoords[u].corner),s=this._findCrossPoints({x:d,y:i},a),s!==0&&s%2===1))return this.__corner=u,u;return!1},forEachControl:function(r){for(var l in this.controls)r(this.controls[l],l,this)},_setCornerCoords:function(){var r=this.oCoords;for(var l in r){var d=this.controls[l];r[l].corner=d.calcCornerCoords(this.angle,this.cornerSize,r[l].x,r[l].y,!1),r[l].touchCorner=d.calcCornerCoords(this.angle,this.touchCornerSize,r[l].x,r[l].y,!0)}},drawSelectionBackground:function(r){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;r.save();var l=this.getCenterPoint(),d=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return r.translate(l.x,l.y),r.scale(1/i[0],1/i[3]),r.rotate(c(this.angle)),r.fillStyle=this.selectionBackgroundColor,r.fillRect(-d.x/2,-d.y/2,d.x,d.y),r.restore(),this},drawBorders:function(r,l){l=l||{};var d=this._calculateCurrentDimensions(),i=this.borderScaleFactor,s=d.x+i,a=d.y+i,f=typeof l.hasControls<"u"?l.hasControls:this.hasControls,p=!1;return r.save(),r.strokeStyle=l.borderColor||this.borderColor,this._setLineDash(r,l.borderDashArray||this.borderDashArray),r.strokeRect(-s/2,-a/2,s,a),f&&(r.beginPath(),this.forEachControl(function(u,m,v){u.withConnection&&u.getVisibility(v,m)&&(p=!0,r.moveTo(u.x*s,u.y*a),r.lineTo(u.x*s+u.offsetX,u.y*a+u.offsetY))}),p&&r.stroke()),r.restore(),this},drawBordersInGroup:function(r,l,d){d=d||{};var i=t.util.sizeAfterTransform(this.width,this.height,l),s=this.strokeWidth,a=this.strokeUniform,f=this.borderScaleFactor,p=i.x+s*(a?this.canvas.getZoom():l.scaleX)+f,u=i.y+s*(a?this.canvas.getZoom():l.scaleY)+f;return r.save(),this._setLineDash(r,d.borderDashArray||this.borderDashArray),r.strokeStyle=d.borderColor||this.borderColor,r.strokeRect(-p/2,-u/2,p,u),r.restore(),this},drawControls:function(r,l){l=l||{},r.save();var d=this.canvas.getRetinaScaling(),i,s;return r.setTransform(d,0,0,d,0,0),r.strokeStyle=r.fillStyle=l.cornerColor||this.cornerColor,this.transparentCorners||(r.strokeStyle=l.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(r,l.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(i=this.group.calcTransformMatrix()),this.forEachControl(function(a,f,p){s=p.oCoords[f],a.getVisibility(p,f)&&(i&&(s=t.util.transformPoint(s,i)),a.render(r,s.x,s.y,l,p))}),r.restore(),this},isControlVisible:function(r){return this.controls[r]&&this.controls[r].getVisibility(this,r)},setControlVisible:function(r,l){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[r]=l,this},setControlsVisibility:function(r){r||(r={});for(var l in r)this.setControlVisible(l,r[l]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(c,r){r=r||{};var l=function(){},d=r.onComplete||l,i=r.onChange||l,s=this;return t.util.animate({target:this,startValue:c.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){c.set("left",a),s.requestRenderAll(),i()},onComplete:function(){c.setCoords(),d()}})},fxCenterObjectV:function(c,r){r=r||{};var l=function(){},d=r.onComplete||l,i=r.onChange||l,s=this;return t.util.animate({target:this,startValue:c.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){c.set("top",a),s.requestRenderAll(),i()},onComplete:function(){c.setCoords(),d()}})},fxRemove:function(c,r){r=r||{};var l=function(){},d=r.onComplete||l,i=r.onChange||l,s=this;return t.util.animate({target:this,startValue:c.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){c.set("opacity",a),s.requestRenderAll(),i()},onComplete:function(){s.remove(c),d()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var c=[],r,l,d=[];for(r in arguments[0])c.push(r);for(var i=0,s=c.length;i<s;i++)r=c[i],l=i!==s-1,d.push(this._animate(r,arguments[0][r],arguments[1],l));return d}else return this._animate.apply(this,arguments)},_animate:function(c,r,l,d){var i=this,s;r=r.toString(),l?l=t.util.object.clone(l):l={},~c.indexOf(".")&&(s=c.split("."));var a=i.colorProperties.indexOf(c)>-1||s&&i.colorProperties.indexOf(s[1])>-1,f=s?this.get(s[0])[s[1]]:this.get(c);"from"in l||(l.from=f),a||(~r.indexOf("=")?r=f+parseFloat(r.replace("=","")):r=parseFloat(r));var p={target:this,startValue:l.from,endValue:r,byValue:l.by,easing:l.easing,duration:l.duration,abort:l.abort&&function(u,m,v){return l.abort.call(i,u,m,v)},onChange:function(u,m,v){s?i[s[0]][s[1]]=u:i.set(c,u),!d&&l.onChange&&l.onChange(u,m,v)},onComplete:function(u,m,v){d||(i.setCoords(),l.onComplete&&l.onComplete(u,m,v))}};return a?t.util.animateColor(p.startValue,p.endValue,p.duration,p):t.util.animate(p)}}),function(c){var r=c.fabric||(c.fabric={}),l=r.util.object.extend,d=r.util.object.clone,i={x1:1,x2:1,y1:1,y2:1};if(r.Line){r.warn("fabric.Line is already defined");return}r.Line=r.util.createClass(r.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:r.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,f){a||(a=[0,0,0,0]),this.callSuper("initialize",f),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(f)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,f){return this.callSuper("_set",a,f),typeof i[a]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:s({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:s({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var f=this.calcLinePoints();a.moveTo(f.x1,f.y1),a.lineTo(f.x2,f.y2),a.lineWidth=this.strokeWidth;var p=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=p},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return l(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(a.y-=this.strokeWidth),this.height===0&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,f=this.y1<=this.y2?-1:1,p=a*this.width*.5,u=f*this.height*.5,m=a*this.width*-.5,v=f*this.height*-.5;return{x1:p,x2:m,y1:u,y2:v}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`" />
`]}}),r.Line.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),r.Line.fromElement=function(a,f,p){p=p||{};var u=r.parseAttributes(a,r.Line.ATTRIBUTE_NAMES),m=[u.x1||0,u.y1||0,u.x2||0,u.y2||0];f(new r.Line(m,l(u,p)))},r.Line.fromObject=function(a,f){function p(m){delete m.points,f&&f(m)}var u=d(a,!0);u.points=[a.x1,a.y1,a.x2,a.y2],r.Object._fromObject("Line",u,p,"points")};function s(a,f){var p=a.origin,u=a.axis1,m=a.axis2,v=a.dimension,C=f.nearest,_=f.center,w=f.farthest;return function(){switch(this.get(p)){case C:return Math.min(this.get(u),this.get(m));case _:return Math.min(this.get(u),this.get(m))+.5*this.get(v);case w:return Math.max(this.get(u),this.get(m))}}}}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.util.degreesToRadians;if(r.Circle){r.warn("fabric.Circle is already defined.");return}r.Circle=r.util.createClass(r.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:r.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(i,s){return this.callSuper("_set",i,s),i==="radius"&&this.setRadius(s),this},toObject:function(i){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(i))},_toSVG:function(){var i,s=0,a=0,f=(this.endAngle-this.startAngle)%360;if(f===0)i=["<circle ","COMMON_PARTS",'cx="'+s+'" cy="'+a+'" ','r="',this.radius,`" />
`];else{var p=l(this.startAngle),u=l(this.endAngle),m=this.radius,v=r.util.cos(p)*m,C=r.util.sin(p)*m,_=r.util.cos(u)*m,w=r.util.sin(u)*m,x=f>180?"1":"0";i=['<path d="M '+v+" "+C," A "+m+" "+m," 0 ",+x+" 1"," "+_+" "+w,'" ',"COMMON_PARTS",` />
`]}return i},_render:function(i){i.beginPath(),i.arc(0,0,this.radius,l(this.startAngle),l(this.endAngle),!1),this._renderPaintInOrder(i)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(i){return this.radius=i,this.set("width",i*2).set("height",i*2)}}),r.Circle.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),r.Circle.fromElement=function(i,s){var a=r.parseAttributes(i,r.Circle.ATTRIBUTE_NAMES);if(!d(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,s(new r.Circle(a))};function d(i){return"radius"in i&&i.radius>=0}r.Circle.fromObject=function(i,s){r.Object._fromObject("Circle",i,s)}}(e),function(c){var r=c.fabric||(c.fabric={});if(r.Triangle){r.warn("fabric.Triangle is already defined");return}r.Triangle=r.util.createClass(r.Object,{type:"triangle",width:100,height:100,_render:function(l){var d=this.width/2,i=this.height/2;l.beginPath(),l.moveTo(-d,i),l.lineTo(0,-i),l.lineTo(d,i),l.closePath(),this._renderPaintInOrder(l)},_toSVG:function(){var l=this.width/2,d=this.height/2,i=[-l+" "+d,"0 "+-d,l+" "+d].join(",");return["<polygon ","COMMON_PARTS",'points="',i,'" />']}}),r.Triangle.fromObject=function(l,d){return r.Object._fromObject("Triangle",l,d)}}(e),function(c){var r=c.fabric||(c.fabric={}),l=Math.PI*2;if(r.Ellipse){r.warn("fabric.Ellipse is already defined.");return}r.Ellipse=r.util.createClass(r.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:r.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this.set("rx",d&&d.rx||0),this.set("ry",d&&d.ry||0)},_set:function(d,i){switch(this.callSuper("_set",d,i),d){case"rx":this.rx=i,this.set("width",i*2);break;case"ry":this.ry=i,this.set("height",i*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(d){d.beginPath(),d.save(),d.transform(1,0,0,this.ry/this.rx,0,0),d.arc(0,0,this.rx,0,l,!1),d.restore(),this._renderPaintInOrder(d)}}),r.Ellipse.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),r.Ellipse.fromElement=function(d,i){var s=r.parseAttributes(d,r.Ellipse.ATTRIBUTE_NAMES);s.left=(s.left||0)-s.rx,s.top=(s.top||0)-s.ry,i(new r.Ellipse(s))},r.Ellipse.fromObject=function(d,i){r.Object._fromObject("Ellipse",d,i)}}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.util.object.extend;if(r.Rect){r.warn("fabric.Rect is already defined");return}r.Rect=r.util.createClass(r.Object,{stateProperties:r.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:r.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(d){var i=this.rx?Math.min(this.rx,this.width/2):0,s=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,f=this.height,p=-this.width/2,u=-this.height/2,m=i!==0||s!==0,v=1-.5522847498;d.beginPath(),d.moveTo(p+i,u),d.lineTo(p+a-i,u),m&&d.bezierCurveTo(p+a-v*i,u,p+a,u+v*s,p+a,u+s),d.lineTo(p+a,u+f-s),m&&d.bezierCurveTo(p+a,u+f-v*s,p+a-v*i,u+f,p+a-i,u+f),d.lineTo(p+i,u+f),m&&d.bezierCurveTo(p+v*i,u+f,p,u+f-v*s,p,u+f-s),d.lineTo(p,u+s),m&&d.bezierCurveTo(p,u+v*s,p+v*i,u,p+i,u),d.closePath(),this._renderPaintInOrder(d)},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){var d=-this.width/2,i=-this.height/2;return["<rect ","COMMON_PARTS",'x="',d,'" y="',i,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),r.Rect.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),r.Rect.fromElement=function(d,i,s){if(!d)return i(null);s=s||{};var a=r.parseAttributes(d,r.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var f=new r.Rect(l(s?r.util.object.clone(s):{},a));f.visible=f.visible&&f.width>0&&f.height>0,i(f)},r.Rect.fromObject=function(d,i){return r.Object._fromObject("Rect",d,i)}}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.util.object.extend,d=r.util.array.min,i=r.util.array.max,s=r.util.toFixed,a=r.util.projectStrokeOnPoints;if(r.Polyline){r.warn("fabric.Polyline is already defined");return}r.Polyline=r.util.createClass(r.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:r.Object.prototype.cacheProperties.concat("points"),initialize:function(f,p){p=p||{},this.points=f||[],this.callSuper("initialize",p),this._setPositionDimensions(p)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(f){var p=this._calcDimensions(f),u,m=this.exactBoundingBox?this.strokeWidth:0;this.width=p.width-m,this.height=p.height-m,f.fromSVG||(u=this.translateToGivenOrigin({x:p.left-this.strokeWidth/2+m/2,y:p.top-this.strokeWidth/2+m/2},"left","top",this.originX,this.originY)),typeof f.left>"u"&&(this.left=f.fromSVG?p.left:u.x),typeof f.top>"u"&&(this.top=f.fromSVG?p.top:u.y),this.pathOffset={x:p.left+this.width/2+m/2,y:p.top+this.height/2+m/2}},_calcDimensions:function(){var f=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,p=d(f,"x")||0,u=d(f,"y")||0,m=i(f,"x")||0,v=i(f,"y")||0,C=m-p,_=v-u;return{left:p,top:u,width:C,height:_}},toObject:function(f){return l(this.callSuper("toObject",f),{points:this.points.concat()})},_toSVG:function(){for(var f=[],p=this.pathOffset.x,u=this.pathOffset.y,m=r.Object.NUM_FRACTION_DIGITS,v=0,C=this.points.length;v<C;v++)f.push(s(this.points[v].x-p,m),",",s(this.points[v].y-u,m)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',f.join(""),`" />
`]},commonRender:function(f){var p,u=this.points.length,m=this.pathOffset.x,v=this.pathOffset.y;if(!u||isNaN(this.points[u-1].y))return!1;f.beginPath(),f.moveTo(this.points[0].x-m,this.points[0].y-v);for(var C=0;C<u;C++)p=this.points[C],f.lineTo(p.x-m,p.y-v);return!0},_render:function(f){this.commonRender(f)&&this._renderPaintInOrder(f)},complexity:function(){return this.get("points").length}}),r.Polyline.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat(),r.Polyline.fromElementGenerator=function(f){return function(p,u,m){if(!p)return u(null);m||(m={});var v=r.parsePointsAttribute(p.getAttribute("points")),C=r.parseAttributes(p,r[f].ATTRIBUTE_NAMES);C.fromSVG=!0,u(new r[f](v,l(C,m)))}},r.Polyline.fromElement=r.Polyline.fromElementGenerator("Polyline"),r.Polyline.fromObject=function(f,p){return r.Object._fromObject("Polyline",f,p,"points")}}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.util.projectStrokeOnPoints;if(r.Polygon){r.warn("fabric.Polygon is already defined");return}r.Polygon=r.util.createClass(r.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return l(this.points,this)},_render:function(d){this.commonRender(d)&&(d.closePath(),this._renderPaintInOrder(d))}}),r.Polygon.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat(),r.Polygon.fromElement=r.Polyline.fromElementGenerator("Polygon"),r.Polygon.fromObject=function(d,i){r.Object._fromObject("Polygon",d,i,"points")}}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.util.array.min,d=r.util.array.max,i=r.util.object.extend,s=r.util.object.clone,a=r.util.toFixed;if(r.Path){r.warn("fabric.Path is already defined");return}r.Path=r.util.createClass(r.Object,{type:"path",path:null,cacheProperties:r.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:r.Object.prototype.stateProperties.concat("path"),initialize:function(f,p){p=s(p||{}),delete p.path,this.callSuper("initialize",p),this._setPath(f||[],p)},_setPath:function(f,p){this.path=r.util.makePathSimpler(Array.isArray(f)?f:r.util.parsePath(f)),r.Polyline.prototype._setPositionDimensions.call(this,p||{})},_renderPathCommands:function(f){var p,u=0,m=0,v=0,C=0,_=0,w=0,x=-this.pathOffset.x,T=-this.pathOffset.y;f.beginPath();for(var S=0,A=this.path.length;S<A;++S)switch(p=this.path[S],p[0]){case"L":v=p[1],C=p[2],f.lineTo(v+x,C+T);break;case"M":v=p[1],C=p[2],u=v,m=C,f.moveTo(v+x,C+T);break;case"C":v=p[5],C=p[6],_=p[3],w=p[4],f.bezierCurveTo(p[1]+x,p[2]+T,_+x,w+T,v+x,C+T);break;case"Q":f.quadraticCurveTo(p[1]+x,p[2]+T,p[3]+x,p[4]+T),v=p[3],C=p[4],_=p[1],w=p[2];break;case"z":case"Z":v=u,C=m,f.closePath();break}},_render:function(f){this._renderPathCommands(f),this._renderPaintInOrder(f)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(f){return i(this.callSuper("toObject",f),{path:this.path.map(function(p){return p.slice()})})},toDatalessObject:function(f){var p=this.toObject(["sourcePath"].concat(f));return p.sourcePath&&delete p.path,p},_toSVG:function(){var f=r.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',f,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var f=r.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,f)+", "+a(-this.pathOffset.y,f)+")"},toClipPathSVG:function(f){var p=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:f,additionalTransform:p})},toSVG:function(f){var p=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:f,additionalTransform:p})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var f=[],p=[],u,m=0,v=0,C=0,_=0,w,x=0,T=this.path.length;x<T;++x){switch(u=this.path[x],u[0]){case"L":C=u[1],_=u[2],w=[];break;case"M":C=u[1],_=u[2],m=C,v=_,w=[];break;case"C":w=r.util.getBoundsOfCurve(C,_,u[1],u[2],u[3],u[4],u[5],u[6]),C=u[5],_=u[6];break;case"Q":w=r.util.getBoundsOfCurve(C,_,u[1],u[2],u[1],u[2],u[3],u[4]),C=u[3],_=u[4];break;case"z":case"Z":C=m,_=v;break}w.forEach(function(H){f.push(H.x),p.push(H.y)}),f.push(C),p.push(_)}var S=l(f)||0,A=l(p)||0,I=d(f)||0,R=d(p)||0,B=I-S,V=R-A;return{left:S,top:A,width:B,height:V}}}),r.Path.fromObject=function(f,p){if(typeof f.sourcePath=="string"){var u=f.sourcePath;r.loadSVGFromURL(u,function(m){var v=m[0];v.setOptions(f),f.clipPath?r.util.enlivenObjects([f.clipPath],function(C){v.clipPath=C[0],p&&p(v)}):p&&p(v)})}else r.Object._fromObject("Path",f,p,"path")},r.Path.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat(["d"]),r.Path.fromElement=function(f,p,u){var m=r.parseAttributes(f,r.Path.ATTRIBUTE_NAMES);m.fromSVG=!0,p(new r.Path(m.d,i(m,u)))}}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.util.array.min,d=r.util.array.max;r.Group||(r.Group=r.util.createClass(r.Object,r.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(i,s,a){s=s||{},this._objects=[],a&&this.callSuper("initialize",s),this._objects=i||[];for(var f=this._objects.length;f--;)this._objects[f].group=this;if(a)this._updateObjectsACoords();else{var p=s&&s.centerPoint;s.originX!==void 0&&(this.originX=s.originX),s.originY!==void 0&&(this.originY=s.originY),p||this._calcBounds(),this._updateObjectsCoords(p),delete s.centerPoint,this.callSuper("initialize",s)}this.setCoords()},_updateObjectsACoords:function(){for(var i=!0,s=this._objects.length;s--;)this._objects[s].setCoords(i)},_updateObjectsCoords:function(s){for(var s=s||this.getCenterPoint(),a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],s)},_updateObjectCoords:function(i,s){var a=i.left,f=i.top,p=!0;i.set({left:a-s.x,top:f-s.y}),i.group=this,i.setCoords(p)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(i){var s=!!this.group;return this._restoreObjectsState(),r.util.resetObjectTransform(this),i&&(s&&r.util.removeTransformFromObject(i,this.group.calcTransformMatrix()),this._objects.push(i),i.group=this,i._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,s?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(i){return this._restoreObjectsState(),r.util.resetObjectTransform(this),this.remove(i),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(i){this.dirty=!0,i.group=this,i._set("canvas",this.canvas)},_onObjectRemoved:function(i){this.dirty=!0,delete i.group},_set:function(i,s){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(i,s);if(i==="canvas")for(;a--;)this._objects[a]._set(i,s);r.Object.prototype._set.call(this,i,s)},toObject:function(i){var s=this.includeDefaultValues,a=this._objects.filter(function(p){return!p.excludeFromExport}).map(function(p){var u=p.includeDefaultValues;p.includeDefaultValues=s;var m=p.toObject(i);return p.includeDefaultValues=u,m}),f=r.Object.prototype.toObject.call(this,i);return f.objects=a,f},toDatalessObject:function(i){var s,a=this.sourcePath;if(a)s=a;else{var f=this.includeDefaultValues;s=this._objects.map(function(u){var m=u.includeDefaultValues;u.includeDefaultValues=f;var v=u.toDatalessObject(i);return u.includeDefaultValues=m,v})}var p=r.Object.prototype.toDatalessObject.call(this,i);return p.objects=s,p},render:function(i){this._transformDone=!0,this.callSuper("render",i),this._transformDone=!1},shouldCache:function(){var i=r.Object.prototype.shouldCache.call(this);if(i){for(var s=0,a=this._objects.length;s<a;s++)if(this._objects[s].willDrawShadow())return this.ownCaching=!1,!1}return i},willDrawShadow:function(){if(r.Object.prototype.willDrawShadow.call(this))return!0;for(var i=0,s=this._objects.length;i<s;i++)if(this._objects[i].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(i){for(var s=0,a=this._objects.length;s<a;s++)this._objects[s].render(i);this._drawClipPath(i,this.clipPath)},isCacheDirty:function(i){if(this.callSuper("isCacheDirty",i))return!0;if(!this.statefullCache)return!1;for(var s=0,a=this._objects.length;s<a;s++)if(this._objects[s].isCacheDirty(!0)){if(this._cacheCanvas){var f=this.cacheWidth/this.zoomX,p=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-f/2,-p/2,f,p)}return!0}return!1},_restoreObjectsState:function(){var i=this.calcOwnMatrix();return this._objects.forEach(function(s){r.util.addTransformToObject(s,i),delete s.group,s.setCoords()}),this},destroy:function(){return this._objects.forEach(function(i){i.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(i){i.dispose&&i.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var i=this._objects,s=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var f=new r.ActiveSelection([]);return f.set(a),f.type="activeSelection",s.remove(this),i.forEach(function(p){p.group=f,p.dirty=!0,s.add(p)}),f.canvas=s,f._objects=i,s._activeObject=f,f.setCoords(),f}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var i=!0;return this.forEachObject(function(s){s.setCoords(i)}),this},_calcBounds:function(i){for(var s=[],a=[],f,p,u,m=["tr","br","bl","tl"],v=0,C=this._objects.length,_,w=m.length;v<C;++v){for(f=this._objects[v],u=f.calcACoords(),_=0;_<w;_++)p=m[_],s.push(u[p].x),a.push(u[p].y);f.aCoords=u}this._getBounds(s,a,i)},_getBounds:function(i,s,a){var f=new r.Point(l(i),l(s)),p=new r.Point(d(i),d(s)),u=f.y||0,m=f.x||0,v=p.x-f.x||0,C=p.y-f.y||0;this.width=v,this.height=C,a||this.setPositionByOrigin({x:m,y:u},"left","top")},_toSVG:function(i){for(var s=["<g ","COMMON_PARTS",` >
`],a=0,f=this._objects.length;a<f;a++)s.push("		",this._objects[a].toSVG(i));return s.push(`</g>
`),s},getSvgStyles:function(){var i=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",s=this.visible?"":" visibility: hidden;";return[i,this.getSvgFilter(),s].join("")},toClipPathSVG:function(i){for(var s=[],a=0,f=this._objects.length;a<f;a++)s.push("	",this._objects[a].toClipPathSVG(i));return this._createBaseClipPathSVGMarkup(s,{reviver:i})}}),r.Group.fromObject=function(i,s){var a=i.objects,f=r.util.object.clone(i,!0);if(delete f.objects,typeof a=="string"){r.loadSVGFromURL(a,function(p){var u=r.util.groupSVGElements(p,i,a),m=f.clipPath;delete f.clipPath,u.set(f),m?r.util.enlivenObjects([m],function(v){u.clipPath=v[0],s&&s(u)}):s&&s(u)});return}r.util.enlivenObjects(a,function(p){r.util.enlivenObjectEnlivables(i,f,function(){s&&s(new r.Group(p,f,!0))})})})}(e),function(c){var r=c.fabric||(c.fabric={});r.ActiveSelection||(r.ActiveSelection=r.util.createClass(r.Group,{type:"activeSelection",initialize:function(l,d){d=d||{},this._objects=l||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;d.originX&&(this.originX=d.originX),d.originY&&(this.originY=d.originY),this._calcBounds(),this._updateObjectsCoords(),r.Object.prototype.initialize.call(this,d),this.setCoords()},toGroup:function(){var l=this._objects.concat();this._objects=[];var d=r.Object.prototype.toObject.call(this),i=new r.Group([]);if(delete d.type,i.set(d),l.forEach(function(a){a.canvas.remove(a),a.group=i}),i._objects=l,!this.canvas)return i;var s=this.canvas;return s.add(i),s._activeObject=i,i.setCoords(),i},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(l,d,i){l.save(),l.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",l,d),i=i||{},typeof i.hasControls>"u"&&(i.hasControls=!1),i.forActiveSelection=!0;for(var s=0,a=this._objects.length;s<a;s++)this._objects[s]._renderControls(l,i);l.restore()}}),r.ActiveSelection.fromObject=function(l,d){r.util.enlivenObjects(l.objects,function(i){delete l.objects,d&&d(new r.ActiveSelection(i,l,!0))})})}(e),function(c){var r=t.util.object.extend;if(c.fabric||(c.fabric={}),c.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(l,d){d||(d={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",d),this._initElement(l,d)},getElement:function(){return this._element||{}},setElement:function(l,d){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=l,this._originalElement=l,this._initConfig(d),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(l){var d=t.filterBackend;d&&d.evictCachesForKey&&d.evictCachesForKey(l)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(l){t.util.cleanUpJsdomNode(this[l]),this[l]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var l=this.getElement();return{width:l.naturalWidth||l.width,height:l.naturalHeight||l.height}},_stroke:function(l){if(!(!this.stroke||this.strokeWidth===0)){var d=this.width/2,i=this.height/2;l.beginPath(),l.moveTo(-d,-i),l.lineTo(d,-i),l.lineTo(d,i),l.lineTo(-d,i),l.lineTo(-d,-i),l.closePath()}},toObject:function(l){var d=[];this.filters.forEach(function(s){s&&d.push(s.toObject())});var i=r(this.callSuper("toObject",["cropX","cropY"].concat(l)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:d});return this.resizeFilter&&(i.resizeFilter=this.resizeFilter.toObject()),i},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var l=[],d=[],i,s=this._element,a=-this.width/2,f=-this.height/2,p="",u="";if(!s)return[];if(this.hasCrop()){var m=t.Object.__uid++;l.push('<clipPath id="imageCrop_'+m+`">
`,'	<rect x="'+a+'" y="'+f+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),p=' clip-path="url(#imageCrop_'+m+')" '}if(this.imageSmoothing||(u='" image-rendering="optimizeSpeed'),d.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',f-this.cropY,'" width="',s.width||s.naturalWidth,'" height="',s.height||s.height,u,'"',p,`></image>
`),this.stroke||this.strokeDashArray){var v=this.fill;this.fill=null,i=["	<rect ",'x="',a,'" y="',f,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=v}return this.paintFirst!=="fill"?l=l.concat(i,d):l=l.concat(d,i),l},getSrc:function(l){var d=l?this._element:this._originalElement;return d?d.toDataURL?d.toDataURL():this.srcFromAttribute?d.getAttribute("src"):d.src:this.src||""},setSrc:function(l,d,i){return t.util.loadImage(l,function(s,a){this.setElement(s,i),this._setWidthHeight(),d&&d(this,a)},this,i&&i.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var l=this.resizeFilter,d=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),s=i.scaleX,a=i.scaleY,f=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!l||s>d&&a>d){this._element=f,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=s,this._lastScaleY=a;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var p=t.util.createCanvasElement(),u=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,m=f.width,v=f.height;p.width=m,p.height=v,this._element=p,this._lastScaleX=l.scaleX=s,this._lastScaleY=l.scaleY=a,t.filterBackend.applyFilters([l],f,m,v,this._element,u),this._filterScalingX=p.width/this._originalElement.width,this._filterScalingY=p.height/this._originalElement.height},applyFilters:function(l){if(l=l||this.filters||[],l=l.filter(function(f){return f&&!f.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),l.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var d=this._originalElement,i=d.naturalWidth||d.width,s=d.naturalHeight||d.height;if(this._element===this._originalElement){var a=t.util.createCanvasElement();a.width=i,a.height=s,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,s),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(l,this._originalElement,i,s,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(l){t.util.setImageSmoothing(l,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(l),this._renderPaintInOrder(l)},drawCacheOnCanvas:function(l){t.util.setImageSmoothing(l,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,l)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(l){var d=this._element;if(d){var i=this._filterScalingX,s=this._filterScalingY,a=this.width,f=this.height,p=Math.min,u=Math.max,m=u(this.cropX,0),v=u(this.cropY,0),C=d.naturalWidth||d.width,_=d.naturalHeight||d.height,w=m*i,x=v*s,T=p(a*i,C-w),S=p(f*s,_-x),A=-a/2,I=-f/2,R=p(a,C/i-m),B=p(f,_/s-v);d&&l.drawImage(d,w,x,T,S,A,I,R,B)}},_needsResize:function(){var l=this.getTotalObjectScaling();return l.scaleX!==this._lastScaleX||l.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(l,d){this.setElement(t.util.getById(l),d),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(l){l||(l={}),this.setOptions(l),this._setWidthHeight(l)},_initFilters:function(l,d){l&&l.length?t.util.enlivenObjects(l,function(i){d&&d(i)},"fabric.Image.filters"):d&&d()},_setWidthHeight:function(l){l||(l={});var d=this.getElement();this.width=l.width||d.naturalWidth||d.width||0,this.height=l.height||d.naturalHeight||d.height||0},parsePreserveAspectRatioAttribute:function(){var l=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),d=this._element.width,i=this._element.height,s=1,a=1,f=0,p=0,u=0,m=0,v,C=this.width,_=this.height,w={width:C,height:_};return l&&(l.alignX!=="none"||l.alignY!=="none")?(l.meetOrSlice==="meet"&&(s=a=t.util.findScaleToFit(this._element,w),v=(C-d*s)/2,l.alignX==="Min"&&(f=-v),l.alignX==="Max"&&(f=v),v=(_-i*a)/2,l.alignY==="Min"&&(p=-v),l.alignY==="Max"&&(p=v)),l.meetOrSlice==="slice"&&(s=a=t.util.findScaleToCover(this._element,w),v=d-C/s,l.alignX==="Mid"&&(u=v/2),l.alignX==="Max"&&(u=v),v=i-_/a,l.alignY==="Mid"&&(m=v/2),l.alignY==="Max"&&(m=v),d=C/s,i=_/a)):(s=C/d,a=_/i),{width:d,height:i,scaleX:s,scaleY:a,offsetLeft:f,offsetTop:p,cropX:u,cropY:m}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(l,d){var i=t.util.object.clone(l);t.util.loadImage(i.src,function(s,a){if(a){d&&d(null,!0);return}t.Image.prototype._initFilters.call(i,i.filters,function(f){i.filters=f||[],t.Image.prototype._initFilters.call(i,[i.resizeFilter],function(p){i.resizeFilter=p[0],t.util.enlivenObjectEnlivables(i,i,function(){var u=new t.Image(s,i);d(u,!1)})})})},null,i.crossOrigin)},t.Image.fromURL=function(l,d,i){t.util.loadImage(l,function(s,a){d&&d(new t.Image(s,i),a)},null,i&&i.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(l,d,i){var s=t.parseAttributes(l,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(s["xlink:href"],d,r(i?t.util.object.clone(i):{},s))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var c=this.angle%360;return c>0?Math.round((c-1)/90)*90:Math.round(c/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(c){c=c||{};var r=function(){},l=c.onComplete||r,d=c.onChange||r,i=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(s){i.rotate(s),d()},onComplete:function(){i.setCoords(),l()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(c){return c.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(c){return c.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function c(l,d){var i="precision "+d+` float;
void main(){}`,s=l.createShader(l.FRAGMENT_SHADER);return l.shaderSource(s,i),l.compileShader(s),!!l.getShaderParameter(s,l.COMPILE_STATUS)}t.isWebglSupported=function(l){if(t.isLikelyNode)return!1;l=l||t.WebglFilterBackend.prototype.tileSize;var d=document.createElement("canvas"),i=d.getContext("webgl")||d.getContext("experimental-webgl"),s=!1;if(i){t.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),s=t.maxTextureSize>=l;for(var a=["highp","mediump","lowp"],f=0;f<3;f++)if(c(i,a[f])){t.webGlPrecision=a[f];break}}return this.isSupported=s,s},t.WebglFilterBackend=r;function r(l){l&&l.tileSize&&(this.tileSize=l.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}r.prototype={tileSize:2048,resources:{},setupGLContext:function(l,d){this.dispose(),this.createWebGLCanvas(l,d),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(l,d)},chooseFastestCopyGLTo2DMethod:function(l,d){var i=typeof window.performance<"u",s;try{new ImageData(1,1),s=!0}catch{s=!1}var a=typeof ArrayBuffer<"u",f=typeof Uint8ClampedArray<"u";if(i&&s&&a&&f){var p=t.util.createCanvasElement(),u=new ArrayBuffer(l*d*4);if(t.forceGLPutImageData){this.imageBuffer=u,this.copyGLTo2D=y;return}var m={imageBuffer:u,destinationWidth:l,destinationHeight:d,targetCanvas:p},v,C,_;p.width=l,p.height=d,v=window.performance.now(),g.call(m,this.gl,m),C=window.performance.now()-v,v=window.performance.now(),y.call(m,this.gl,m),_=window.performance.now()-v,C>_?(this.imageBuffer=u,this.copyGLTo2D=y):this.copyGLTo2D=g}},createWebGLCanvas:function(l,d){var i=t.util.createCanvasElement();i.width=l,i.height=d;var s={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=i.getContext("webgl",s);a||(a=i.getContext("experimental-webgl",s)),a&&(a.clearColor(0,0,0,0),this.canvas=i,this.gl=a)},applyFilters:function(l,d,i,s,a,f){var p=this.gl,u;f&&(u=this.getCachedTexture(f,d));var m={originalWidth:d.width||d.originalWidth,originalHeight:d.height||d.originalHeight,sourceWidth:i,sourceHeight:s,destinationWidth:i,destinationHeight:s,context:p,sourceTexture:this.createTexture(p,i,s,!u&&d),targetTexture:this.createTexture(p,i,s),originalTexture:u||this.createTexture(p,i,s,!u&&d),passes:l.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},v=p.createFramebuffer();return p.bindFramebuffer(p.FRAMEBUFFER,v),l.forEach(function(C){C&&C.applyTo(m)}),h(m),this.copyGLTo2D(p,m),p.bindTexture(p.TEXTURE_2D,null),p.deleteTexture(m.sourceTexture),p.deleteTexture(m.targetTexture),p.deleteFramebuffer(v),a.getContext("2d").setTransform(1,0,0,1,0,0),m},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(l,d,i,s,a){var f=l.createTexture();return l.bindTexture(l.TEXTURE_2D,f),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,a||l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,a||l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),s?l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,s):l.texImage2D(l.TEXTURE_2D,0,l.RGBA,d,i,0,l.RGBA,l.UNSIGNED_BYTE,null),f},getCachedTexture:function(l,d){if(this.textureCache[l])return this.textureCache[l];var i=this.createTexture(this.gl,d.width,d.height,d);return this.textureCache[l]=i,i},evictCachesForKey:function(l){this.textureCache[l]&&(this.gl.deleteTexture(this.textureCache[l]),delete this.textureCache[l])},copyGLTo2D:g,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var l=this.gl,d={renderer:"",vendor:""};if(!l)return d;var i=l.getExtension("WEBGL_debug_renderer_info");if(i){var s=l.getParameter(i.UNMASKED_RENDERER_WEBGL),a=l.getParameter(i.UNMASKED_VENDOR_WEBGL);s&&(d.renderer=s.toLowerCase()),a&&(d.vendor=a.toLowerCase())}return this.gpuInfo=d,d}}}();function h(c){var r=c.targetCanvas,l=r.width,d=r.height,i=c.destinationWidth,s=c.destinationHeight;(l!==i||d!==s)&&(r.width=i,r.height=s)}function g(c,r){var l=c.canvas,d=r.targetCanvas,i=d.getContext("2d");i.translate(0,d.height),i.scale(1,-1);var s=l.height-d.height;i.drawImage(l,0,s,d.width,d.height,0,0,d.width,d.height)}function y(c,r){var l=r.targetCanvas,d=l.getContext("2d"),i=r.destinationWidth,s=r.destinationHeight,a=i*s*4,f=new Uint8Array(this.imageBuffer,0,a),p=new Uint8ClampedArray(this.imageBuffer,0,a);c.readPixels(0,0,i,s,c.RGBA,c.UNSIGNED_BYTE,f);var u=new ImageData(p,i,s);d.putImageData(u,0,0)}(function(){var c=function(){};t.Canvas2dFilterBackend=r;function r(){}r.prototype={evictCachesForKey:c,dispose:c,clearWebGLCaches:c,resources:{},applyFilters:function(l,d,i,s,a){var f=a.getContext("2d");f.drawImage(d,0,0,i,s);var p=f.getImageData(0,0,i,s),u=f.getImageData(0,0,i,s),m={sourceWidth:i,sourceHeight:s,imageData:p,originalEl:d,originalImageData:u,canvasEl:a,ctx:f,filterBackend:this};return l.forEach(function(v){v.applyTo(m)}),(m.imageData.width!==i||m.imageData.height!==s)&&(a.width=m.imageData.width,a.height=m.imageData.height),f.putImageData(m.imageData,0,0),m}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(c){c&&this.setOptions(c)},setOptions:function(c){for(var r in c)this[r]=c[r]},createProgram:function(c,r,l){r=r||this.fragmentSource,l=l||this.vertexSource,t.webGlPrecision!=="highp"&&(r=r.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var d=c.createShader(c.VERTEX_SHADER);if(c.shaderSource(d,l),c.compileShader(d),!c.getShaderParameter(d,c.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+c.getShaderInfoLog(d));var i=c.createShader(c.FRAGMENT_SHADER);if(c.shaderSource(i,r),c.compileShader(i),!c.getShaderParameter(i,c.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+c.getShaderInfoLog(i));var s=c.createProgram();if(c.attachShader(s,d),c.attachShader(s,i),c.linkProgram(s),!c.getProgramParameter(s,c.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+c.getProgramInfoLog(s));var a=this.getAttributeLocations(c,s),f=this.getUniformLocations(c,s)||{};return f.uStepW=c.getUniformLocation(s,"uStepW"),f.uStepH=c.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:a,uniformLocations:f}},getAttributeLocations:function(c,r){return{aPosition:c.getAttribLocation(r,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(c,r,l){var d=r.aPosition,i=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,i),c.enableVertexAttribArray(d),c.vertexAttribPointer(d,2,c.FLOAT,!1,0,0),c.bufferData(c.ARRAY_BUFFER,l,c.STATIC_DRAW)},_setupFrameBuffer:function(c){var r=c.context,l,d;c.passes>1?(l=c.destinationWidth,d=c.destinationHeight,(c.sourceWidth!==l||c.sourceHeight!==d)&&(r.deleteTexture(c.targetTexture),c.targetTexture=c.filterBackend.createTexture(r,l,d)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,c.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(c){c.passes--,c.pass++;var r=c.targetTexture;c.targetTexture=c.sourceTexture,c.sourceTexture=r},isNeutralState:function(){var c=this.mainParameter,r=t.Image.filters[this.type].prototype;if(c)if(Array.isArray(r[c])){for(var l=r[c].length;l--;)if(this[c][l]!==r[c][l])return!1;return!0}else return r[c]===this[c];else return!1},applyTo:function(c){c.webgl?(this._setupFrameBuffer(c),this.applyToWebGL(c),this._swapTextures(c)):this.applyTo2d(c)},retrieveShader:function(c){return c.programCache.hasOwnProperty(this.type)||(c.programCache[this.type]=this.createProgram(c.context)),c.programCache[this.type]},applyToWebGL:function(c){var r=c.context,l=this.retrieveShader(c);c.pass===0&&c.originalTexture?r.bindTexture(r.TEXTURE_2D,c.originalTexture):r.bindTexture(r.TEXTURE_2D,c.sourceTexture),r.useProgram(l.program),this.sendAttributeData(r,l.attributeLocations,c.aPosition),r.uniform1f(l.uniformLocations.uStepW,1/c.sourceWidth),r.uniform1f(l.uniformLocations.uStepH,1/c.sourceHeight),this.sendUniformData(r,l.uniformLocations),r.viewport(0,0,c.destinationWidth,c.destinationHeight),r.drawArrays(r.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(c,r,l){c.activeTexture(l),c.bindTexture(c.TEXTURE_2D,r),c.activeTexture(c.TEXTURE0)},unbindAdditionalTexture:function(c,r){c.activeTexture(r),c.bindTexture(c.TEXTURE_2D,null),c.activeTexture(c.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(c){this[this.mainParameter]=c},sendUniformData:function(){},createHelpLayer:function(c){if(!c.helpLayer){var r=document.createElement("canvas");r.width=c.sourceWidth,r.height=c.sourceHeight,c.helpLayer=r}},toObject:function(){var c={type:this.type},r=this.mainParameter;return r&&(c[r]=this[r]),c},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(c,r){var l=new t.Image.filters[c.type](c);return r&&r(l),l},function(c){var r=c.fabric||(c.fabric={}),l=r.Image.filters,d=r.util.createClass;l.ColorMatrix=d(l.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(i){this.callSuper("initialize",i),this.matrix=this.matrix.slice(0)},applyTo2d:function(i){var s=i.imageData,a=s.data,f=a.length,p=this.matrix,u,m,v,C,_,w=this.colorsOnly;for(_=0;_<f;_+=4)u=a[_],m=a[_+1],v=a[_+2],w?(a[_]=u*p[0]+m*p[1]+v*p[2]+p[4]*255,a[_+1]=u*p[5]+m*p[6]+v*p[7]+p[9]*255,a[_+2]=u*p[10]+m*p[11]+v*p[12]+p[14]*255):(C=a[_+3],a[_]=u*p[0]+m*p[1]+v*p[2]+C*p[3]+p[4]*255,a[_+1]=u*p[5]+m*p[6]+v*p[7]+C*p[8]+p[9]*255,a[_+2]=u*p[10]+m*p[11]+v*p[12]+C*p[13]+p[14]*255,a[_+3]=u*p[15]+m*p[16]+v*p[17]+C*p[18]+p[19]*255)},getUniformLocations:function(i,s){return{uColorMatrix:i.getUniformLocation(s,"uColorMatrix"),uConstants:i.getUniformLocation(s,"uConstants")}},sendUniformData:function(i,s){var a=this.matrix,f=[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]],p=[a[4],a[9],a[14],a[19]];i.uniformMatrix4fv(s.uColorMatrix,!1,f),i.uniform4fv(s.uConstants,p)}}),r.Image.filters.ColorMatrix.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.Image.filters,d=r.util.createClass;l.Brightness=d(l.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(i){if(this.brightness!==0){var s=i.imageData,a=s.data,f,p=a.length,u=Math.round(this.brightness*255);for(f=0;f<p;f+=4)a[f]=a[f]+u,a[f+1]=a[f+1]+u,a[f+2]=a[f+2]+u}},getUniformLocations:function(i,s){return{uBrightness:i.getUniformLocation(s,"uBrightness")}},sendUniformData:function(i,s){i.uniform1f(s.uBrightness,this.brightness)}}),r.Image.filters.Brightness.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.util.object.extend,d=r.Image.filters,i=r.util.createClass;d.Convolute=i(d.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(s){var a=Math.sqrt(this.matrix.length),f=this.type+"_"+a+"_"+(this.opaque?1:0),p=this.fragmentSource[f];return s.programCache.hasOwnProperty(f)||(s.programCache[f]=this.createProgram(s.context,p)),s.programCache[f]},applyTo2d:function(s){var a=s.imageData,f=a.data,p=this.matrix,u=Math.round(Math.sqrt(p.length)),m=Math.floor(u/2),v=a.width,C=a.height,_=s.ctx.createImageData(v,C),w=_.data,x=this.opaque?1:0,T,S,A,I,R,B,V,H,U,ne,ee,N,b;for(ee=0;ee<C;ee++)for(ne=0;ne<v;ne++){for(R=(ee*v+ne)*4,T=0,S=0,A=0,I=0,b=0;b<u;b++)for(N=0;N<u;N++)V=ee+b-m,B=ne+N-m,!(V<0||V>=C||B<0||B>=v)&&(H=(V*v+B)*4,U=p[b*u+N],T+=f[H]*U,S+=f[H+1]*U,A+=f[H+2]*U,x||(I+=f[H+3]*U));w[R]=T,w[R+1]=S,w[R+2]=A,x?w[R+3]=f[R+3]:w[R+3]=I}s.imageData=_},getUniformLocations:function(s,a){return{uMatrix:s.getUniformLocation(a,"uMatrix"),uOpaque:s.getUniformLocation(a,"uOpaque"),uHalfSize:s.getUniformLocation(a,"uHalfSize"),uSize:s.getUniformLocation(a,"uSize")}},sendUniformData:function(s,a){s.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return l(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),r.Image.filters.Convolute.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.Image.filters,d=r.util.createClass;l.Grayscale=d(l.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(i){var s=i.imageData,a=s.data,f,p=a.length,u,m=this.mode;for(f=0;f<p;f+=4)m==="average"?u=(a[f]+a[f+1]+a[f+2])/3:m==="lightness"?u=(Math.min(a[f],a[f+1],a[f+2])+Math.max(a[f],a[f+1],a[f+2]))/2:m==="luminosity"&&(u=.21*a[f]+.72*a[f+1]+.07*a[f+2]),a[f]=u,a[f+1]=u,a[f+2]=u},retrieveShader:function(i){var s=this.type+"_"+this.mode;if(!i.programCache.hasOwnProperty(s)){var a=this.fragmentSource[this.mode];i.programCache[s]=this.createProgram(i.context,a)}return i.programCache[s]},getUniformLocations:function(i,s){return{uMode:i.getUniformLocation(s,"uMode")}},sendUniformData:function(i,s){var a=1;i.uniform1i(s.uMode,a)},isNeutralState:function(){return!1}}),r.Image.filters.Grayscale.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.Image.filters,d=r.util.createClass;l.Invert=d(l.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(i){var s=i.imageData,a=s.data,f,p=a.length;for(f=0;f<p;f+=4)a[f]=255-a[f],a[f+1]=255-a[f+1],a[f+2]=255-a[f+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(i,s){return{uInvert:i.getUniformLocation(s,"uInvert")}},sendUniformData:function(i,s){i.uniform1i(s.uInvert,this.invert)}}),r.Image.filters.Invert.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.util.object.extend,d=r.Image.filters,i=r.util.createClass;d.Noise=i(d.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(s){if(this.noise!==0){var a=s.imageData,f=a.data,p,u=f.length,m=this.noise,v;for(p=0,u=f.length;p<u;p+=4)v=(.5-Math.random())*m,f[p]+=v,f[p+1]+=v,f[p+2]+=v}},getUniformLocations:function(s,a){return{uNoise:s.getUniformLocation(a,"uNoise"),uSeed:s.getUniformLocation(a,"uSeed")}},sendUniformData:function(s,a){s.uniform1f(a.uNoise,this.noise/255),s.uniform1f(a.uSeed,Math.random())},toObject:function(){return l(this.callSuper("toObject"),{noise:this.noise})}}),r.Image.filters.Noise.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.Image.filters,d=r.util.createClass;l.Pixelate=d(l.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(i){var s=i.imageData,a=s.data,f=s.height,p=s.width,u,m,v,C,_,w,x,T,S,A,I;for(m=0;m<f;m+=this.blocksize)for(v=0;v<p;v+=this.blocksize)for(u=m*4*p+v*4,C=a[u],_=a[u+1],w=a[u+2],x=a[u+3],A=Math.min(m+this.blocksize,f),I=Math.min(v+this.blocksize,p),T=m;T<A;T++)for(S=v;S<I;S++)u=T*4*p+S*4,a[u]=C,a[u+1]=_,a[u+2]=w,a[u+3]=x},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(i,s){return{uBlocksize:i.getUniformLocation(s,"uBlocksize"),uStepW:i.getUniformLocation(s,"uStepW"),uStepH:i.getUniformLocation(s,"uStepH")}},sendUniformData:function(i,s){i.uniform1f(s.uBlocksize,this.blocksize)}}),r.Image.filters.Pixelate.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.util.object.extend,d=r.Image.filters,i=r.util.createClass;d.RemoveColor=i(d.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(s){var a=s.imageData,f=a.data,p,u=this.distance*255,m,v,C,_=new r.Color(this.color).getSource(),w=[_[0]-u,_[1]-u,_[2]-u],x=[_[0]+u,_[1]+u,_[2]+u];for(p=0;p<f.length;p+=4)m=f[p],v=f[p+1],C=f[p+2],m>w[0]&&v>w[1]&&C>w[2]&&m<x[0]&&v<x[1]&&C<x[2]&&(f[p+3]=0)},getUniformLocations:function(s,a){return{uLow:s.getUniformLocation(a,"uLow"),uHigh:s.getUniformLocation(a,"uHigh")}},sendUniformData:function(s,a){var f=new r.Color(this.color).getSource(),p=parseFloat(this.distance),u=[0+f[0]/255-p,0+f[1]/255-p,0+f[2]/255-p,1],m=[f[0]/255+p,f[1]/255+p,f[2]/255+p,1];s.uniform4fv(a.uLow,u),s.uniform4fv(a.uHigh,m)},toObject:function(){return l(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),r.Image.filters.RemoveColor.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.Image.filters,d=r.util.createClass,i={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var s in i)l[s]=d(l.ColorMatrix,{type:s,matrix:i[s],mainParameter:!1,colorsOnly:!0}),r.Image.filters[s].fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric,l=r.Image.filters,d=r.util.createClass;l.BlendColor=d(l.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(i){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[i]+`}
}`},retrieveShader:function(i){var s=this.type+"_"+this.mode,a;return i.programCache.hasOwnProperty(s)||(a=this.buildSource(this.mode),i.programCache[s]=this.createProgram(i.context,a)),i.programCache[s]},applyTo2d:function(i){var s=i.imageData,a=s.data,f=a.length,p,u,m,v,C,_,w,x=1-this.alpha;w=new r.Color(this.color).getSource(),p=w[0]*this.alpha,u=w[1]*this.alpha,m=w[2]*this.alpha;for(var T=0;T<f;T+=4)switch(v=a[T],C=a[T+1],_=a[T+2],this.mode){case"multiply":a[T]=v*p/255,a[T+1]=C*u/255,a[T+2]=_*m/255;break;case"screen":a[T]=255-(255-v)*(255-p)/255,a[T+1]=255-(255-C)*(255-u)/255,a[T+2]=255-(255-_)*(255-m)/255;break;case"add":a[T]=v+p,a[T+1]=C+u,a[T+2]=_+m;break;case"diff":case"difference":a[T]=Math.abs(v-p),a[T+1]=Math.abs(C-u),a[T+2]=Math.abs(_-m);break;case"subtract":a[T]=v-p,a[T+1]=C-u,a[T+2]=_-m;break;case"darken":a[T]=Math.min(v,p),a[T+1]=Math.min(C,u),a[T+2]=Math.min(_,m);break;case"lighten":a[T]=Math.max(v,p),a[T+1]=Math.max(C,u),a[T+2]=Math.max(_,m);break;case"overlay":a[T]=p<128?2*v*p/255:255-2*(255-v)*(255-p)/255,a[T+1]=u<128?2*C*u/255:255-2*(255-C)*(255-u)/255,a[T+2]=m<128?2*_*m/255:255-2*(255-_)*(255-m)/255;break;case"exclusion":a[T]=p+v-2*p*v/255,a[T+1]=u+C-2*u*C/255,a[T+2]=m+_-2*m*_/255;break;case"tint":a[T]=p+v*x,a[T+1]=u+C*x,a[T+2]=m+_*x}},getUniformLocations:function(i,s){return{uColor:i.getUniformLocation(s,"uColor")}},sendUniformData:function(i,s){var a=new r.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,i.uniform4fv(s.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),r.Image.filters.BlendColor.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric,l=r.Image.filters,d=r.util.createClass;l.BlendImage=d(l.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(i){var s=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return i.programCache.hasOwnProperty(s)||(i.programCache[s]=this.createProgram(i.context,a)),i.programCache[s]},applyToWebGL:function(i){var s=i.context,a=this.createTexture(i.filterBackend,this.image);this.bindAdditionalTexture(s,a,s.TEXTURE1),this.callSuper("applyToWebGL",i),this.unbindAdditionalTexture(s,s.TEXTURE1)},createTexture:function(i,s){return i.getCachedTexture(s.cacheKey,s._element)},calculateMatrix:function(){var i=this.image,s=i._element.width,a=i._element.height;return[1/i.scaleX,0,0,0,1/i.scaleY,0,-i.left/s,-i.top/a,1]},applyTo2d:function(i){var s=i.imageData,a=i.filterBackend.resources,f=s.data,p=f.length,u=s.width,m=s.height,v,C,_,w,x,T,S,A,I,R,B=this.image,V;a.blendImage||(a.blendImage=r.util.createCanvasElement()),I=a.blendImage,R=I.getContext("2d"),I.width!==u||I.height!==m?(I.width=u,I.height=m):R.clearRect(0,0,u,m),R.setTransform(B.scaleX,0,0,B.scaleY,B.left,B.top),R.drawImage(B._element,0,0,u,m),V=R.getImageData(0,0,u,m).data;for(var H=0;H<p;H+=4)switch(x=f[H],T=f[H+1],S=f[H+2],A=f[H+3],v=V[H],C=V[H+1],_=V[H+2],w=V[H+3],this.mode){case"multiply":f[H]=x*v/255,f[H+1]=T*C/255,f[H+2]=S*_/255,f[H+3]=A*w/255;break;case"mask":f[H+3]=w;break}},getUniformLocations:function(i,s){return{uTransformMatrix:i.getUniformLocation(s,"uTransformMatrix"),uImage:i.getUniformLocation(s,"uImage")}},sendUniformData:function(i,s){var a=this.calculateMatrix();i.uniform1i(s.uImage,1),i.uniformMatrix3fv(s.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),r.Image.filters.BlendImage.fromObject=function(i,s){r.Image.fromObject(i.image,function(a){var f=r.util.object.clone(i);f.image=a,s(new r.Image.filters.BlendImage(f))})}}(e),function(c){var r=c.fabric||(c.fabric={}),l=Math.pow,d=Math.floor,i=Math.sqrt,s=Math.abs,a=Math.round,f=Math.sin,p=Math.ceil,u=r.Image.filters,m=r.util.createClass;u.Resize=m(u.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(v,C){return{uDelta:v.getUniformLocation(C,"uDelta"),uTaps:v.getUniformLocation(C,"uTaps")}},sendUniformData:function(v,C){v.uniform2fv(C.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),v.uniform1fv(C.uTaps,this.taps)},retrieveShader:function(v){var C=this.getFilterWindow(),_=this.type+"_"+C;if(!v.programCache.hasOwnProperty(_)){var w=this.generateShader(C);v.programCache[_]=this.createProgram(v.context,w)}return v.programCache[_]},getFilterWindow:function(){var v=this.tempScale;return Math.ceil(this.lanczosLobes/v)},getTaps:function(){for(var v=this.lanczosCreate(this.lanczosLobes),C=this.tempScale,_=this.getFilterWindow(),w=new Array(_),x=1;x<=_;x++)w[x-1]=v(x*C);return w},generateShader:function(w){for(var C=new Array(w),_=this.fragmentSourceTOP,w,x=1;x<=w;x++)C[x-1]=x+".0 * uDelta";return _+="uniform float uTaps["+w+`];
`,_+=`void main() {
`,_+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,_+=`  float sum = 1.0;
`,C.forEach(function(T,S){_+="  color += texture2D(uTexture, vTexCoord + "+T+") * uTaps["+S+`];
`,_+="  color += texture2D(uTexture, vTexCoord - "+T+") * uTaps["+S+`];
`,_+="  sum += 2.0 * uTaps["+S+`];
`}),_+=`  gl_FragColor = color / sum;
`,_+="}",_},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(v){v.webgl?(v.passes++,this.width=v.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=v.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),v.destinationWidth=this.dW,this._setupFrameBuffer(v),this.applyToWebGL(v),this._swapTextures(v),v.sourceWidth=v.destinationWidth,this.height=v.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),v.destinationHeight=this.dH,this._setupFrameBuffer(v),this.applyToWebGL(v),this._swapTextures(v),v.sourceHeight=v.destinationHeight):this.applyTo2d(v)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(v){return function(C){if(C>=v||C<=-v)return 0;if(C<11920929e-14&&C>-11920929e-14)return 1;C*=Math.PI;var _=C/v;return f(C)/C*f(_)/_}},applyTo2d:function(v){var C=v.imageData,_=this.scaleX,w=this.scaleY;this.rcpScaleX=1/_,this.rcpScaleY=1/w;var x=C.width,T=C.height,S=a(x*_),A=a(T*w),I;this.resizeType==="sliceHack"?I=this.sliceByTwo(v,x,T,S,A):this.resizeType==="hermite"?I=this.hermiteFastResize(v,x,T,S,A):this.resizeType==="bilinear"?I=this.bilinearFiltering(v,x,T,S,A):this.resizeType==="lanczos"&&(I=this.lanczosResize(v,x,T,S,A)),v.imageData=I},sliceByTwo:function(v,C,_,w,x){var T=v.imageData,S=.5,A=!1,I=!1,R=C*S,B=_*S,V=r.filterBackend.resources,H,U,ne=0,ee=0,N=C,b=0;for(V.sliceByTwo||(V.sliceByTwo=document.createElement("canvas")),H=V.sliceByTwo,(H.width<C*1.5||H.height<_)&&(H.width=C*1.5,H.height=_),U=H.getContext("2d"),U.clearRect(0,0,C*1.5,_),U.putImageData(T,0,0),w=d(w),x=d(x);!A||!I;)C=R,_=B,w<d(R*S)?R=d(R*S):(R=w,A=!0),x<d(B*S)?B=d(B*S):(B=x,I=!0),U.drawImage(H,ne,ee,C,_,N,b,R,B),ne=N,ee=b,b+=B;return U.getImageData(ne,ee,w,x)},lanczosResize:function(v,C,_,w,x){function T(D){var P,z,k,E,L,F,Y,W,Z,te,ie;for(b.x=(D+.5)*B,O.x=d(b.x),P=0;P<x;P++){for(b.y=(P+.5)*V,O.y=d(b.y),L=0,F=0,Y=0,W=0,Z=0,z=O.x-ne;z<=O.x+ne;z++)if(!(z<0||z>=C)){te=d(1e3*s(z-b.x)),N[te]||(N[te]={});for(var G=O.y-ee;G<=O.y+ee;G++)G<0||G>=_||(ie=d(1e3*s(G-b.y)),N[te][ie]||(N[te][ie]=R(i(l(te*H,2)+l(ie*U,2))/1e3)),k=N[te][ie],k>0&&(E=(G*C+z)*4,L+=k,F+=k*S[E],Y+=k*S[E+1],W+=k*S[E+2],Z+=k*S[E+3]))}E=(P*w+D)*4,I[E]=F/L,I[E+1]=Y/L,I[E+2]=W/L,I[E+3]=Z/L}return++D<w?T(D):A}var S=v.imageData.data,A=v.ctx.createImageData(w,x),I=A.data,R=this.lanczosCreate(this.lanczosLobes),B=this.rcpScaleX,V=this.rcpScaleY,H=2/this.rcpScaleX,U=2/this.rcpScaleY,ne=p(B*this.lanczosLobes/2),ee=p(V*this.lanczosLobes/2),N={},b={},O={};return T(0)},bilinearFiltering:function(v,C,_,w,x){var T,S,A,I,R,B,V,H,U,ne,ee,N,b=0,O,D=this.rcpScaleX,P=this.rcpScaleY,z=4*(C-1),k=v.imageData,E=k.data,L=v.ctx.createImageData(w,x),F=L.data;for(V=0;V<x;V++)for(H=0;H<w;H++)for(R=d(D*H),B=d(P*V),U=D*H-R,ne=P*V-B,O=4*(B*C+R),ee=0;ee<4;ee++)T=E[O+ee],S=E[O+4+ee],A=E[O+z+ee],I=E[O+z+4+ee],N=T*(1-U)*(1-ne)+S*U*(1-ne)+A*ne*(1-U)+I*U*ne,F[b++]=N;return L},hermiteFastResize:function(v,C,_,w,x){for(var T=this.rcpScaleX,S=this.rcpScaleY,A=p(T/2),I=p(S/2),R=v.imageData,B=R.data,V=v.ctx.createImageData(w,x),H=V.data,U=0;U<x;U++)for(var ne=0;ne<w;ne++){for(var ee=(ne+U*w)*4,N=0,b=0,O=0,D=0,P=0,z=0,k=0,E=(U+.5)*S,L=d(U*S);L<(U+1)*S;L++)for(var F=s(E-(L+.5))/I,Y=(ne+.5)*T,W=F*F,Z=d(ne*T);Z<(ne+1)*T;Z++){var te=s(Y-(Z+.5))/A,ie=i(W+te*te);ie>1&&ie<-1||(N=2*ie*ie*ie-3*ie*ie+1,N>0&&(te=4*(Z+L*C),k+=N*B[te+3],O+=N,B[te+3]<255&&(N=N*B[te+3]/250),D+=N*B[te],P+=N*B[te+1],z+=N*B[te+2],b+=N))}H[ee]=D/b,H[ee+1]=P/b,H[ee+2]=z/b,H[ee+3]=k/O}return V},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),r.Image.filters.Resize.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.Image.filters,d=r.util.createClass;l.Contrast=d(l.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(i){if(this.contrast!==0){var s=i.imageData,a,p,f=s.data,p=f.length,u=Math.floor(this.contrast*255),m=259*(u+255)/(255*(259-u));for(a=0;a<p;a+=4)f[a]=m*(f[a]-128)+128,f[a+1]=m*(f[a+1]-128)+128,f[a+2]=m*(f[a+2]-128)+128}},getUniformLocations:function(i,s){return{uContrast:i.getUniformLocation(s,"uContrast")}},sendUniformData:function(i,s){i.uniform1f(s.uContrast,this.contrast)}}),r.Image.filters.Contrast.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.Image.filters,d=r.util.createClass;l.Saturation=d(l.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(i){if(this.saturation!==0){var s=i.imageData,a=s.data,f=a.length,p=-this.saturation,u,m;for(u=0;u<f;u+=4)m=Math.max(a[u],a[u+1],a[u+2]),a[u]+=m!==a[u]?(m-a[u])*p:0,a[u+1]+=m!==a[u+1]?(m-a[u+1])*p:0,a[u+2]+=m!==a[u+2]?(m-a[u+2])*p:0}},getUniformLocations:function(i,s){return{uSaturation:i.getUniformLocation(s,"uSaturation")}},sendUniformData:function(i,s){i.uniform1f(s.uSaturation,-this.saturation)}}),r.Image.filters.Saturation.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.Image.filters,d=r.util.createClass;l.Vibrance=d(l.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(i){if(this.vibrance!==0){var s=i.imageData,a=s.data,f=a.length,p=-this.vibrance,u,m,v,C;for(u=0;u<f;u+=4)m=Math.max(a[u],a[u+1],a[u+2]),v=(a[u]+a[u+1]+a[u+2])/3,C=Math.abs(m-v)*2/255*p,a[u]+=m!==a[u]?(m-a[u])*C:0,a[u+1]+=m!==a[u+1]?(m-a[u+1])*C:0,a[u+2]+=m!==a[u+2]?(m-a[u+2])*C:0}},getUniformLocations:function(i,s){return{uVibrance:i.getUniformLocation(s,"uVibrance")}},sendUniformData:function(i,s){i.uniform1f(s.uVibrance,-this.vibrance)}}),r.Image.filters.Vibrance.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.Image.filters,d=r.util.createClass;l.Blur=d(l.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(i){i.webgl?(this.aspectRatio=i.sourceWidth/i.sourceHeight,i.passes++,this._setupFrameBuffer(i),this.horizontal=!0,this.applyToWebGL(i),this._swapTextures(i),this._setupFrameBuffer(i),this.horizontal=!1,this.applyToWebGL(i),this._swapTextures(i)):this.applyTo2d(i)},applyTo2d:function(i){i.imageData=this.simpleBlur(i)},simpleBlur:function(i){var s=i.filterBackend.resources,a,f,p=i.imageData.width,u=i.imageData.height;s.blurLayer1||(s.blurLayer1=r.util.createCanvasElement(),s.blurLayer2=r.util.createCanvasElement()),a=s.blurLayer1,f=s.blurLayer2,(a.width!==p||a.height!==u)&&(f.width=a.width=p,f.height=a.height=u);var m=a.getContext("2d"),v=f.getContext("2d"),C=15,_,w,x,T,S=this.blur*.06*.5;for(m.putImageData(i.imageData,0,0),v.clearRect(0,0,p,u),T=-C;T<=C;T++)_=(Math.random()-.5)/4,w=T/C,x=S*w*p+_,v.globalAlpha=1-Math.abs(w),v.drawImage(a,x,_),m.drawImage(f,0,0),v.globalAlpha=1,v.clearRect(0,0,f.width,f.height);for(T=-C;T<=C;T++)_=(Math.random()-.5)/4,w=T/C,x=S*w*u+_,v.globalAlpha=1-Math.abs(w),v.drawImage(a,_,x),m.drawImage(f,0,0),v.globalAlpha=1,v.clearRect(0,0,f.width,f.height);i.ctx.drawImage(a,0,0);var A=i.ctx.getImageData(0,0,a.width,a.height);return m.globalAlpha=1,m.clearRect(0,0,a.width,a.height),A},getUniformLocations:function(i,s){return{delta:i.getUniformLocation(s,"uDelta")}},sendUniformData:function(i,s){var a=this.chooseRightDelta();i.uniform2fv(s.delta,a)},chooseRightDelta:function(){var i=1,s=[0,0],a;return this.horizontal?this.aspectRatio>1&&(i=1/this.aspectRatio):this.aspectRatio<1&&(i=this.aspectRatio),a=i*this.blur*.12,this.horizontal?s[0]=a:s[1]=a,s}}),l.Blur.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.Image.filters,d=r.util.createClass;l.Gamma=d(l.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(i){this.gamma=[1,1,1],l.BaseFilter.prototype.initialize.call(this,i)},applyTo2d:function(i){var s=i.imageData,a=s.data,f=this.gamma,p=a.length,u=1/f[0],m=1/f[1],v=1/f[2],C;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),C=0,p=256;C<p;C++)this.rVals[C]=Math.pow(C/255,u)*255,this.gVals[C]=Math.pow(C/255,m)*255,this.bVals[C]=Math.pow(C/255,v)*255;for(C=0,p=a.length;C<p;C+=4)a[C]=this.rVals[a[C]],a[C+1]=this.gVals[a[C+1]],a[C+2]=this.bVals[a[C+2]]},getUniformLocations:function(i,s){return{uGamma:i.getUniformLocation(s,"uGamma")}},sendUniformData:function(i,s){i.uniform3fv(s.uGamma,this.gamma)}}),r.Image.filters.Gamma.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.Image.filters,d=r.util.createClass;l.Composed=d(l.BaseFilter,{type:"Composed",subFilters:[],initialize:function(i){this.callSuper("initialize",i),this.subFilters=this.subFilters.slice(0)},applyTo:function(i){i.passes+=this.subFilters.length-1,this.subFilters.forEach(function(s){s.applyTo(i)})},toObject:function(){return r.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(i){return i.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(i){return!i.isNeutralState()})}}),r.Image.filters.Composed.fromObject=function(i,s){var a=i.subFilters||[],f=a.map(function(u){return new r.Image.filters[u.type](u)}),p=new r.Image.filters.Composed({subFilters:f});return s&&s(p),p}}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.Image.filters,d=r.util.createClass;l.HueRotation=d(l.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var i=this.rotation*Math.PI,s=r.util.cos(i),a=r.util.sin(i),f=1/3,p=Math.sqrt(f)*a,u=1-s;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=s+u/3,this.matrix[1]=f*u-p,this.matrix[2]=f*u+p,this.matrix[5]=f*u+p,this.matrix[6]=s+f*u,this.matrix[7]=f*u-p,this.matrix[10]=f*u-p,this.matrix[11]=f*u+p,this.matrix[12]=s+f*u},isNeutralState:function(i){return this.calculateMatrix(),l.BaseFilter.prototype.isNeutralState.call(this,i)},applyTo:function(i){this.calculateMatrix(),l.BaseFilter.prototype.applyTo.call(this,i)}}),r.Image.filters.HueRotation.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(c){var r=c.fabric||(c.fabric={}),l=r.util.object.clone;if(r.Text){r.warn("fabric.Text is already defined");return}var d="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");r.Text=r.util.createClass(r.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:r.Object.prototype.stateProperties.concat(d),cacheProperties:r.Object.prototype.cacheProperties.concat(d),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(i,s){this.styles=s?s.styles||{}:{},this.text=i,this.__skipDimension=!0,this.callSuper("initialize",s),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var i=this.path;i&&(i.segmentsInfo=r.util.getPathSegmentsInfo(i.path))},getMeasuringContext:function(){return r._measuringContext||(r._measuringContext=this.canvas&&this.canvas.contextCache||r.util.createCanvasElement().getContext("2d")),r._measuringContext},_splitText:function(){var i=this._splitTextIntoLines(this.text);return this.textLines=i.lines,this._textLines=i.graphemeLines,this._unwrappedTextLines=i._unwrappedLines,this._text=i.graphemeText,i},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var i,s,a,f,p,u,m,v=0,C=this._textLines.length;v<C;v++)if(!(this.textAlign!=="justify"&&(v===C-1||this.isEndOfWrapping(v)))&&(f=0,p=this._textLines[v],s=this.getLineWidth(v),s<this.width&&(m=this.textLines[v].match(this._reSpacesAndTabs)))){a=m.length,i=(this.width-s)/a;for(var _=0,w=p.length;_<=w;_++)u=this.__charBounds[v][_],this._reSpaceAndTab.test(p[_])?(u.width+=i,u.kernedWidth+=i,u.left+=f,f+=i):u.left+=f}},isEndOfWrapping:function(i){return i===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var i=this.callSuper("_getCacheCanvasDimensions"),s=this.fontSize;return i.width+=s*i.zoomX,i.height+=s*i.zoomY,i},_render:function(i){var s=this.path;s&&!s.isNotVisible()&&s._render(i),this._setTextStyles(i),this._renderTextLinesBackground(i),this._renderTextDecoration(i,"underline"),this._renderText(i),this._renderTextDecoration(i,"overline"),this._renderTextDecoration(i,"linethrough")},_renderText:function(i){this.paintFirst==="stroke"?(this._renderTextStroke(i),this._renderTextFill(i)):(this._renderTextFill(i),this._renderTextStroke(i))},_setTextStyles:function(i,s,a){if(i.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":i.textBaseline="middle";break;case"ascender":i.textBaseline="top";break;case"descender":i.textBaseline="bottom";break}i.font=this._getFontDeclaration(s,a)},calcTextWidth:function(){for(var i=this.getLineWidth(0),s=1,a=this._textLines.length;s<a;s++){var f=this.getLineWidth(s);f>i&&(i=f)}return i},_renderTextLine:function(i,s,a,f,p,u){this._renderChars(i,s,a,f,p,u)},_renderTextLinesBackground:function(i){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var s,a,f=i.fillStyle,p,u,m=this._getLeftOffset(),v=this._getTopOffset(),C=0,_=0,w,x,T=this.path,S,A=0,I=this._textLines.length;A<I;A++){if(s=this.getHeightOfLine(A),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",A)){v+=s;continue}p=this._textLines[A],a=this._getLineLeftOffset(A),_=0,C=0,u=this.getValueOfPropertyAt(A,0,"textBackgroundColor");for(var R=0,B=p.length;R<B;R++)w=this.__charBounds[A][R],x=this.getValueOfPropertyAt(A,R,"textBackgroundColor"),T?(i.save(),i.translate(w.renderLeft,w.renderTop),i.rotate(w.angle),i.fillStyle=x,x&&i.fillRect(-w.width/2,-s/this.lineHeight*(1-this._fontSizeFraction),w.width,s/this.lineHeight),i.restore()):x!==u?(S=m+a+C,this.direction==="rtl"&&(S=this.width-S-_),i.fillStyle=u,u&&i.fillRect(S,v,_,s/this.lineHeight),C=w.left,_=w.width,u=x):_+=w.kernedWidth;x&&!T&&(S=m+a+C,this.direction==="rtl"&&(S=this.width-S-_),i.fillStyle=x,i.fillRect(S,v,_,s/this.lineHeight)),v+=s}i.fillStyle=f,this._removeShadow(i)}},getFontCache:function(i){var s=i.fontFamily.toLowerCase();r.charWidthsCache[s]||(r.charWidthsCache[s]={});var a=r.charWidthsCache[s],f=i.fontStyle.toLowerCase()+"_"+(i.fontWeight+"").toLowerCase();return a[f]||(a[f]={}),a[f]},_measureChar:function(i,s,a,f){var p=this.getFontCache(s),u=this._getFontDeclaration(s),m=this._getFontDeclaration(f),v=a+i,C=u===m,_,w,x,T=s.fontSize/this.CACHE_FONT_SIZE,S;if(a&&p[a]!==void 0&&(x=p[a]),p[i]!==void 0&&(S=_=p[i]),C&&p[v]!==void 0&&(w=p[v],S=w-x),_===void 0||x===void 0||w===void 0){var A=this.getMeasuringContext();this._setTextStyles(A,s,!0)}return _===void 0&&(S=_=A.measureText(i).width,p[i]=_),x===void 0&&C&&a&&(x=A.measureText(a).width,p[a]=x),C&&w===void 0&&(w=A.measureText(v).width,p[v]=w,S=w-x),{width:_*T,kernedWidth:S*T}},getHeightOfChar:function(i,s){return this.getValueOfPropertyAt(i,s,"fontSize")},measureLine:function(i){var s=this._measureLine(i);return this.charSpacing!==0&&(s.width-=this._getWidthOfCharSpacing()),s.width<0&&(s.width=0),s},_measureLine:function(i){var s=0,a,f,p=this._textLines[i],u,m,v=0,C=new Array(p.length),_=0,w,x,T=this.path,S=this.pathSide==="right";for(this.__charBounds[i]=C,a=0;a<p.length;a++)f=p[a],m=this._getGraphemeBox(f,i,a,u),C[a]=m,s+=m.kernedWidth,u=f;if(C[a]={left:m?m.left+m.width:0,width:0,kernedWidth:0,height:this.fontSize},T){switch(x=T.segmentsInfo[T.segmentsInfo.length-1].length,w=r.util.getPointOnPath(T.path,0,T.segmentsInfo),w.x+=T.pathOffset.x,w.y+=T.pathOffset.y,this.textAlign){case"left":_=S?x-s:0;break;case"center":_=(x-s)/2;break;case"right":_=S?0:x-s;break}for(_+=this.pathStartOffset*(S?-1:1),a=S?p.length-1:0;S?a>=0:a<p.length;S?a--:a++)m=C[a],_>x?_%=x:_<0&&(_+=x),this._setGraphemeOnPath(_,m,w),_+=m.kernedWidth}return{width:s,numOfSpaces:v}},_setGraphemeOnPath:function(i,s,a){var f=i+s.kernedWidth/2,p=this.path,u=r.util.getPointOnPath(p.path,f,p.segmentsInfo);s.renderLeft=u.x-a.x,s.renderTop=u.y-a.y,s.angle=u.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(i,s,a,f,p){var u=this.getCompleteStyleDeclaration(s,a),m=f?this.getCompleteStyleDeclaration(s,a-1):{},v=this._measureChar(i,u,f,m),C=v.kernedWidth,_=v.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),_+=w,C+=w);var x={width:_,left:0,height:u.fontSize,kernedWidth:C,deltaY:u.deltaY};if(a>0&&!p){var T=this.__charBounds[s][a-1];x.left=T.left+T.width+v.kernedWidth-v.width}return x},getHeightOfLine:function(i){if(this.__lineHeights[i])return this.__lineHeights[i];for(var s=this._textLines[i],a=this.getHeightOfChar(i,0),f=1,p=s.length;f<p;f++)a=Math.max(this.getHeightOfChar(i,f),a);return this.__lineHeights[i]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var i,s=0,a=0,f=this._textLines.length;a<f;a++)i=this.getHeightOfLine(a),s+=a===f-1?i/this.lineHeight:i;return s},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(i,s){i.save();for(var a=0,f=this._getLeftOffset(),p=this._getTopOffset(),u=0,m=this._textLines.length;u<m;u++){var v=this.getHeightOfLine(u),C=v/this.lineHeight,_=this._getLineLeftOffset(u);this._renderTextLine(s,i,this._textLines[u],f+_,p+a+C,u),a+=v}i.restore()},_renderTextFill:function(i){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(i,"fillText")},_renderTextStroke:function(i){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(i),i.save(),this._setLineDash(i,this.strokeDashArray),i.beginPath(),this._renderTextCommon(i,"strokeText"),i.closePath(),i.restore())},_renderChars:function(i,s,a,f,p,u){var m=this.getHeightOfLine(u),v=this.textAlign.indexOf("justify")!==-1,C,_,w="",x,T=0,S,A=this.path,I=!v&&this.charSpacing===0&&this.isEmptyStyles(u)&&!A,R=this.direction==="ltr",B=this.direction==="ltr"?1:-1,V,H=s.canvas.getAttribute("dir");if(s.save(),H!==this.direction&&(s.canvas.setAttribute("dir",R?"ltr":"rtl"),s.direction=R?"ltr":"rtl",s.textAlign=R?"left":"right"),p-=m*this._fontSizeFraction/this.lineHeight,I){this._renderChar(i,s,u,0,a.join(""),f,p,m),s.restore();return}for(var U=0,ne=a.length-1;U<=ne;U++)S=U===ne||this.charSpacing||A,w+=a[U],x=this.__charBounds[u][U],T===0?(f+=B*(x.kernedWidth-x.width),T+=x.width):T+=x.kernedWidth,v&&!S&&this._reSpaceAndTab.test(a[U])&&(S=!0),S||(C=C||this.getCompleteStyleDeclaration(u,U),_=this.getCompleteStyleDeclaration(u,U+1),S=r.util.hasStyleChanged(C,_,!1)),S&&(A?(s.save(),s.translate(x.renderLeft,x.renderTop),s.rotate(x.angle),this._renderChar(i,s,u,U,w,-T/2,0,m),s.restore()):(V=f,this._renderChar(i,s,u,U,w,V,p,m)),w="",C=_,f+=B*T,T=0);s.restore()},_applyPatternGradientTransformText:function(i){var s=r.util.createCanvasElement(),a,f=this.width+this.strokeWidth,p=this.height+this.strokeWidth;return s.width=f,s.height=p,a=s.getContext("2d"),a.beginPath(),a.moveTo(0,0),a.lineTo(f,0),a.lineTo(f,p),a.lineTo(0,p),a.closePath(),a.translate(f/2,p/2),a.fillStyle=i.toLive(a),this._applyPatternGradientTransform(a,i),a.fill(),a.createPattern(s,"no-repeat")},handleFiller:function(i,s,a){var f,p;return a.toLive?a.gradientUnits==="percentage"||a.gradientTransform||a.patternTransform?(f=-this.width/2,p=-this.height/2,i.translate(f,p),i[s]=this._applyPatternGradientTransformText(a),{offsetX:f,offsetY:p}):(i[s]=a.toLive(i,this),this._applyPatternGradientTransform(i,a)):(i[s]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(i,s){return i.lineWidth=s.strokeWidth,i.lineCap=this.strokeLineCap,i.lineDashOffset=this.strokeDashOffset,i.lineJoin=this.strokeLineJoin,i.miterLimit=this.strokeMiterLimit,this.handleFiller(i,"strokeStyle",s.stroke)},_setFillStyles:function(i,s){return this.handleFiller(i,"fillStyle",s.fill)},_renderChar:function(i,s,a,f,p,u,m){var v=this._getStyleDeclaration(a,f),C=this.getCompleteStyleDeclaration(a,f),_=i==="fillText"&&C.fill,w=i==="strokeText"&&C.stroke&&C.strokeWidth,x,T;!w&&!_||(s.save(),_&&(x=this._setFillStyles(s,C)),w&&(T=this._setStrokeStyles(s,C)),s.font=this._getFontDeclaration(C),v&&v.textBackgroundColor&&this._removeShadow(s),v&&v.deltaY&&(m+=v.deltaY),_&&s.fillText(p,u-x.offsetX,m-x.offsetY),w&&s.strokeText(p,u-T.offsetX,m-T.offsetY),s.restore())},setSuperscript:function(i,s){return this._setScript(i,s,this.superscript)},setSubscript:function(i,s){return this._setScript(i,s,this.subscript)},_setScript:function(i,s,a){var f=this.get2DCursorLocation(i,!0),p=this.getValueOfPropertyAt(f.lineIndex,f.charIndex,"fontSize"),u=this.getValueOfPropertyAt(f.lineIndex,f.charIndex,"deltaY"),m={fontSize:p*a.size,deltaY:u+p*a.baseline};return this.setSelectionStyles(m,i,s),this},_getLineLeftOffset:function(i){var s=this.getLineWidth(i),a=this.width-s,f=this.textAlign,p=this.direction,m,u=0,m=this.isEndOfWrapping(i);return f==="justify"||f==="justify-center"&&!m||f==="justify-right"&&!m||f==="justify-left"&&!m?0:(f==="center"&&(u=a/2),f==="right"&&(u=a),f==="justify-center"&&(u=a/2),f==="justify-right"&&(u=a),p==="rtl"&&(u-=a),u)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var i=this._forceClearCache;return i||(i=this.hasStateChanged("_dimensionAffectingProps")),i&&(this.dirty=!0,this._forceClearCache=!1),i},getLineWidth:function(i){if(this.__lineWidths[i]!==void 0)return this.__lineWidths[i];var s=this.measureLine(i),a=s.width;return this.__lineWidths[i]=a,a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(i,s,a){var f=this._getStyleDeclaration(i,s);return f&&typeof f[a]<"u"?f[a]:this[a]},_renderTextDecoration:function(i,s){if(!(!this[s]&&!this.styleHas(s))){for(var a,f,p,u,m,v,C,_,w=this._getLeftOffset(),x=this._getTopOffset(),T,S,A,I,R,B,V,H,U=this.path,ne=this._getWidthOfCharSpacing(),ee=this.offsets[s],N=0,b=this._textLines.length;N<b;N++){if(a=this.getHeightOfLine(N),!this[s]&&!this.styleHas(s,N)){x+=a;continue}C=this._textLines[N],B=a/this.lineHeight,u=this._getLineLeftOffset(N),S=0,A=0,_=this.getValueOfPropertyAt(N,0,s),H=this.getValueOfPropertyAt(N,0,"fill"),T=x+B*(1-this._fontSizeFraction),f=this.getHeightOfChar(N,0),m=this.getValueOfPropertyAt(N,0,"deltaY");for(var O=0,D=C.length;O<D;O++)if(I=this.__charBounds[N][O],R=this.getValueOfPropertyAt(N,O,s),V=this.getValueOfPropertyAt(N,O,"fill"),p=this.getHeightOfChar(N,O),v=this.getValueOfPropertyAt(N,O,"deltaY"),U&&R&&V)i.save(),i.fillStyle=H,i.translate(I.renderLeft,I.renderTop),i.rotate(I.angle),i.fillRect(-I.kernedWidth/2,ee*p+v,I.kernedWidth,this.fontSize/15),i.restore();else if((R!==_||V!==H||p!==f||v!==m)&&A>0){var P=w+u+S;this.direction==="rtl"&&(P=this.width-P-A),_&&H&&(i.fillStyle=H,i.fillRect(P,T+ee*f+m,A,this.fontSize/15)),S=I.left,A=I.width,_=R,H=V,f=p,m=v}else A+=I.kernedWidth;var P=w+u+S;this.direction==="rtl"&&(P=this.width-P-A),i.fillStyle=V,R&&V&&i.fillRect(P,T+ee*f+m,A-ne,this.fontSize/15),x+=a}this._removeShadow(i)}},_getFontDeclaration:function(i,s){var a=i||this,f=this.fontFamily,p=r.Text.genericFonts.indexOf(f.toLowerCase())>-1,u=f===void 0||f.indexOf("'")>-1||f.indexOf(",")>-1||f.indexOf('"')>-1||p?a.fontFamily:'"'+a.fontFamily+'"';return[r.isLikelyNode?a.fontWeight:a.fontStyle,r.isLikelyNode?a.fontStyle:a.fontWeight,s?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",u].join(" ")},render:function(i){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",i)))},_splitTextIntoLines:function(i){for(var s=i.split(this._reNewline),a=new Array(s.length),f=[`
`],p=[],u=0;u<s.length;u++)a[u]=r.util.string.graphemeSplit(s[u]),p=p.concat(a[u],f);return p.pop(),{_unwrappedLines:a,lines:s,graphemeText:p,graphemeLines:a}},toObject:function(i){var s=d.concat(i),a=this.callSuper("toObject",s);return a.styles=r.util.stylesToArray(this.styles,this.text),a.path&&(a.path=this.path.toObject()),a},set:function(i,s){this.callSuper("set",i,s);var a=!1,f=!1;if(typeof i=="object")for(var p in i)p==="path"&&this.setPathInfo(),a=a||this._dimensionAffectingProps.indexOf(p)!==-1,f=f||p==="path";else a=this._dimensionAffectingProps.indexOf(i)!==-1,f=i==="path";return f&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),r.Text.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),r.Text.DEFAULT_SVG_FONT_SIZE=16,r.Text.fromElement=function(i,s,a){if(!i)return s(null);var f=r.parseAttributes(i,r.Text.ATTRIBUTE_NAMES),p=f.textAnchor||"left";if(a=r.util.object.extend(a?l(a):{},f),a.top=a.top||0,a.left=a.left||0,f.textDecoration){var u=f.textDecoration;u.indexOf("underline")!==-1&&(a.underline=!0),u.indexOf("overline")!==-1&&(a.overline=!0),u.indexOf("line-through")!==-1&&(a.linethrough=!0),delete a.textDecoration}"dx"in f&&(a.left+=f.dx),"dy"in f&&(a.top+=f.dy),"fontSize"in a||(a.fontSize=r.Text.DEFAULT_SVG_FONT_SIZE);var m="";"textContent"in i?m=i.textContent:"firstChild"in i&&i.firstChild!==null&&"data"in i.firstChild&&i.firstChild.data!==null&&(m=i.firstChild.data),m=m.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var v=a.strokeWidth;a.strokeWidth=0;var C=new r.Text(m,a),_=C.getScaledHeight()/C.height,w=(C.height+C.strokeWidth)*C.lineHeight-C.height,x=w*_,T=C.getScaledHeight()+x,S=0;p==="center"&&(S=C.getScaledWidth()/2),p==="right"&&(S=C.getScaledWidth()),C.set({left:C.left-S,top:C.top-(T-C.fontSize*(.07+C._fontSizeFraction))/C.lineHeight,strokeWidth:typeof v<"u"?v:1}),s(C)},r.Text.fromObject=function(i,s){var a=l(i),f=i.path;return delete a.path,r.Object._fromObject("Text",a,function(p){p.styles=r.util.stylesFromArray(i.styles,i.text),f?r.Object._fromObject("Path",f,function(u){p.set("path",u),s(p)},"path"):s(p)},"text")},r.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],r.util.createAccessors&&r.util.createAccessors(r.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(c){if(!this.styles||typeof c<"u"&&!this.styles[c])return!0;var r=typeof c>"u"?this.styles:{line:this.styles[c]};for(var l in r)for(var d in r[l])for(var i in r[l][d])return!1;return!0},styleHas:function(c,r){if(!this.styles||!c||c===""||typeof r<"u"&&!this.styles[r])return!1;var l=typeof r>"u"?this.styles:{0:this.styles[r]};for(var d in l)for(var i in l[d])if(typeof l[d][i][c]<"u")return!0;return!1},cleanStyle:function(c){if(!this.styles||!c||c==="")return!1;var r=this.styles,l=0,d,i,s=!0,a=0,f;for(var p in r){d=0;for(var u in r[p]){var f=r[p][u],m=f.hasOwnProperty(c);l++,m?(i?f[c]!==i&&(s=!1):i=f[c],f[c]===this[c]&&delete f[c]):s=!1,Object.keys(f).length!==0?d++:delete r[p][u]}d===0&&delete r[p]}for(var v=0;v<this._textLines.length;v++)a+=this._textLines[v].length;s&&l===a&&(this[c]=i,this.removeStyle(c))},removeStyle:function(c){if(!(!this.styles||!c||c==="")){var r=this.styles,l,d,i;for(d in r){l=r[d];for(i in l)delete l[i][c],Object.keys(l[i]).length===0&&delete l[i];Object.keys(l).length===0&&delete r[d]}}},_extendStyles:function(c,r){var l=this.get2DCursorLocation(c);this._getLineStyle(l.lineIndex)||this._setLineStyle(l.lineIndex),this._getStyleDeclaration(l.lineIndex,l.charIndex)||this._setStyleDeclaration(l.lineIndex,l.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(l.lineIndex,l.charIndex),r)},get2DCursorLocation:function(c,r){typeof c>"u"&&(c=this.selectionStart);for(var l=r?this._unwrappedTextLines:this._textLines,d=l.length,i=0;i<d;i++){if(c<=l[i].length)return{lineIndex:i,charIndex:c};c-=l[i].length+this.missingNewlineOffset(i)}return{lineIndex:i-1,charIndex:l[i-1].length<c?l[i-1].length:c}},getSelectionStyles:function(c,r,l){typeof c>"u"&&(c=this.selectionStart||0),typeof r>"u"&&(r=this.selectionEnd||c);for(var d=[],i=c;i<r;i++)d.push(this.getStyleAtPosition(i,l));return d},getStyleAtPosition:function(c,r){var l=this.get2DCursorLocation(c),d=r?this.getCompleteStyleDeclaration(l.lineIndex,l.charIndex):this._getStyleDeclaration(l.lineIndex,l.charIndex);return d||{}},setSelectionStyles:function(c,r,l){typeof r>"u"&&(r=this.selectionStart||0),typeof l>"u"&&(l=this.selectionEnd||r);for(var d=r;d<l;d++)this._extendStyles(d,c);return this._forceClearCache=!0,this},_getStyleDeclaration:function(c,r){var l=this.styles&&this.styles[c];return l?l[r]:null},getCompleteStyleDeclaration:function(c,r){for(var l=this._getStyleDeclaration(c,r)||{},d={},i,s=0;s<this._styleProperties.length;s++)i=this._styleProperties[s],d[i]=typeof l[i]>"u"?this[i]:l[i];return d},_setStyleDeclaration:function(c,r,l){this.styles[c][r]=l},_deleteStyleDeclaration:function(c,r){delete this.styles[c][r]},_getLineStyle:function(c){return!!this.styles[c]},_setLineStyle:function(c){this.styles[c]={}},_deleteLineStyle:function(c){delete this.styles[c]}})}(),function(){function c(r){r.textDecoration&&(r.textDecoration.indexOf("underline")>-1&&(r.underline=!0),r.textDecoration.indexOf("line-through")>-1&&(r.linethrough=!0),r.textDecoration.indexOf("overline")>-1&&(r.overline=!0),delete r.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(r,l){this.callSuper("initialize",r,l),this.initBehavior()},setSelectionStart:function(r){r=Math.max(r,0),this._updateAndFire("selectionStart",r)},setSelectionEnd:function(r){r=Math.min(r,this.text.length),this._updateAndFire("selectionEnd",r)},_updateAndFire:function(r,l){this[r]!==l&&(this._fireSelectionChanged(),this[r]=l),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(r){this.clearContextTop(),this.callSuper("render",r),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(r){this.callSuper("_render",r)},clearContextTop:function(r){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var l=this.canvas.contextTop,d=this.canvas.viewportTransform;l.save(),l.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this.transform(l),this._clearTextArea(l),r||l.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var r=this._getCursorBoundaries(),l=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(r,l):this.renderSelection(r,l),l.restore()}},_clearTextArea:function(r){var l=this.width+4,d=this.height+4;r.clearRect(-l/2,-d/2,l,d)},_getCursorBoundaries:function(r){typeof r>"u"&&(r=this.selectionStart);var l=this._getLeftOffset(),d=this._getTopOffset(),i=this._getCursorBoundariesOffsets(r);return{left:l,top:d,leftOffset:i.left,topOffset:i.top}},_getCursorBoundariesOffsets:function(r){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var l,d,i,s=0,a=0,f,p=this.get2DCursorLocation(r);i=p.charIndex,d=p.lineIndex;for(var u=0;u<d;u++)s+=this.getHeightOfLine(u);l=this._getLineLeftOffset(d);var m=this.__charBounds[d][i];return m&&(a=m.left),this.charSpacing!==0&&i===this._textLines[d].length&&(a-=this._getWidthOfCharSpacing()),f={top:s,left:l+(a>0?a:0)},this.direction==="rtl"&&(f.left*=-1),this.cursorOffsetCache=f,this.cursorOffsetCache},renderCursor:function(r,l){var d=this.get2DCursorLocation(),i=d.lineIndex,s=d.charIndex>0?d.charIndex-1:0,a=this.getValueOfPropertyAt(i,s,"fontSize"),f=this.scaleX*this.canvas.getZoom(),p=this.cursorWidth/f,u=r.topOffset,m=this.getValueOfPropertyAt(i,s,"deltaY");u+=(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(r,l),l.fillStyle=this.cursorColor||this.getValueOfPropertyAt(i,s,"fill"),l.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,l.fillRect(r.left+r.leftOffset-p/2,u+r.top+m,p,a)},renderSelection:function(r,l){for(var d=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,i=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,s=this.textAlign.indexOf("justify")!==-1,a=this.get2DCursorLocation(d),f=this.get2DCursorLocation(i),p=a.lineIndex,u=f.lineIndex,m=a.charIndex<0?0:a.charIndex,v=f.charIndex<0?0:f.charIndex,C=p;C<=u;C++){var _=this._getLineLeftOffset(C)||0,w=this.getHeightOfLine(C),x=0,T=0,S=0;if(C===p&&(T=this.__charBounds[p][m].left),C>=p&&C<u)S=s&&!this.isEndOfWrapping(C)?this.width:this.getLineWidth(C)||5;else if(C===u)if(v===0)S=this.__charBounds[u][v].left;else{var A=this._getWidthOfCharSpacing();S=this.__charBounds[u][v-1].left+this.__charBounds[u][v-1].width-A}x=w,(this.lineHeight<1||C===u&&this.lineHeight>1)&&(w/=this.lineHeight);var I=r.left+_+T,R=S-T,B=w,V=0;this.inCompositionMode?(l.fillStyle=this.compositionColor||"black",B=1,V=w):l.fillStyle=this.selectionColor,this.direction==="rtl"&&(I=this.width-I-R),l.fillRect(I,r.top+r.topOffset+V,R,B),r.topOffset+=x}},getCurrentCharFontSize:function(){var r=this._getCurrentCharIndex();return this.getValueOfPropertyAt(r.l,r.c,"fontSize")},getCurrentCharColor:function(){var r=this._getCurrentCharIndex();return this.getValueOfPropertyAt(r.l,r.c,"fill")},_getCurrentCharIndex:function(){var r=this.get2DCursorLocation(this.selectionStart,!0),l=r.charIndex>0?r.charIndex-1:0;return{l:r.lineIndex,c:l}}}),t.IText.fromObject=function(r,l){var d=t.util.stylesFromArray(r.styles,r.text),i=Object.assign({},r,{styles:d});if(c(i),i.styles)for(var s in i.styles)for(var a in i.styles[s])c(i.styles[s][a]);t.Object._fromObject("IText",i,l,"text")}}(),function(){var c=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var r=this;this.on("added",function(){var l=r.canvas;l&&(l._hasITextHandlers||(l._hasITextHandlers=!0,r._initCanvasHandlers(l)),l._iTextInstances=l._iTextInstances||[],l._iTextInstances.push(r))})},initRemovedHandler:function(){var r=this;this.on("removed",function(){var l=r.canvas;l&&(l._iTextInstances=l._iTextInstances||[],t.util.removeFromArray(l._iTextInstances,r),l._iTextInstances.length===0&&(l._hasITextHandlers=!1,r._removeCanvasHandlers(l)))})},_initCanvasHandlers:function(r){r._mouseUpITextHandler=function(){r._iTextInstances&&r._iTextInstances.forEach(function(l){l.__isMousedown=!1})},r.on("mouse:up",r._mouseUpITextHandler)},_removeCanvasHandlers:function(r){r.off("mouse:up",r._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(r,l,d,i){var s;return s={isAborted:!1,abort:function(){this.isAborted=!0}},r.animate("_currentCursorOpacity",l,{duration:d,onComplete:function(){s.isAborted||r[i]()},onChange:function(){r.canvas&&r.selectionStart===r.selectionEnd&&r.renderCursorOrSelection()},abort:function(){return s.isAborted}}),s},_onTickComplete:function(){var r=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){r._currentTickCompleteState=r._animateCursor(r,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(r){var l=this,d=r?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){l._tick()},d)},abortCursorAnimation:function(){var r=this._currentTickState||this._currentTickCompleteState,l=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,r&&l&&l.clearContext(l.contextTop||l.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(r){var l=0,d=r-1;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)l++,d--;for(;/\S/.test(this._text[d])&&d>-1;)l++,d--;return r-l},findWordBoundaryRight:function(r){var l=0,d=r;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)l++,d++;for(;/\S/.test(this._text[d])&&d<this._text.length;)l++,d++;return r+l},findLineBoundaryLeft:function(r){for(var l=0,d=r-1;!/\n/.test(this._text[d])&&d>-1;)l++,d--;return r-l},findLineBoundaryRight:function(r){for(var l=0,d=r;!/\n/.test(this._text[d])&&d<this._text.length;)l++,d++;return r+l},searchWordBoundary:function(r,l){for(var d=this._text,i=this._reSpace.test(d[r])?r-1:r,s=d[i],a=t.reNonWord;!a.test(s)&&i>0&&i<d.length;)i+=l,s=d[i];return a.test(s)&&(i+=l===1?0:1),i},selectWord:function(r){r=r||this.selectionStart;var l=this.searchWordBoundary(r,-1),d=this.searchWordBoundary(r,1);this.selectionStart=l,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(r){r=r||this.selectionStart;var l=this.findLineBoundaryLeft(r),d=this.findLineBoundaryRight(r);return this.selectionStart=l,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(r){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(r),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(r){r._iTextInstances&&r._iTextInstances.forEach(function(l){l.selected=!1,l.isEditing&&l.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(r){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var l=this.getSelectionStartFromPointer(r.e),d=this.selectionStart,i=this.selectionEnd;(l!==this.__selectionStartOnMouseDown||d===i)&&(d===l||i===l)||(l>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=l):(this.selectionStart=l,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==d||this.selectionEnd!==i)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(r,l,d){var i=d.slice(0,r),s=t.util.string.graphemeSplit(i).length;if(r===l)return{selectionStart:s,selectionEnd:s};var a=d.slice(r,l),f=t.util.string.graphemeSplit(a).length;return{selectionStart:s,selectionEnd:s+f}},fromGraphemeToStringSelection:function(r,l,d){var i=d.slice(0,r),s=i.join("").length;if(r===l)return{selectionStart:s,selectionEnd:s};var a=d.slice(r,l),f=a.join("").length;return{selectionStart:s,selectionEnd:s+f}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var r=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=r.selectionStart,this.hiddenTextarea.selectionEnd=r.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var r=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=r.selectionEnd,this.inCompositionMode||(this.selectionStart=r.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var r=this._calcTextareaPosition();this.hiddenTextarea.style.left=r.left,this.hiddenTextarea.style.top=r.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var r=this.inCompositionMode?this.compositionStart:this.selectionStart,l=this._getCursorBoundaries(r),d=this.get2DCursorLocation(r),i=d.lineIndex,s=d.charIndex,a=this.getValueOfPropertyAt(i,s,"fontSize")*this.lineHeight,f=l.leftOffset,p=this.calcTransformMatrix(),u={x:l.left+f,y:l.top+l.topOffset+a},m=this.canvas.getRetinaScaling(),v=this.canvas.upperCanvasEl,C=v.width/m,_=v.height/m,w=C-a,x=_-a,T=v.clientWidth/C,S=v.clientHeight/_;return u=t.util.transformPoint(u,p),u=t.util.transformPoint(u,this.canvas.viewportTransform),u.x*=T,u.y*=S,u.x<0&&(u.x=0),u.x>w&&(u.x=w),u.y<0&&(u.y=0),u.y>x&&(u.y=x),u.x+=this.canvas._offset.left,u.y+=this.canvas._offset.top,{left:u.x+"px",top:u.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var r=this._textBeforeEdit!==this.text,l=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,l&&(l.blur&&l.blur(),l.parentNode&&l.parentNode.removeChild(l)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),r&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),r&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var r in this.styles)this._textLines[r]||delete this.styles[r]},removeStyleFromTo:function(r,l){var d=this.get2DCursorLocation(r,!0),i=this.get2DCursorLocation(l,!0),s=d.lineIndex,a=d.charIndex,f=i.lineIndex,p=i.charIndex,u,m;if(s!==f){if(this.styles[s])for(u=a;u<this._unwrappedTextLines[s].length;u++)delete this.styles[s][u];if(this.styles[f])for(u=p;u<this._unwrappedTextLines[f].length;u++)m=this.styles[f][u],m&&(this.styles[s]||(this.styles[s]={}),this.styles[s][a+u-p]=m);for(u=s+1;u<=f;u++)delete this.styles[u];this.shiftLineStyles(f,s-f)}else if(this.styles[s]){m=this.styles[s];var v=p-a,C,_;for(u=a;u<p;u++)delete m[u];for(_ in this.styles[s])C=parseInt(_,10),C>=p&&(m[C-v]=m[_],delete m[_])}},shiftLineStyles:function(r,l){var d=c(this.styles);for(var i in this.styles){var s=parseInt(i,10);s>r&&(this.styles[s+l]=d[s],d[s-l]||delete this.styles[s])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(r,l,d,i){var s,a={},f=!1,p=this._unwrappedTextLines[r].length===l;d||(d=1),this.shiftLineStyles(r,d),this.styles[r]&&(s=this.styles[r][l===0?l:l-1]);for(var u in this.styles[r]){var m=parseInt(u,10);m>=l&&(f=!0,a[m-l]=this.styles[r][u],p&&l===0||delete this.styles[r][u])}var v=!1;for(f&&!p&&(this.styles[r+d]=a,v=!0),v&&d--;d>0;)i&&i[d-1]?this.styles[r+d]={0:c(i[d-1])}:s?this.styles[r+d]={0:c(s)}:delete this.styles[r+d],d--;this._forceClearCache=!0},insertCharStyleObject:function(r,l,d,i){this.styles||(this.styles={});var s=this.styles[r],a=s?c(s):{};d||(d=1);for(var f in a){var p=parseInt(f,10);p>=l&&(s[p+d]=a[p],a[p-d]||delete s[p])}if(this._forceClearCache=!0,i){for(;d--;)Object.keys(i[d]).length&&(this.styles[r]||(this.styles[r]={}),this.styles[r][l+d]=c(i[d]));return}if(s)for(var u=s[l?l-1:1];u&&d--;)this.styles[r][l+d]=c(u)},insertNewStyleBlock:function(r,l,d){for(var i=this.get2DCursorLocation(l,!0),s=[0],a=0,f=0;f<r.length;f++)r[f]===`
`?(a++,s[a]=0):s[a]++;s[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,s[0],d),d=d&&d.slice(s[0]+1)),a&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+s[0],a);for(var f=1;f<a;f++)s[f]>0?this.insertCharStyleObject(i.lineIndex+f,0,s[f],d):d&&this.styles[i.lineIndex+f]&&d[0]&&(this.styles[i.lineIndex+f][0]=d[0]),d=d&&d.slice(s[f]+1);s[f]>0&&this.insertCharStyleObject(i.lineIndex+f,0,s[f],d)},setSelectionStartEndWithShift:function(r,l,d){d<=r?(l===r?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=r),this.selectionStart=d):d>r&&d<l?this._selectionDirection==="right"?this.selectionEnd=d:this.selectionStart=d:(l===r?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=l),this.selectionEnd=d)},setSelectionInBoundaries:function(){var r=this.text.length;this.selectionStart>r?this.selectionStart=r:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>r?this.selectionEnd=r:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(c){if(this.canvas){this.__newClickTime=+new Date;var r=c.pointer;this.isTripleClick(r)&&(this.fire("tripleclick",c),this._stopEvent(c.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=r,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(c){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===c.x&&this.__lastPointer.y===c.y},_stopEvent:function(c){c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(c){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(c.e))},tripleClickHandler:function(c){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(c.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(c.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(c){if(this.__isMousedown=!1,!(!this.editable||this.group||c.transform&&c.transform.actionPerformed||c.e.button&&c.e.button!==1)){if(this.canvas){var r=this.canvas._activeObject;if(r&&r!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(c.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(c){var r=this.getSelectionStartFromPointer(c),l=this.selectionStart,d=this.selectionEnd;c.shiftKey?this.setSelectionStartEndWithShift(l,d,r):(this.selectionStart=r,this.selectionEnd=r),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(c){for(var r=this.getLocalPointer(c),l=0,d=0,i=0,s=0,a=0,f,p,u=0,m=this._textLines.length;u<m&&i<=r.y;u++)i+=this.getHeightOfLine(u)*this.scaleY,a=u,u>0&&(s+=this._textLines[u-1].length+this.missingNewlineOffset(u-1));f=this._getLineLeftOffset(a),d=f*this.scaleX,p=this._textLines[a],this.direction==="rtl"&&(r.x=this.width*this.scaleX-r.x+d);for(var v=0,C=p.length;v<C&&(l=d,d+=this.__charBounds[a][v].kernedWidth*this.scaleX,d<=r.x);v++)s++;return this._getNewSelectionStartFromOffset(r,l,d,s,C)},_getNewSelectionStartFromOffset:function(c,r,l,d,i){var s=c.x-r,a=l-c.x,f=a>s||a<0?0:1,p=d+f;return this.flipX&&(p=i-p),p>this._text.length&&(p=this._text.length),p}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var c=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+c.top+"; left: "+c.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+c.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(c){if(this.isEditing){var r=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(c.keyCode in r)this[r[c.keyCode]](c);else if(c.keyCode in this.ctrlKeysMapDown&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapDown[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),c.keyCode>=33&&c.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(c){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(c.keyCode in this.ctrlKeysMapUp&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapUp[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(c){var r=this.fromPaste;if(this.fromPaste=!1,c&&c.stopPropagation(),!!this.isEditing){var l=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,d=this._text.length,i=l.length,s,a,f=i-d,p=this.selectionStart,u=this.selectionEnd,m=p!==u,v,C,_;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),x=p>w.selectionStart;m?(s=this._text.slice(p,u),f+=u-p):i<d&&(x?s=this._text.slice(u+f,u):s=this._text.slice(p,p-f)),a=l.slice(w.selectionEnd-f,w.selectionEnd),s&&s.length&&(a.length&&(v=this.getSelectionStyles(p,p+1,!1),v=a.map(function(){return v[0]})),m?(C=p,_=u):x?(C=u-s.length,_=u):(C=u,_=u+s.length),this.removeStyleFromTo(C,_)),a.length&&(r&&a.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(v=t.copiedTextStyle),this.insertNewStyleBlock(a,p,v)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(c){this.compositionStart=c.target.selectionStart,this.compositionEnd=c.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(c){return c&&c.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(c,r){var l=this._getLineLeftOffset(c),d;return r>0&&(d=this.__charBounds[c][r-1],l+=d.left+d.width),l},getDownCursorOffset:function(c,r){var l=this._getSelectionForOffset(c,r),d=this.get2DCursorLocation(l),i=d.lineIndex;if(i===this._textLines.length-1||c.metaKey||c.keyCode===34)return this._text.length-l;var s=d.charIndex,a=this._getWidthBeforeCursor(i,s),f=this._getIndexOnLine(i+1,a),p=this._textLines[i].slice(s);return p.length+f+1+this.missingNewlineOffset(i)},_getSelectionForOffset:function(c,r){return c.shiftKey&&this.selectionStart!==this.selectionEnd&&r?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(c,r){var l=this._getSelectionForOffset(c,r),d=this.get2DCursorLocation(l),i=d.lineIndex;if(i===0||c.metaKey||c.keyCode===33)return-l;var s=d.charIndex,a=this._getWidthBeforeCursor(i,s),f=this._getIndexOnLine(i-1,a),p=this._textLines[i].slice(0,s),u=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+f-p.length+(1-u)},_getIndexOnLine:function(c,r){for(var l=this._textLines[c],d=this._getLineLeftOffset(c),i=d,s=0,a,f,p=0,u=l.length;p<u;p++)if(a=this.__charBounds[c][p].width,i+=a,i>r){f=!0;var m=i-a,v=i,C=Math.abs(m-r),_=Math.abs(v-r);s=_<C?p:p-1;break}return f||(s=l.length-1),s},moveCursorDown:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",c)},moveCursorUp:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",c)},_moveCursorUpOrDown:function(c,r){var l="get"+c+"CursorOffset",d=this[l](r,this._selectionDirection==="right");r.shiftKey?this.moveCursorWithShift(d):this.moveCursorWithoutShift(d),d!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(c){var r=this._selectionDirection==="left"?this.selectionStart+c:this.selectionEnd+c;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,r),c!==0},moveCursorWithoutShift:function(c){return c<0?(this.selectionStart+=c,this.selectionEnd=this.selectionStart):(this.selectionEnd+=c,this.selectionStart=this.selectionEnd),c!==0},moveCursorLeft:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",c)},_move:function(c,r,l){var d;if(c.altKey)d=this["findWordBoundary"+l](this[r]);else if(c.metaKey||c.keyCode===35||c.keyCode===36)d=this["findLineBoundary"+l](this[r]);else return this[r]+=l==="Left"?-1:1,!0;if(typeof d<"u"&&this[r]!==d)return this[r]=d,!0},_moveLeft:function(c,r){return this._move(c,r,"Left")},_moveRight:function(c,r){return this._move(c,r,"Right")},moveCursorLeftWithoutShift:function(c){var r=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(r=this._moveLeft(c,"selectionStart")),this.selectionEnd=this.selectionStart,r},moveCursorLeftWithShift:function(c){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(c,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(c,"selectionStart")},moveCursorRight:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",c)},_moveCursorLeftOrRight:function(c,r){var l="moveCursor"+c+"With";this._currentCursorOpacity=1,r.shiftKey?l+="Shift":l+="outShift",this[l](r)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(c){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(c,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(c,"selectionEnd")},moveCursorRightWithoutShift:function(c){var r=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(r=this._moveRight(c,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,r},removeChars:function(c,r){typeof r>"u"&&(r=c+1),this.removeStyleFromTo(c,r),this._text.splice(c,r-c),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(c,r,l,d){typeof d>"u"&&(d=l),d>l&&this.removeStyleFromTo(l,d);var i=t.util.string.graphemeSplit(c);this.insertNewStyleBlock(i,l,r),this._text=[].concat(this._text.slice(0,l),i,this._text.slice(d)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var c=t.util.toFixed,r=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var l=this._getSVGLeftTopOffsets(),d=this._getSVGTextAndBg(l.textTop,l.textLeft);return this._wrapSVGTextAndBg(d)},toSVG:function(l){return this._createBaseSVGMarkup(this._toSVG(),{reviver:l,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(l){var d=!0,i=this.getSvgTextDecoration(this);return[l.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",i?'text-decoration="'+i+'" ':"",'style="',this.getSvgStyles(d),'"',this.addPaintOrder()," >",l.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(l,d){var i=[],s=[],a=l,f;this._setSVGBg(s);for(var p=0,u=this._textLines.length;p<u;p++)f=this._getLineLeftOffset(p),(this.textBackgroundColor||this.styleHas("textBackgroundColor",p))&&this._setSVGTextLineBg(s,p,d+f,a),this._setSVGTextLineText(i,p,d+f,a),a+=this.getHeightOfLine(p);return{textSpans:i,textBgRects:s}},_createTextCharSpan:function(l,d,i,s){var a=l!==l.trim()||l.match(r),f=this.getSvgSpanStyles(d,a),p=f?'style="'+f+'"':"",u=d.deltaY,m="",v=t.Object.NUM_FRACTION_DIGITS;return u&&(m=' dy="'+c(u,v)+'" '),['<tspan x="',c(i,v),'" y="',c(s,v),'" ',m,p,">",t.util.string.escapeXml(l),"</tspan>"].join("")},_setSVGTextLineText:function(l,d,i,s){var a=this.getHeightOfLine(d),f=this.textAlign.indexOf("justify")!==-1,p,u,m="",v,C,_=0,w=this._textLines[d],x;s+=a*(1-this._fontSizeFraction)/this.lineHeight;for(var T=0,S=w.length-1;T<=S;T++)x=T===S||this.charSpacing,m+=w[T],v=this.__charBounds[d][T],_===0?(i+=v.kernedWidth-v.width,_+=v.width):_+=v.kernedWidth,f&&!x&&this._reSpaceAndTab.test(w[T])&&(x=!0),x||(p=p||this.getCompleteStyleDeclaration(d,T),u=this.getCompleteStyleDeclaration(d,T+1),x=t.util.hasStyleChanged(p,u,!0)),x&&(C=this._getStyleDeclaration(d,T)||{},l.push(this._createTextCharSpan(m,C,i,s)),m="",p=u,i+=_,_=0)},_pushTextBgRect:function(l,d,i,s,a,f){var p=t.Object.NUM_FRACTION_DIGITS;l.push("		<rect ",this._getFillAttributes(d),' x="',c(i,p),'" y="',c(s,p),'" width="',c(a,p),'" height="',c(f,p),`"></rect>
`)},_setSVGTextLineBg:function(l,d,i,s){for(var a=this._textLines[d],f=this.getHeightOfLine(d)/this.lineHeight,p=0,u=0,m,v,C=this.getValueOfPropertyAt(d,0,"textBackgroundColor"),_=0,w=a.length;_<w;_++)m=this.__charBounds[d][_],v=this.getValueOfPropertyAt(d,_,"textBackgroundColor"),v!==C?(C&&this._pushTextBgRect(l,C,i+u,s,p,f),u=m.left,p=m.width,C=v):p+=m.kernedWidth;v&&this._pushTextBgRect(l,v,i+u,s,p,f)},_getFillAttributes:function(l){var d=l&&typeof l=="string"?new t.Color(l):"";return!d||!d.getSource()||d.getAlpha()===1?'fill="'+l+'"':'opacity="'+d.getAlpha()+'" fill="'+d.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(l){for(var d=0,i=0,s=0;s<l;s++)d+=this.getHeightOfLine(s);return i=this.getHeightOfLine(s),{lineTop:d,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(l){var d=t.Object.prototype.getSvgStyles.call(this,l);return d+" white-space: pre;"}})}(),function(c){var r=c.fabric||(c.fabric={});r.Textbox=r.util.createClass(r.IText,r.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:r.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(l){for(var d=0,i=0,s=0,a={},f=0;f<l.graphemeLines.length;f++)l.graphemeText[s]===`
`&&f>0?(i=0,s++,d++):!this.splitByGrapheme&&this._reSpaceAndTab.test(l.graphemeText[s])&&f>0&&(i++,s++),a[f]={line:d,offset:i},s+=l.graphemeLines[f].length,i+=l.graphemeLines[f].length;return a},styleHas:function(l,d){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[d];i&&(d=i.line)}return r.Text.prototype.styleHas.call(this,l,d)},isEmptyStyles:function(l){if(!this.styles)return!0;var d=0,i=l+1,s,a,f=!1,p=this._styleMap[l],u=this._styleMap[l+1];p&&(l=p.line,d=p.offset),u&&(i=u.line,f=i===l,s=u.offset),a=typeof l>"u"?this.styles:{line:this.styles[l]};for(var m in a)for(var v in a[m])if(v>=d&&(!f||v<s))for(var C in a[m][v])return!1;return!0},_getStyleDeclaration:function(l,d){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[l];if(!i)return null;l=i.line,d=i.offset+d}return this.callSuper("_getStyleDeclaration",l,d)},_setStyleDeclaration:function(l,d,i){var s=this._styleMap[l];l=s.line,d=s.offset+d,this.styles[l][d]=i},_deleteStyleDeclaration:function(l,d){var i=this._styleMap[l];l=i.line,d=i.offset+d,delete this.styles[l][d]},_getLineStyle:function(l){var d=this._styleMap[l];return!!this.styles[d.line]},_setLineStyle:function(l){var d=this._styleMap[l];this.styles[d.line]={}},_wrapText:function(l,d){var i=[],s;for(this.isWrapping=!0,s=0;s<l.length;s++)i=i.concat(this._wrapLine(l[s],s,d));return this.isWrapping=!1,i},_measureWord:function(l,d,i){var s=0,a,f=!0;i=i||0;for(var p=0,u=l.length;p<u;p++){var m=this._getGraphemeBox(l[p],d,p+i,a,f);s+=m.kernedWidth,a=l[p]}return s},_wrapLine:function(l,d,i,I){var a=0,f=this.splitByGrapheme,p=[],u=[],m=f?r.util.string.graphemeSplit(l):l.split(this._wordJoiners),v="",C=0,_=f?"":" ",w=0,x=0,T=0,S=!0,A=this._getWidthOfCharSpacing(),I=I||0;m.length===0&&m.push([]),i-=I;for(var R=0;R<m.length;R++)v=f?m[R]:r.util.string.graphemeSplit(m[R]),w=this._measureWord(v,d,C),C+=v.length,a+=x+w-A,a>i&&!S?(p.push(u),u=[],a=w,S=!0):a+=A,!S&&!f&&u.push(_),u=u.concat(v),x=f?0:this._measureWord([_],d,C),C++,S=!1,w>T&&(T=w);return R&&p.push(u),T+I>this.dynamicMinWidth&&(this.dynamicMinWidth=T-A+I),p},isEndOfWrapping:function(l){return!this._styleMap[l+1]||this._styleMap[l+1].line!==this._styleMap[l].line},missingNewlineOffset:function(l){return this.splitByGrapheme?this.isEndOfWrapping(l)?1:0:1},_splitTextIntoLines:function(l){for(var d=r.Text.prototype._splitTextIntoLines.call(this,l),i=this._wrapText(d.lines,this.width),s=new Array(i.length),a=0;a<i.length;a++)s[a]=i[a].join("");return d.lines=s,d.graphemeLines=i,d},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var l={};for(var d in this._styleMap)this._textLines[d]&&(l[this._styleMap[d].line]=1);for(var d in this.styles)l[d]||delete this.styles[d]},toObject:function(l){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(l))}}),r.Textbox.fromObject=function(l,d){var i=r.util.stylesFromArray(l.styles,l.text),s=Object.assign({},l,{styles:i});return r.Object._fromObject("Textbox",s,d,"text")}}(e),function(){var c=t.controlsUtils,r=c.scaleSkewCursorStyleHandler,l=c.scaleCursorStyleHandler,d=c.scalingEqually,i=c.scalingYOrSkewingX,s=c.scalingXOrSkewingY,a=c.scaleOrSkewActionName,f=t.Object.prototype.controls;if(f.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:a}),f.mr=new t.Control({x:.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:a}),f.mb=new t.Control({x:0,y:.5,cursorStyleHandler:r,actionHandler:i,getActionName:a}),f.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:r,actionHandler:i,getActionName:a}),f.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:l,actionHandler:d}),f.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:l,actionHandler:d}),f.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:l,actionHandler:d}),f.br=new t.Control({x:.5,y:.5,cursorStyleHandler:l,actionHandler:d}),f.mtr=new t.Control({x:0,y:-.5,actionHandler:c.rotationWithSnapping,cursorStyleHandler:c.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var p=t.Textbox.prototype.controls={};p.mtr=f.mtr,p.tr=f.tr,p.br=f.br,p.tl=f.tl,p.bl=f.bl,p.mt=f.mt,p.mb=f.mb,p.mr=new t.Control({x:.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:r,actionName:"resizing"}),p.ml=new t.Control({x:-.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:r,actionName:"resizing"})}}()})(De);fabric.Canvas.prototype.initialize=function(e){return function(...t){return e.call(this,...t),this._historyInit(),this}}(fabric.Canvas.prototype.initialize),fabric.Canvas.prototype.dispose=function(e){return function(...t){return e.call(this,...t),this._historyDispose(),this}}(fabric.Canvas.prototype.dispose),fabric.Canvas.prototype._historyNext=function(){return JSON.stringify(this.toDatalessJSON(this.extraProps))},fabric.Canvas.prototype._historyEvents=function(){return{"object:added":this._historySaveAction,"object:removed":this._historySaveAction,"object:modified":this._historySaveAction,"object:skewing":this._historySaveAction}},fabric.Canvas.prototype._historyInit=function(){this.historyUndo=[],this.historyRedo=[],this.extraProps=["selectable","editable"],this.historyNextState=this._historyNext(),this.on(this._historyEvents())},fabric.Canvas.prototype._historyDispose=function(){this.off(this._historyEvents())},fabric.Canvas.prototype._historySaveAction=function(){if(this.historyProcessing)return;const e=this.historyNextState;this.historyUndo.push(e),this.historyNextState=this._historyNext(),this.fire("history:append",{json:e})},fabric.Canvas.prototype.undo=function(e){this.historyProcessing=!0;const t=this.historyUndo.pop();t?(this.historyRedo.push(this._historyNext()),this.historyNextState=t,this._loadHistory(t,"history:undo",e)):this.historyProcessing=!1},fabric.Canvas.prototype.redo=function(e){this.historyProcessing=!0;const t=this.historyRedo.pop();t?(this.historyUndo.push(this._historyNext()),this.historyNextState=t,this._loadHistory(t,"history:redo",e)):this.historyProcessing=!1},fabric.Canvas.prototype._loadHistory=function(e,t,n){var o=this;this.loadFromJSON(e,function(){o.renderAll(),o.fire(t),o.historyProcessing=!1,n&&typeof n=="function"&&n()})},fabric.Canvas.prototype.clearHistory=function(){this.historyUndo=[],this.historyRedo=[],this.fire("history:clear")},fabric.Canvas.prototype.onHistory=function(){this.historyProcessing=!1,this._historySaveAction()},fabric.Canvas.prototype.offHistory=function(){this.historyProcessing=!0};var Be={BASE_URL:"https://TomasSadone.github.io/dev-art/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let Nv=0;function An(e,t){const n=`atom${++Nv}`,o={toString:()=>n};return typeof e=="function"?o.read=e:(o.init=e,o.read=Hv,o.write=Vv),t&&(o.write=t),o}function Hv(e){return e(this)}function Vv(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const Ha=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,Va=e=>"init"in e,za=e=>!!e.write,cs=new WeakMap,zv=(e,t)=>{cs.set(e,t),e.catch(()=>{}).finally(()=>cs.delete(e))},Yf=(e,t)=>{const n=cs.get(e);n&&(cs.delete(e),n(t))},qf=(e,t)=>{e.status="fulfilled",e.value=t},Kf=(e,t)=>{e.status="rejected",e.reason=t},Wv=e=>typeof(e==null?void 0:e.then)=="function",Yr=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),Zf=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),tr=e=>!!e&&"v"in e&&e.v instanceof Promise,Uv=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,Co=e=>{if("e"in e)throw e.e;return e.v},Gv=()=>{const e=new WeakMap,t=new WeakMap,n=[],o=new WeakMap;let h,g;(Be?"production":void 0)!=="production"&&(h=new Set,g=new Set);const y=S=>e.get(S),c=(S,A)=>{A.d.forEach((I,R)=>{var B;if(!o.has(R)){const V=y(R);(B=n[n.length-1])==null||B.add(R),o.set(R,[V,new Set]),V&&c(R,V)}o.get(R)[1].add(S)})},r=(S,A)=>{var I;(Be?"production":void 0)!=="production"&&Object.freeze(A);const R=y(S);if(e.set(S,A),o.has(S)||((I=n[n.length-1])==null||I.add(S),o.set(S,[R,new Set]),c(S,A)),tr(R)){const B="v"in A?A.v instanceof Promise?A.v:Promise.resolve(A.v):Promise.reject(A.e);R.v!==B&&Yf(R.v,B)}},l=(S,A,I,R)=>{const B=new Map(R?A.d:null);let V=!1;I.forEach((H,U)=>{!H&&Ha(S,U)&&(H=A),H?(B.set(U,H),A.d.get(U)!==H&&(V=!0)):(Be?"production":void 0)!=="production"&&console.warn("[Bug] atom state not found")}),(V||A.d.size!==B.size)&&(A.d=B)},d=(S,A,I,R)=>{const B=y(S),V={d:(B==null?void 0:B.d)||new Map,v:A};if(I&&l(S,V,I,R),Yr(B,V)&&B.d===V.d)return B;if(tr(B)&&tr(V)&&Uv(B,V)){if(B.d===V.d)return B;V.v=B.v}return r(S,V),V},i=(S,A,I,R)=>{if(Wv(A)){let B;const V=()=>{const U=y(S);if(!tr(U)||U.v!==H)return;const ne=d(S,H,I);t.has(S)&&U.d!==ne.d&&w(S,ne,U.d)},H=new Promise((U,ne)=>{let ee=!1;A.then(N=>{ee||(ee=!0,qf(H,N),U(N),V())},N=>{ee||(ee=!0,Kf(H,N),ne(N),V())}),B=N=>{ee||(ee=!0,N.then(b=>qf(H,b),b=>Kf(H,b)),U(N))}});return H.orig=A,H.status="pending",zv(H,U=>{U&&B(U),R==null||R()}),d(S,H,I,!0)}return d(S,A,I)},s=(S,A,I)=>{const R=y(S),B={d:(R==null?void 0:R.d)||new Map,e:A};return I&&l(S,B,I),Zf(R,B)&&R.d===B.d?R:(r(S,B),B)},a=(S,A)=>{const I=y(S);if(!A&&I&&(t.has(S)||Array.from(I.d).every(([ee,N])=>{if(ee===S)return!0;const b=a(ee);return b===N||Yr(b,N)})))return I;const R=new Map;let B=!0;const V=ee=>{if(Ha(S,ee)){const b=y(ee);if(b)return R.set(ee,b),Co(b);if(Va(ee))return R.set(ee,void 0),ee.init;throw new Error("no atom init")}const N=a(ee);return R.set(ee,N),Co(N)};let H,U;const ne={get signal(){return H||(H=new AbortController),H.signal},get setSelf(){return(Be?"production":void 0)!=="production"&&!za(S)&&console.warn("setSelf function cannot be used with read-only atom"),!U&&za(S)&&(U=(...ee)=>{if((Be?"production":void 0)!=="production"&&B&&console.warn("setSelf function cannot be called in sync"),!B)return m(S,...ee)}),U}};try{const ee=S.read(V,ne);return i(S,ee,R,()=>H==null?void 0:H.abort())}catch(ee){return s(S,ee,R)}finally{B=!1}},f=S=>Co(a(S)),p=S=>{const A=H=>{var U,ne;const ee=new Set((U=t.get(H))==null?void 0:U.t);return(ne=o.get(H))==null||ne[1].forEach(N=>{ee.add(N)}),ee},I=new Array,R=new Set,B=H=>{if(!R.has(H)){R.add(H);for(const U of A(H))H!==U&&B(U);I.push(H)}};B(S);const V=new Set([S]);for(let H=I.length-1;H>=0;--H){const U=I[H],ne=y(U);if(!ne)continue;let ee=!1;for(const N of ne.d.keys())if(N!==U&&V.has(N)){ee=!0;break}if(ee){const N=a(U,!0);Yr(ne,N)||V.add(U)}}},u=(S,...A)=>{const I=V=>Co(a(V)),R=(V,...H)=>{const U=n.length>0;U||n.push(new Set([V]));let ne;if(Ha(S,V)){if(!Va(V))throw new Error("atom not writable");const ee=y(V),N=i(V,H[0]);Yr(ee,N)||p(V)}else ne=u(V,...H);if(!U){const ee=x(n.pop());(Be?"production":void 0)!=="production"&&h.forEach(N=>N({type:"async-write",flushed:ee}))}return ne};return S.write(I,R,...A)},m=(S,...A)=>{n.push(new Set([S]));const I=u(S,...A),R=x(n.pop());return(Be?"production":void 0)!=="production"&&h.forEach(B=>B({type:"write",flushed:R})),I},v=(S,A,I)=>{var R;const B=t.get(S);if(B)return A&&B.t.add(A),B;const V=I||[];(R=y(S))==null||R.d.forEach((U,ne)=>{ne!==S&&v(ne,S,V)}),a(S);const H={t:new Set(A&&[A]),l:new Set};if(t.set(S,H),(Be?"production":void 0)!=="production"&&g.add(S),za(S)&&S.onMount){const{onMount:U}=S;V.push(()=>{const ne=U((...ee)=>m(S,...ee));ne&&(H.u=ne)})}return I||V.forEach(U=>U()),H},C=(S,A)=>!A.l.size&&(!A.t.size||A.t.size===1&&A.t.has(S)),_=(S,A)=>{if(!C(S,A))return;const I=A.u;I&&I(),t.delete(S),(Be?"production":void 0)!=="production"&&g.delete(S);const R=y(S);R?(tr(R)&&Yf(R.v),R.d.forEach((B,V)=>{if(V!==S){const H=t.get(V);H&&(H.t.delete(S),_(V,H))}})):(Be?"production":void 0)!=="production"&&console.warn("[Bug] could not find atom state to unmount",S)},w=(S,A,I)=>{const R=new Set(A.d.keys()),B=new Set;I==null||I.forEach((V,H)=>{if(R.has(H)){R.delete(H);return}B.add(H);const U=t.get(H);U&&U.t.delete(S)}),R.forEach(V=>{v(V,S)}),B.forEach(V=>{const H=t.get(V);H&&_(V,H)})},x=S=>{let A;(Be?"production":void 0)!=="production"&&(A=new Set);const I=[],R=B=>{var V;if(!o.has(B))return;const[H,U]=o.get(B);o.delete(B),I.push([B,H]),U.forEach(R),(V=y(B))==null||V.d.forEach((ne,ee)=>R(ee))};if(S.forEach(R),I.forEach(([B,V])=>{const H=y(B);if(!H){(Be?"production":void 0)!=="production"&&console.warn("[Bug] no atom state to flush");return}if(H!==V){const U=t.get(B);U&&H.d!==(V==null?void 0:V.d)&&w(B,H,V==null?void 0:V.d),U&&!(!tr(V)&&(Yr(V,H)||Zf(V,H)))&&(U.l.forEach(ne=>ne()),(Be?"production":void 0)!=="production"&&A.add(B))}}),(Be?"production":void 0)!=="production")return A},T=(S,A)=>{const I=v(S),R=x([S]),B=I.l;return B.add(A),(Be?"production":void 0)!=="production"&&h.forEach(V=>V({type:"sub",flushed:R})),()=>{B.delete(A),_(S,I),(Be?"production":void 0)!=="production"&&h.forEach(V=>V({type:"unsub"}))}};return(Be?"production":void 0)!=="production"?{get:f,set:m,sub:T,dev_subscribe_store:S=>(h.add(S),()=>{h.delete(S)}),dev_get_mounted_atoms:()=>g.values(),dev_get_atom_state:S=>e.get(S),dev_get_mounted:S=>t.get(S),dev_restore_atoms:S=>{n.push(new Set);for(const[I,R]of S)Va(I)&&(i(I,R),p(I));const A=x(n.pop());h.forEach(I=>I({type:"restore",flushed:A}))}}:{get:f,set:m,sub:T}};let qr;const $v=()=>(qr||(qr=Gv(),(Be?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=qr),globalThis.__JOTAI_DEFAULT_STORE__!==qr&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),qr),Xv=$v;var Yv={BASE_URL:"https://TomasSadone.github.io/dev-art/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const qv=$.createContext(void 0),_p=e=>{const t=$.useContext(qv);return(e==null?void 0:e.store)||t||Xv()},Kv=e=>typeof(e==null?void 0:e.then)=="function",Zv=fe.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function Qv(e,t){const n=_p(t),[[o,h,g],y]=$.useReducer(l=>{const d=n.get(e);return Object.is(l[0],d)&&l[1]===n&&l[2]===e?l:[d,n,e]},void 0,()=>[n.get(e),n,e]);let c=o;(h!==n||g!==e)&&(y(),c=n.get(e));const r=t==null?void 0:t.delay;return $.useEffect(()=>{const l=n.sub(e,()=>{if(typeof r=="number"){setTimeout(y,r);return}y()});return y(),l},[n,e,r]),$.useDebugValue(c),Kv(c)?Zv(c):c}function Jv(e,t){const n=_p(t);return $.useCallback((...h)=>{if((Yv?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...h)},[n,e])}function He(e,t){return[Qv(e,t),Jv(e,t)]}const e1="_actionsBar_ckk6w_1",t1={actionsBar:e1},n1=({children:e})=>M.jsx("div",{className:t1.actionsBar,children:e}),r1=({children:e,className:t})=>M.jsx("aside",{className:t,children:e}),i1="_toolsbar_vg2s5_1",o1={toolsbar:i1},s1=({children:e})=>M.jsx("div",{className:o1.toolsbar,children:e}),a1="_editor_1f1pg_1",l1="_layout_1f1pg_18",c1="_overflowAuto_1f1pg_24",u1="_toolbarAndEditor_1f1pg_29",f1="_main_1f1pg_33",Mn={editor:a1,layout:l1,overflowAuto:c1,toolbarAndEditor:u1,main:f1},h1=({ActionsBarChildren:e,ToolsBarChildren:t,Sidebar:n,SidemenuChildren:o,children:h})=>M.jsxs("div",{className:Mn.editor,children:[M.jsx(n1,{children:e}),M.jsxs("div",{className:Mn.layout,children:[n,M.jsx(r1,{className:Mn.overflowAuto,children:o}),M.jsxs("div",{className:[Mn.toolbarAndEditor,Mn.overflowAuto].join(" "),children:[M.jsx(s1,{children:t}),M.jsx("main",{className:[Mn.main,Mn.overflowAuto].join(" "),children:h})]})]})]}),wp=$.createContext(null),Ie=()=>{const e=$.useContext(wp);if(!e)throw new Error("useCanvasContext has to be used within <CanvasContextProvider/>");return e},d1="_canvasContainer_1rx6f_1",p1="_libraryWrapper_1rx6f_8",g1="_canvas_1rx6f_1",m1="_active_1rx6f_26",_o={canvasContainer:d1,libraryWrapper:p1,canvas:g1,active:m1};function xp(e,t,n=[]){$.useEffect(()=>{const o=({target:h})=>{e.some(y=>{var c;return(c=y.current)==null?void 0:c.contains(h)})||t()};return document.addEventListener("click",o),()=>document.removeEventListener("click",o)},n)}const us=An(""),Fi=An(""),ru=An(null,(e,t,n)=>{e(us)!==void 0&&t(us,n)}),Jn=An(null,(e,t,n)=>{e(Fi)!==void 0&&t(Fi,n)}),Ql=An(null),v1=An(null,(e,t,n)=>{e(Ql)!==void 0&&t(Ql,n)}),Qf=An([]),y1=An(null,(e,t,n)=>{e(Qf)!==void 0&&t(Qf,n)}),C1="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='trash-2'%3e%3cpath%20id='Icon'%20d='M2.5%205.00008H4.16667M4.16667%205.00008H17.5M4.16667%205.00008V16.6667C4.16667%2017.1088%204.34226%2017.5327%204.65482%2017.8453C4.96738%2018.1578%205.39131%2018.3334%205.83333%2018.3334H14.1667C14.6087%2018.3334%2015.0326%2018.1578%2015.3452%2017.8453C15.6577%2017.5327%2015.8333%2017.1088%2015.8333%2016.6667V5.00008H4.16667ZM6.66667%205.00008V3.33341C6.66667%202.89139%206.84226%202.46746%207.15482%202.1549C7.46738%201.84234%207.89131%201.66675%208.33333%201.66675H11.6667C12.1087%201.66675%2012.5326%201.84234%2012.8452%202.1549C13.1577%202.46746%2013.3333%202.89139%2013.3333%203.33341V5.00008M8.33333%209.16675V14.1667M11.6667%209.16675V14.1667'%20stroke='%23344054'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",_1="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='more-horizontal'%3e%3cg%20id='Icon'%3e%3cpath%20d='M10%2010.8334C10.4603%2010.8334%2010.8334%2010.4603%2010.8334%2010.0001C10.8334%209.53984%2010.4603%209.16675%2010%209.16675C9.5398%209.16675%209.16671%209.53984%209.16671%2010.0001C9.16671%2010.4603%209.5398%2010.8334%2010%2010.8334Z'%20stroke='%23344054'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.8334%2010.8334C16.2936%2010.8334%2016.6667%2010.4603%2016.6667%2010.0001C16.6667%209.53984%2016.2936%209.16675%2015.8334%209.16675C15.3731%209.16675%2015%209.53984%2015%2010.0001C15%2010.4603%2015.3731%2010.8334%2015.8334%2010.8334Z'%20stroke='%23344054'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.16671%2010.8334C4.62694%2010.8334%205.00004%2010.4603%205.00004%2010.0001C5.00004%209.53984%204.62694%209.16675%204.16671%209.16675C3.70647%209.16675%203.33337%209.53984%203.33337%2010.0001C3.33337%2010.4603%203.70647%2010.8334%204.16671%2010.8334Z'%20stroke='%23344054'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",w1="_menu_f2hya_1",x1="_iconTitle_f2hya_13",S1="_button_f2hya_19",Wa={menu:w1,iconTitle:x1,button:S1},b1="data:image/svg+xml,%3csvg%20width='24'%20height='26'%20viewBox='0%200%2024%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Group%201000002698'%3e%3cpath%20id='Vector'%20d='M5.07715%205.07703L5.07715%2010.4617L22.7695%2010.4617L22.7695%205.07703L5.07715%205.07703Z'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_2'%20d='M5.07715%2014.9232L5.07715%2020.3079L16.6157%2020.3079L16.6157%2014.9232L5.07715%2014.9232Z'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_3'%20d='M1%201L1%2024.3847'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/g%3e%3c/svg%3e",T1="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='centro'%3e%3cg%20id='Group%201000002161'%3e%3cpath%20id='Vector'%20d='M9.4153%2023.0769L14.2461%2023.0769L14.2461%207.99991L9.4153%207.99991L9.4153%2023.0769Z'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_2'%20d='M18.5227%2019.6616L23.3535%2019.6616L23.3535%2011.4154L18.5227%2011.4154L18.5227%2019.6616Z'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_3'%20d='M24.3535%2015.5386H27.7689'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20id='Vector_4'%20d='M15.2461%2015.5386H17.523'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_5'%20d='M5%2015.5386H8.4154'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",E1="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='centro'%3e%3cg%20id='Group%201000002158'%3e%3cpath%20id='Vector'%20d='M23.0771%2023.5847L23.0771%2018.7539L8.00016%2018.7539L8.00016%2023.5847L23.0771%2023.5847Z'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_2'%20d='M19.6611%2014.4768L19.6611%209.646L11.4149%209.646L11.4149%2014.4768L19.6611%2014.4768Z'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_3'%20d='M15.5381%208.646L15.5381%205.2306'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20id='Vector_4'%20d='M15.5381%2017.7539L15.5381%2015.477'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_5'%20d='M15.5381%2028L15.5381%2024.5846'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",O1="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='copy'%3e%3cpath%20id='Icon'%20d='M5%2015H4C3.46957%2015%202.96086%2014.7893%202.58579%2014.4142C2.21071%2014.0391%202%2013.5304%202%2013V4C2%203.46957%202.21071%202.96086%202.58579%202.58579C2.96086%202.21071%203.46957%202%204%202H13C13.5304%202%2014.0391%202.21071%2014.4142%202.58579C14.7893%202.96086%2015%203.46957%2015%204V5M11%209H20C21.1046%209%2022%209.89543%2022%2011V20C22%2021.1046%2021.1046%2022%2020%2022H11C9.89543%2022%209%2021.1046%209%2020V11C9%209.89543%209.89543%209%2011%209Z'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",k1="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Paste'%3e%3cmask%20id='mask0_231_13019'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='24'%20height='24'%3e%3crect%20id='Bounding%20box'%20width='24'%20height='24'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_231_13019)'%3e%3cpath%20id='content_paste'%20d='M5%2021C4.45%2021%203.97917%2020.8042%203.5875%2020.4125C3.19583%2020.0208%203%2019.55%203%2019V5C3%204.45%203.19583%203.97917%203.5875%203.5875C3.97917%203.19583%204.45%203%205%203H9.175C9.35833%202.41667%209.71667%201.9375%2010.25%201.5625C10.7833%201.1875%2011.3667%201%2012%201C12.6667%201%2013.2625%201.1875%2013.7875%201.5625C14.3125%201.9375%2014.6667%202.41667%2014.85%203H19C19.55%203%2020.0208%203.19583%2020.4125%203.5875C20.8042%203.97917%2021%204.45%2021%205V19C21%2019.55%2020.8042%2020.0208%2020.4125%2020.4125C20.0208%2020.8042%2019.55%2021%2019%2021H5ZM5%2019H19V5H17V8H7V5H5V19ZM12%205C12.2833%205%2012.5208%204.90417%2012.7125%204.7125C12.9042%204.52083%2013%204.28333%2013%204C13%203.71667%2012.9042%203.47917%2012.7125%203.2875C12.5208%203.09583%2012.2833%203%2012%203C11.7167%203%2011.4792%203.09583%2011.2875%203.2875C11.0958%203.47917%2011%203.71667%2011%204C11%204.28333%2011.0958%204.52083%2011.2875%204.7125C11.4792%204.90417%2011.7167%205%2012%205Z'%20fill='%231D2939'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",D1="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='trash-2'%3e%3cpath%20id='Icon'%20d='M2.5%205.00008H4.16667M4.16667%205.00008H17.5M4.16667%205.00008V16.6667C4.16667%2017.1088%204.34226%2017.5327%204.65482%2017.8453C4.96738%2018.1578%205.39131%2018.3334%205.83333%2018.3334H14.1667C14.6087%2018.3334%2015.0326%2018.1578%2015.3452%2017.8453C15.6577%2017.5327%2015.8333%2017.1088%2015.8333%2016.6667V5.00008H4.16667ZM6.66667%205.00008V3.33341C6.66667%202.89139%206.84226%202.46746%207.15482%202.1549C7.46738%201.84234%207.89131%201.66675%208.33333%201.66675H11.6667C12.1087%201.66675%2012.5326%201.84234%2012.8452%202.1549C13.1577%202.46746%2013.3333%202.89139%2013.3333%203.33341V5.00008M8.33333%209.16675V14.1667M11.6667%209.16675V14.1667'%20stroke='%23344054'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",P1="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='duplicate'%3e%3cmask%20id='mask0_231_13024'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='24'%20height='24'%3e%3crect%20id='Bounding%20box'%20width='24'%20height='24'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_231_13024)'%3e%3cpath%20id='tab_close'%20d='M8%2018C7.45%2018%206.97917%2017.8042%206.5875%2017.4125C6.19583%2017.0208%206%2016.55%206%2016V4C6%203.45%206.19583%202.97917%206.5875%202.5875C6.97917%202.19583%207.45%202%208%202H20C20.55%202%2021.0208%202.19583%2021.4125%202.5875C21.8042%202.97917%2022%203.45%2022%204V16C22%2016.55%2021.8042%2017.0208%2021.4125%2017.4125C21.0208%2017.8042%2020.55%2018%2020%2018H8ZM8%2016H20V4H8V16ZM4%2022C3.45%2022%202.97917%2021.8042%202.5875%2021.4125C2.19583%2021.0208%202%2020.55%202%2020V6H4V20H18V22H4Z'%20fill='%231D2939'/%3e%3cpath%20id='Icon'%20d='M14%207V13M11%2010H14H17'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",A1="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='alto'%3e%3cg%20id='Group%201000002160'%3e%3cpath%20id='Vector'%20d='M23.3065%208.69214L17.9219%208.69214L17.9219%2026.3845L23.3065%2026.3845L23.3065%208.69214Z'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_2'%20d='M13.4608%208.69214L8.07617%208.69214L8.07617%2020.2307L13.4608%2020.2307L13.4608%208.69214Z'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_3'%20d='M27.3848%204.61523L4.00006%204.61524'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",I1="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='basso'%3e%3cg%20id='Group%201000002150'%3e%3cpath%20id='Vector'%20d='M7.69348%2023.9231L13.0781%2023.9231L13.0781%206.23071L7.69348%206.23071L7.69348%2023.9231Z'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_2'%20d='M17.5392%2023.9231L22.9238%2023.9231L22.9238%2012.3846L17.5392%2012.3846L17.5392%2023.9231Z'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_3'%20d='M3.61523%2028L26.9999%2028'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",M1="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='sinistra'%3e%3cg%20id='Group%201000002162'%3e%3cpath%20id='Vector'%20d='M9.07715%208.07703L9.07715%2013.4617L26.7695%2013.4617L26.7695%208.07703L9.07715%208.07703Z'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_2'%20d='M9.07715%2017.9232L9.07715%2023.3079L20.6157%2023.3079L20.6157%2017.9232L9.07715%2017.9232Z'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_3'%20d='M5%204L5%2027.3847'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",L1="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='destra'%3e%3cg%20id='Group%201000002151'%3e%3cpath%20id='Vector'%20d='M23.9229%2023.3077L23.9229%2017.9231L6.23047%2017.9231L6.23047%2023.3077L23.9229%2023.3077Z'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_2'%20d='M23.9229%2013.4615L23.9229%208.0769L12.3843%208.0769L12.3843%2013.4615L23.9229%2013.4615Z'%20stroke='%231D2939'%20stroke-width='2'/%3e%3cpath%20id='Vector_3'%20d='M28%2027.3848L28%204.00006'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",R1="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='2-layers'%3e%3cpath%20id='Icon'%20d='M2%2014.5L12%2019.5L22%2014.5M12%204.5L2%209.5L12%2014.5L22%209.5L12%204.5Z'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",F1="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Avanti'%3e%3cg%20id='Icons'%3e%3cg%20id='Group'%3e%3cpath%20id='Vector'%20d='M18%205.25L6%205.25V6.75L18%206.75V5.25Z'%20fill='%231D2939'/%3e%3cpath%20id='Vector_2'%20d='M6%2013.875L7.0605%2014.9355L11.25%2010.746V18.75H12.75V10.746L16.9395%2014.9355L18%2013.875L12%207.875L6%2013.875Z'%20fill='%231D2939'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",j1="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Indietro'%3e%3cg%20id='Icons'%3e%3cg%20id='Group'%3e%3cpath%20id='Vector'%20d='M6%2018.75L18%2018.75L18%2017.25L6%2017.25L6%2018.75Z'%20fill='%231D2939'/%3e%3cpath%20id='Vector_2'%20d='M18%2010.125L16.9395%209.0645L12.75%2013.254L12.75%205.25L11.25%205.25L11.25%2013.254L7.0605%209.0645L6%2010.125L12%2016.125L18%2010.125Z'%20fill='%231D2939'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",B1="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Avanti++'%3e%3cg%20id='Icons'%3e%3cg%20id='Group'%3e%3crect%20id='Bar1'%20x='6'%20y='5.25'%20width='12'%20height='1.5'%20fill='%231D2939'/%3e%3crect%20id='Bar2'%20x='6'%20y='8.25'%20width='12'%20height='1.5'%20fill='%231D2939'/%3e%3cpath%20id='Vector'%20d='M6%2013.875L7.0605%2014.9355L11.25%2010.746V18.75H12.75V10.746L16.9395%2014.9355L18%2013.875L12%207.875L6%2013.875Z'%20fill='%231D2939'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",N1="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Indietro++'%3e%3cg%20id='Icons'%3e%3cg%20id='Group'%3e%3crect%20id='Bar1'%20x='6'%20y='15.25'%20width='12'%20height='1.5'%20fill='%231D2939'/%3e%3crect%20id='Bar2'%20x='6'%20y='18.25'%20width='12'%20height='1.5'%20fill='%231D2939'/%3e%3cpath%20id='Vector_2'%20d='M18%2010.125L16.9395%209.0645L12.75%2013.254L12.75%205.25L11.25%205.25L11.25%2013.254L7.0605%209.0645L6%2010.125L12%2016.125L18%2010.125Z'%20fill='%231D2939'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",H1=[{icon:O1,name:"Copy",onClick:V1},{icon:k1,name:"Paste",onClick:bp},{icon:P1,name:"Duplicate",onClick:z1},{icon:D1,name:"Delete",onClick:W1},{icon:R1,name:"Layers",children:[{icon:B1,name:"Bring to front",onClick:U1},{icon:F1,name:"Bring forward",onClick:$1},{icon:j1,name:"Send backwards",onClick:X1},{icon:N1,name:"Send to back",onClick:G1}]},{icon:b1,name:"Align",children:[{icon:A1,name:"Up",onClick:Y1},{icon:T1,name:"Center",onClick:Q1},{icon:I1,name:"Down",onClick:q1},{icon:M1,name:"Left",onClick:K1},{icon:E1,name:"Center",onClick:J1},{icon:L1,name:"Right",onClick:Z1}]}];function Sp(e){var n;if(e.getActiveObject()===null)return;let t;return(n=e.getActiveObject())==null||n.clone(function(o){t=o}),t}function V1(e){Sp(e)}function bp(e){const t=e.getActiveObject();t&&t.clone(function(n){e.discardActiveObject();const o=n.left||10,h=n.top||10;n.set({left:o+10||10,top:h+10||10,evented:!0}),n.type==="activeSelection"?(n.canvas=e,n.forEachObject(function(g){e.add(g)}),n.setCoords()):e.add(n),e.setActiveObject(n),e.requestRenderAll()})}function z1(e){Sp(e)&&bp(e)}function Qi(e,t){if(typeof e[t]=="function"){const n=e.getActiveObject();if(!n)return;e[t](n),e.requestRenderAll()}}function W1(e){Qi(e,"remove")}function U1(e){Qi(e,"bringToFront")}function G1(e){Qi(e,"sendToBack")}function $1(e){Qi(e,"bringForward")}function X1(e){Qi(e,"sendBackwards")}function Y1(e){const t=e.getActiveObject();t&&(t.set("top",0),e.requestRenderAll())}function q1(e){const t=e.getActiveObject();if(!t)return;const n=e.getHeight(),o=t.height||100,h=t.scaleY||1;t.set("top",n-o*h),e.requestRenderAll()}function K1(e){const t=e.getActiveObject();t&&(t.set("left",0),e.requestRenderAll())}function Z1(e){const t=e.getActiveObject();if(!t)return;const n=e.getWidth(),o=t.width||100,h=t.scaleX||1;t.set("left",n-o*h),e.requestRenderAll()}function Q1(e){const t=e.getActiveObject();if(!t)return;const n=e.getHeight()/2,o=t.height||100,h=t.scaleY||1;t.set({top:n-o*h/2}),e.requestRenderAll()}function J1(e){const t=e.getActiveObject();if(!t)return;const n=e.getWidth()/2,o=t.width||100,h=t.scaleX||1;t.set({left:n-o*h/2}),e.requestRenderAll()}const ey="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='chevron-right'%3e%3cpath%20id='Icon'%20d='M9%2018L15%2012L9%206'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",ty=({position:e,z:t})=>M.jsx(Tp,{position:e,z:t,items:H1}),Tp=({items:e,position:t,z:n=20})=>{const o=Ie();if(!o.current)return M.jsx(M.Fragment,{});const[h,g]=$.useState(null),y=(r,l)=>{r.children&&g(l)},c=()=>{g&&g(null)};return Qn.createPortal(M.jsxs("ul",{onMouseLeave:c,style:{top:t.y,left:t.x,zIndex:n,right:t.right},className:Wa.menu,children:[e.map((r,l)=>M.jsx("li",{onMouseEnter:()=>y(r,l),children:M.jsxs("button",{className:Wa.button,onClick:()=>{r.onClick&&r.onClick(o.current)},children:[M.jsxs("div",{className:Wa.iconTitle,children:[M.jsx("img",{src:r.icon,alt:""}),M.jsx("span",{children:r.name})]}),r.children&&M.jsx("img",{src:ey,alt:""})]})},r.icon)),h&&e[h].children&&M.jsx(Tp,{position:t,items:e[h].children,z:n+1})]}),document.body)};function Ep(e){return function(n,o,h,g,y){let c=27,r=c*.25,l=24;n.save(),n.translate(o,h),n.rotate(De.fabric.util.degreesToRadians(y.angle)),n.fillStyle="white",n.shadowColor="rgba(0, 0, 0, 0.2)",n.shadowBlur=10,n.shadowOffsetX=2,n.shadowOffsetY=2,n.beginPath(),n.arc(-c/2+r,-c/2+r,r,Math.PI,1.5*Math.PI),n.lineTo(c/2-r,-c/2),n.arc(c/2-r,-c/2+r,r,1.5*Math.PI,2*Math.PI),n.lineTo(c/2,c/2-r),n.arc(c/2-r,c/2-r,r,0,.5*Math.PI),n.lineTo(-c/2+r,c/2),n.arc(-c/2+r,c/2-r,r,.5*Math.PI,Math.PI),n.closePath(),n.fill(),n.drawImage(e,-l/2,-l/2,l,l),n.restore()}}const Op=e=>{const t=new Image;return t.src=e,t.onload=function(){},t},ny=Op(C1),ry=Op(_1);De.fabric.Object.prototype.controls.deleteControl=new De.fabric.Control({x:.5,y:-.5,offsetY:10,offsetX:-50,cursorStyle:"pointer",mouseUpHandler:iy,render:Ep(ny),sizeX:24,sizeY:24});De.fabric.Object.prototype.controls.threePointsControl=new De.fabric.Control({x:.5,y:-.5,offsetY:10,offsetX:-10,cursorStyle:"pointer",render:Ep(ry),sizeX:24,sizeY:24});function iy(e,t){const n=t.target;if(!n.canvas)return!1;const o=n.canvas;return o.remove(n),o.requestRenderAll(),!1}const oy=()=>{const e=$.useRef(null),t=$.useRef(null),n=Ie(),[o,h]=He(Fi),[g,y]=He(Ql),c=d=>{var a,f;if(!n||!((a=n.current)!=null&&a.height)||!((f=n.current)!=null&&f.width))return!1;const i=d.clientX,s=d.clientY;return g!==null?(y(null),!1):(y({x:i,y:s}),!1)};xp([t],()=>{o==="canvas"&&h("")},[o]),$.useLayoutEffect(()=>{if(t.current){const{current:d}=t,i=d.clientWidth<d.clientHeight?d.clientWidth:d.clientHeight,s=32;n.current=l(i-s)}},[]),$.useEffect(()=>{De.fabric.Object.prototype.controls.threePointsControl.mouseUpHandler=c},[g]);function l(d){return new De.fabric.Canvas(e.current,{width:d,height:d,backgroundColor:"white",preserveObjectStacking:!0})}return M.jsx("div",{className:_o.canvasContainer,children:M.jsxs("div",{className:_o.libraryWrapper,ref:t,children:[M.jsx("canvas",{ref:e,className:`${_o.canvas} ${o==="canvas"&&_o.active}`}),g&&M.jsx(ty,{position:g,z:20})]})})},sy="_button_638i3_1",ay="_stroke_638i3_15",ly="_text_638i3_27",cy="_orange_638i3_41",uy="_secondary_638i3_50",fy="_green_638i3_61",hy="_red_638i3_81",dy="_blue_638i3_101",py="_white_638i3_121",gy="_icon_container_638i3_132",my="_end_icon_container_638i3_136",Ln={button:sy,stroke:ay,text:ly,orange:cy,secondary:uy,green:fy,red:hy,blue:dy,white:py,icon_container:gy,end_icon_container:my};var kp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var g="",y=0;y<arguments.length;y++){var c=arguments[y];c&&(g=h(g,o(c)))}return g}function o(g){if(typeof g=="string"||typeof g=="number")return g;if(typeof g!="object")return"";if(Array.isArray(g))return n.apply(null,g);if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]"))return g.toString();var y="";for(var c in g)t.call(g,c)&&g[c]&&(y=h(y,c));return y}function h(g,y){return y?g?g+" "+y:g+y:g}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(kp);var vy=kp.exports;const yy=_s(vy),Cy="_loader_19y8t_1",_y="_loader_white_19y8t_17",wy="_loader_red_19y8t_21",xy="_loader_orange_19y8t_25",Sy="_loader_green_19y8t_29",by="_loader_blue_19y8t_33",Jf={loader:Cy,loader_white:_y,"loader-white":"_loader-white_19y8t_1",loader_red:wy,"loader-red":"_loader-red_19y8t_1",loader_orange:xy,"loader-orange":"_loader-orange_19y8t_1",loader_green:Sy,"loader-green":"_loader-green_19y8t_1",loader_blue:by,"loader-blue":"_loader-blue_19y8t_1"},Ty=({className:e,color:t,useColor:n})=>M.jsx("div",{className:yy(Jf.loader,e,{[Jf[`loader_${n?t:"white"}`]]:!!t})}),_r=({title:e,color:t,icon:n,endIcon:o,secondary:h,stroke:g,text:y,isLoading:c,children:r,...l})=>M.jsxs("button",{disabled:c,className:`${Ln.button} ${Ln[t]} ${h&&Ln.secondary} ${g&&Ln.stroke} ${y&&Ln.text}`,...l,children:[n&&M.jsx("img",{className:Ln.icon_container,src:n,alt:""}),e,r,o&&M.jsx("div",{className:Ln.end_icon_container,children:M.jsx("img",{src:o,alt:""})}),c&&M.jsx(Ty,{color:g||y?void 0:t,useColor:h})]}),Ey="_actionsBar_16lga_1",Oy="_subGroup_16lga_9",eh={actionsBar:Ey,subGroup:Oy},ky="data:image/svg+xml,%3csvg%20width='14'%20height='13'%20viewBox='0%200%2014%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.83334%2012.8335V11.1668H8.75001C9.62501%2011.1668%2010.3854%2010.8891%2011.0313%2010.3335C11.6771%209.77794%2012%209.0835%2012%208.25016C12%207.41683%2011.6771%206.72238%2011.0313%206.16683C10.3854%205.61127%209.62501%205.3335%208.75001%205.3335H3.50001L5.66668%207.50016L4.50001%208.66683L0.333344%204.50016L4.50001%200.333496L5.66668%201.50016L3.50001%203.66683H8.75001C10.0972%203.66683%2011.2535%204.10433%2012.2188%204.97933C13.184%205.85433%2013.6667%206.94461%2013.6667%208.25016C13.6667%209.55572%2013.184%2010.646%2012.2188%2011.521C11.2535%2012.396%2010.0972%2012.8335%208.75001%2012.8335H2.83334Z'%20fill='%23344054'/%3e%3c/svg%3e",Dy="data:image/svg+xml,%3csvg%20width='14'%20height='13'%20viewBox='0%200%2014%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.25004%2012.8335C3.90282%2012.8335%202.74657%2012.396%201.78129%2011.521C0.816013%2010.646%200.333374%209.55572%200.333374%208.25016C0.333374%206.94461%200.816013%205.85433%201.78129%204.97933C2.74657%204.10433%203.90282%203.66683%205.25004%203.66683H10.5L8.33337%201.50016L9.50004%200.333496L13.6667%204.50016L9.50004%208.66683L8.33337%207.50016L10.5%205.3335H5.25004C4.37504%205.3335%203.61462%205.61127%202.96879%206.16683C2.32296%206.72238%202.00004%207.41683%202.00004%208.25016C2.00004%209.0835%202.32296%209.77794%202.96879%2010.3335C3.61462%2010.8891%204.37504%2011.1668%205.25004%2011.1668H11.1667V12.8335H5.25004Z'%20fill='%23344054'/%3e%3c/svg%3e",Py="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.6667%205L7.50004%2014.1667L3.33337%2010'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Ay=({onSave:e,onExit:t})=>{const n=Ie(),o=()=>{n.current&&n.current.undo()},h=()=>{n.current&&n.current.redo()},g=()=>{if(!n.current)return;const{current:y}=n,r=y.toJSON(["width","height","toDataURL","background"]);r.toDataURL=r.toDataURL.bind(y),e(r)};return M.jsxs("div",{className:eh.actionsBar,children:[M.jsx("span",{}),M.jsxs("div",{className:eh.subGroup,children:[M.jsx(_r,{color:"white",onClick:o,children:M.jsx("img",{src:ky,alt:""})}),M.jsx(_r,{color:"white",onClick:h,children:M.jsx("img",{src:Dy,alt:""})}),M.jsx(_r,{onClick:g,icon:Py,color:"blue",title:"Save"})]})]})},Iy="_sidebar_jjozm_1",My="_button_jjozm_10",Ly="_selected_jjozm_24",Ry="_prevSelected_jjozm_27",Fy="_nextSelected_jjozm_30",Kr={sidebar:Iy,button:My,selected:Ly,prevSelected:Ry,nextSelected:Fy},jy=({buttons:e})=>M.jsx("div",{className:Kr.sidebar,children:M.jsx("div",{children:e.map((t,n)=>{var o,h;return M.jsxs("button",{onClick:t.onClick,className:`${Kr.button} ${t.isSelected&&Kr.selected} ${(o=e[n-1])!=null&&o.isSelected?Kr.prevSelected:(h=e[n+1])!=null&&h.isSelected?Kr.nextSelected:null}`,children:[M.jsx("img",{src:t.icon,alt:""}),M.jsx("span",{children:t.title})]},t.title)})})}),By="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%204V1H17V4M6%2017H12M9%201V17'%20stroke='%23667085'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Ny="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3%2019H17C18.1046%2019%2019%2018.1046%2019%2017V3C19%201.89543%2018.1046%201%2017%201H3C1.89543%201%201%201.89543%201%203V17C1%2018.1046%201.89543%2019%203%2019ZM3%2019L14%208L19%2013M8%206.5C8%207.32843%207.32843%208%206.5%208C5.67157%208%205%207.32843%205%206.5C5%205.67157%205.67157%205%206.5%205C7.32843%205%208%205.67157%208%206.5Z'%20stroke='%23667085'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Hy="data:image/svg+xml,%3csvg%20width='22'%20height='18'%20viewBox='0%200%2022%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%2011.5L11%2016.5L21%2011.5M11%201.5L1%206.5L11%2011.5L21%206.5L11%201.5Z'%20stroke='%23667085'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Vy="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24%2022.916V14.3493C24%2013.8833%2023.6164%2013.5059%2023.1428%2013.5059H14.4356C13.962%2013.5059%2013.5784%2013.8833%2013.5784%2014.3493V22.916C13.5784%2023.382%2013.962%2023.7594%2014.4356%2023.7594H23.1423C23.6159%2023.7594%2024%2023.382%2024%2022.916ZM22.2856%2022.0725H15.2928V15.1927H22.285V22.0725H22.2856Z'%20fill='%23667085'/%3e%3cpath%20d='M18.5958%2010.8735C18.749%2010.6125%2018.749%2010.291%2018.5958%2010.03L12.958%200.421718C12.8047%200.16078%2012.5219%200%2012.2154%200C11.9089%200%2011.6261%200.16078%2011.4728%200.421718L5.83501%2010.03C5.68179%2010.291%205.68179%2010.6125%205.83501%2010.8735C5.98824%2011.1344%206.27112%2011.2952%206.57758%2011.2952H17.8538C18.1597%2011.2952%2018.4431%2011.1344%2018.5958%2010.8735ZM8.06218%209.60833L12.2154%202.52978L16.3686%209.60833H8.06218Z'%20fill='%23667085'/%3e%3cpath%20d='M10.9113%2018.6326C10.9113%2015.6727%208.46397%2013.2646%205.45567%2013.2646C2.44736%2013.2646%200%2015.6727%200%2018.6326C0%2021.5925%202.44736%2024%205.45567%2024C8.46397%2024%2010.9113%2021.592%2010.9113%2018.6326ZM1.71444%2018.6326C1.71444%2016.6031%203.39245%2014.9515%205.45567%2014.9515C7.51889%2014.9515%209.19689%2016.6026%209.19689%2018.6326C9.19689%2020.6626%207.51889%2022.3137%205.45567%2022.3137C3.39245%2022.3137%201.71444%2020.6621%201.71444%2018.6326Z'%20fill='%23667085'/%3e%3c/svg%3e",zy=()=>{const[e,t]=He(us),[,n]=He(Jn),o=h=>{t(h),n("")};return M.jsx(jy,{buttons:[{icon:Ny,onClick:()=>o("images"),title:"Images",isSelected:e==="images"},{icon:By,onClick:()=>o("text"),title:"Text",isSelected:e==="text"},{icon:Vy,onClick:()=>o("elements"),title:"Elements",isSelected:e==="elements"},{icon:Hy,onClick:()=>o("layers"),title:"Layers",isSelected:e==="layers"}]})},Wy=(e,t)=>{const n=o=>(e.on(t,o),()=>{e.off(t,o)});return $.useMemo(()=>n,[e,t])},Uy=(e,t,n)=>t.map(g=>()=>n[g]).reduce((g,y,c)=>(g[t[c]]=$.useSyncExternalStore(e,y),g),{}),tt=(e,t,n)=>{const o=Wy(e,t);return Uy(o,n,e)},Gy="_handler_1hq03_1",$y="_fontSizeDisplay_1hq03_19",th={handler:Gy,fontSizeDisplay:$y},nh="object:modified",Xy=({activeTextObject:e})=>{const t=Ie(),{fontSize:n}=tt(e,nh,["fontSize"]),o=h=>{e.set("fontSize",h),e.fire(nh),t.current&&t.current.renderAll()};return M.jsxs("div",{className:th.handler,children:[M.jsx("button",{onClick:()=>{n&&o(n-1)},children:"-"}),M.jsx("span",{className:th.fontSizeDisplay,children:n}),M.jsx("button",{onClick:()=>{n&&o(n+1)},children:"+"})]})},Yy="_toggler_h658l_1",qy="_selected_h658l_7",Ky={toggler:Yy,selected:qy},Zy="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Group%201000002190'%3e%3cpath%20id='Icon'%20d='M21%2014H7M25%2010H7M25%2018H7M21%2022H7'%20stroke='%23667085'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Qy="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Group%201000002707'%3e%3cpath%20id='Icon'%20d='M22%2014H10M25%2010H7M25%2018H7M22%2022H10'%20stroke='%23667085'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Jy="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Group%201000002191'%3e%3cpath%20id='Icon'%20d='M25%2014H11M25%2010H7M25%2018H7M25%2022H11'%20stroke='%23667085'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",e3={left:Zy,center:Qy,right:Jy},rh="object:modified",t3=({activeTextObject:e,title:t})=>{const n=Ie(),{textAlign:o}=tt(e,rh,["textAlign"]),h=y=>{n.current&&(e.set("textAlign",y),e.fire(rh),n.current.renderAll())},g=y=>{y==="left"?h("center"):y==="center"?h("right"):y==="right"&&h("left")};return M.jsx("button",{className:Ky.toggler,title:t,onClick:()=>g(o),children:M.jsx("img",{src:e3[o],alt:""})})},n3="_toggler_h658l_1",r3="_selected_h658l_7",ih={toggler:n3,selected:r3},Zr=({valueToWatch:e,activeTextObject:t,onToggle:n,title:o,icon:h})=>{const[g,y]=$.useState(!1),c=tt(t,"object:modified",[e]),r=d=>typeof d=="string"?d!=="normal":d,l=()=>{y(!g),n({event:"object:modified",key:e,value:c[e]})};return M.jsx("button",{title:o,onClick:l,className:`${ih.toggler} ${r(c==null?void 0:c[e])&&ih.selected}`,children:M.jsx("img",{src:h,alt:""})})},i3="_textToolbar_14y3s_1",o3="_groupedButtons_14y3s_6",oh={textToolbar:i3,groupedButtons:o3},s3="_select_1m85m_1",a3={select:s3},Dp=["Abril Fatface","Playfair Display","Bebas Neue","Caveat Brush","Signika","Dancing Script","Pacifico","Amatic SC","Itim","Londrina Shadow","Arimo","Poppins","Tinos"],sh="object:modified",l3=({activeTextObject:e})=>{const t=Ie(),{fontFamily:n}=tt(e,sh,["fontFamily"]),o=h=>{t.current&&(e.set("fontFamily",h),e.fire(sh),t.current.renderAll())};return M.jsx("select",{className:a3.select,onChange:h=>o(h.target.value),value:n,children:Dp.map(h=>M.jsx("option",{value:h,children:h},h))})},Pp=({hexCode:e,className:t})=>M.jsx("div",{className:t,style:{backgroundColor:e}}),c3="_color_vcivg_1",u3="_border_vcivg_6",Ua={color:c3,border:u3},js=({object:e,valueToWatch:t,section:n,border:o})=>{const h="object:modified",[,g]=He(ru),y=()=>{g(n)},r=tt(e,h,[t])[t]||"#fff";return M.jsx("button",{className:`${Ua.color} ${o&&Ua.border}`,onClick:y,children:M.jsx(Pp,{className:Ua.color,hexCode:r})})},f3="_toggler_1xprt_1",h3="_slider_1xprt_10",d3="_sliderLabel_1xprt_18",p3="_sliderContainer_1xprt_25",Ga={toggler:f3,slider:h3,sliderLabel:d3,sliderContainer:p3},g3="_input_ewpeg_2",m3={input:g3},Ap=({maxValue:e,step:t,onChange:n,value:o,minValue:h})=>{const g=y=>{n(Number(y.target.value))};return M.jsx("input",{className:m3.input,type:"range",id:"volume",name:"volume",min:h,max:e,step:t,value:o,onChange:g,style:{"--value":`${o*100/e}%`}})},v3="_card_40lpd_1",y3={card:v3},fs=({children:e,padding:t=12,className:n,...o})=>M.jsx("div",{style:{padding:`${t}px`},className:[n,y3.card].join(" "),...o,children:e}),C3="_hoverItem_77ae8_1",_3="_tooltip_77ae8_6",w3="_show_77ae8_12",$a={hoverItem:C3,tooltip:_3,show:w3},x3=()=>{const[e,t]=$.useState({top:0,left:0}),[n,o]=$.useState(!1),h=$.useRef(null),g=()=>{o(!1)};return $.useEffect(()=>{n&&document.addEventListener("scroll",g,{once:!0,capture:!0})},[g]),{isVisible:n,setIsVisible:o,onToggle:c=>{var u,m,v,C;if(c.type==="mouseleave"){o(!1);return}else if(c.type==="click"&&n){o(!1);return}const r=c.currentTarget.getBoundingClientRect(),l=r.top,d=window.innerHeight-r.bottom,i=r.left,s=window.innerWidth-r.right,a=(u=h.current)!=null&&u.clientHeight?(m=h.current)==null?void 0:m.clientHeight:100,f=(v=h.current)!=null&&v.clientWidth?(C=h.current)==null?void 0:C.clientWidth:100,p={left:s>i?r.x:r.x-f+r.width,top:l>d?l-a:l+r.height};t(p),o(!0)},coords:e,tooltipRef:h}},iu=({children:e,hoverItem:t,trigger:n})=>{const{coords:o,tooltipRef:h,onToggle:g,isVisible:y,setIsVisible:c}=x3(),r=$.useRef(null),l=Math.random.toString();return n==="click"&&xp([h,r],()=>c(!1)),M.jsx(M.Fragment,{children:M.jsxs("div",{ref:r,id:l,className:$a.hoverItem,onMouseEnter:n==="hover"?g:void 0,onMouseLeave:n==="hover"?g:void 0,onClick:n==="click"?g:void 0,children:[t,Qn.createPortal(M.jsx("div",{id:l,ref:h,className:`${$a.tooltip} ${y&&$a.show} `,style:{...o},children:e}),document.body)]})})},ah="object:modified",Ip=({activeObject:e,title:t,icon:n,valueToWatch:o,multiplier:h,valueUnit:g,sliderProps:y,childrenAbove:c,childrenBelow:r})=>{$.useState(!1);const l=tt(e,ah,[o]),d=Ie(),i=s=>{d.current&&(e.set(o,s),e.fire(ah),d.current.renderAll())};return M.jsx("div",{className:Ga.toggler,title:t,children:M.jsx(iu,{trigger:"hover",hoverItem:M.jsx("img",{src:n}),children:M.jsxs(fs,{children:[c,M.jsxs("div",{className:Ga.slider,children:[M.jsx("span",{children:t}),M.jsxs("div",{className:Ga.sliderLabel,children:[Math.round(l[o]*h),g]})]}),M.jsx(Ap,{...y,value:l[o],onChange:i}),r]})})})},S3="data:image/svg+xml,%3csvg%20width='15'%20height='15'%20viewBox='0%200%2015%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.46875%200.46875H3.28125V3.28125H0.46875V0.46875ZM3.28125%203.28125H6.09375V6.09375H3.28125V3.28125ZM6.09375%200.46875H8.90625V3.28125H6.09375V0.46875ZM11.7188%200.46875H14.5312V3.28125H11.7188V0.46875ZM0.46875%206.09375H3.28125V8.90625H0.46875V6.09375ZM6.09375%206.09375H8.90625V8.90625H6.09375V6.09375ZM11.7188%206.09375H14.5312V8.90625H11.7188V6.09375ZM0.46875%2011.7188H3.28125V14.5312H0.46875V11.7188ZM6.09375%2011.7188H8.90625V14.5312H6.09375V11.7188ZM11.7188%2011.7188H14.5312V14.5312H11.7188V11.7188ZM8.90625%203.28125H11.7188V6.09375H8.90625V3.28125ZM3.28125%208.90625H6.09375V11.7188H3.28125V8.90625ZM8.90625%208.90625H11.7188V11.7188H8.90625V8.90625Z'%20fill='%23667085'/%3e%3c/svg%3e",ou=({activeObject:e})=>M.jsx(Ip,{valueUnit:"%",sliderProps:{title:"Opacit",maxValue:1,step:.01},multiplier:100,valueToWatch:"opacity",icon:S3,activeObject:e,title:"opacity"},"opacity"),lh="data:image/svg+xml,%3csvg%20width='11'%20height='14'%20viewBox='0%200%2011%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.6%206.79C9.57%206.12%2010.25%205.02%2010.25%204C10.25%201.74%208.5%200%206.25%200H0V14H7.04C9.13%2014%2010.75%2012.3%2010.75%2010.21C10.75%208.69%209.89%207.39%208.6%206.79ZM3%202.5H6C6.83%202.5%207.5%203.17%207.5%204C7.5%204.83%206.83%205.5%206%205.5H3V2.5ZM6.5%2011.5H3V8.5H6.5C7.33%208.5%208%209.17%208%2010C8%2010.83%207.33%2011.5%206.5%2011.5Z'%20fill='%23667085'/%3e%3c/svg%3e",b3="data:image/svg+xml,%3csvg%20width='12'%20height='14'%20viewBox='0%200%2012%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%200V3H6.21L2.79%2011H0V14H8V11H5.79L9.21%203H12V0H4Z'%20fill='%23667085'/%3e%3c/svg%3e",T3="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.31472%200V7.28926C3.31472%208.31405%203.61424%208.76033%204.21328%209.2562C4.82564%209.75207%205.67096%2010%206.74924%2010C7.81421%2010%208.64622%209.75207%209.24526%209.2562C9.85762%208.76033%2010.1638%208.31405%2010.1638%207.28926V0H11.9809V7.27273C11.9809%208.23141%2011.7479%209.04132%2011.282%209.70248C10.8161%2010.3526%2010.1838%2010.8375%209.38504%2011.157C8.59963%2011.4766%207.71437%2011.6364%206.72927%2011.6364C5.74418%2011.6364%204.85227%2011.4766%204.05354%2011.157C3.26812%2010.8375%202.64245%2010.3526%202.17653%209.70248C1.72392%209.04132%201.49761%208.23141%201.49761%207.27273V0H3.31472Z'%20fill='%23667085'/%3e%3cpath%20d='M0.00195312%2013H13.4805L13.4785%2014H0L0.00195312%2013Z'%20fill='%23667085'/%3e%3c/svg%3e",E3="data:image/svg+xml,%3csvg%20width='20'%20height='13'%20viewBox='0%200%2020%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2012.4611L4.6729%200H6.91589L11.5888%2012.4611H9.43925L8.31776%209.28349H3.27103L2.14953%2012.4611H0ZM3.92523%207.47664H7.66355L5.8567%202.3053H5.73209L3.92523%207.47664ZM15.4206%2012.8037C14.4029%2012.8037%2013.6033%2012.5389%2013.0218%2012.0093C12.4403%2011.4798%2012.1495%2010.758%2012.1495%209.84424C12.1495%208.97196%2012.487%208.26064%2013.162%207.71028C13.837%207.15992%2014.7041%206.88474%2015.7632%206.88474C16.2409%206.88474%2016.6822%206.92108%2017.0872%206.99377C17.4922%207.06646%2017.8401%207.18588%2018.1308%207.35203V6.91589C18.1308%206.35514%2017.9387%205.90862%2017.5545%205.57632C17.1703%205.24403%2016.6459%205.07788%2015.9813%205.07788C15.5452%205.07788%2015.135%205.17134%2014.7508%205.35826C14.3666%205.54517%2014.0395%205.81516%2013.7695%206.16822L12.4299%205.17134C12.8245%204.61059%2013.3229%204.18484%2013.9252%203.89408C14.5275%203.60332%2015.2233%203.45794%2016.0125%203.45794C17.3001%203.45794%2018.2866%203.76428%2018.972%204.37695C19.6573%204.98962%2020%205.87747%2020%207.0405V12.5234H18.162V11.4642H18.0685C17.7985%2011.8795%2017.4351%2012.2066%2016.9782%2012.4455C16.5213%2012.6843%2016.0021%2012.8037%2015.4206%2012.8037ZM15.7321%2011.2461C16.3967%2011.2461%2016.9626%2011.0125%2017.4299%2010.5452C17.8972%2010.0779%2018.1308%209.51194%2018.1308%208.84735C17.8401%208.68121%2017.5078%208.55659%2017.134%208.47352C16.7601%208.39045%2016.4174%208.34891%2016.1059%208.34891C15.4413%208.34891%2014.9325%208.47871%2014.5794%208.73832C14.2264%208.99792%2014.0498%209.36656%2014.0498%209.84424C14.0498%2010.2596%2014.2056%2010.5971%2014.5171%2010.8567C14.8287%2011.1163%2015.2336%2011.2461%2015.7321%2011.2461Z'%20fill='%23667085'/%3e%3c/svg%3e",O3=()=>{const e=Ie();if(!e.current)return M.jsx("div",{});const[,t]=He(Jn),{_activeObject:n}=tt(e.current,"after:render",["_activeObject"]);n||t("");const o=({event:d,key:i,value:s})=>{n.set(i,s),n.fire(d),e.current.renderAll()},h=d=>{y(d,"bold")},g=d=>{y(d,"italic")},y=(d,i)=>{d.value==="normal"?o({...d,value:i}):d.value===i&&o({...d,value:"normal"})},c=d=>{o({...d,value:!d.value})},r=d=>{n.isUppercase=!d.value;const i=()=>{var s,a;return d.value?(s=n.text)==null?void 0:s.toLowerCase():(a=n.text)==null?void 0:a.toUpperCase()};n.text=i(),n.dirty=!0,n.fire("object:modified"),e.current&&e.current.renderAll()};return M.jsxs("div",{className:oh.textToolbar,children:[M.jsx(js,{section:"text-color",valueToWatch:"fill",object:n}),M.jsx(l3,{activeTextObject:n}),M.jsx(Xy,{activeTextObject:n}),M.jsxs("div",{className:oh.groupedButtons,children:[M.jsx(Zr,{icon:lh,activeTextObject:n,onToggle:h,valueToWatch:"fontWeight",title:"font weight"}),M.jsx(Zr,{icon:b3,activeTextObject:n,onToggle:g,valueToWatch:"fontStyle",title:"font style"}),M.jsx(Zr,{icon:T3,activeTextObject:n,onToggle:c,valueToWatch:"underline",title:"underline"}),M.jsx(Zr,{icon:lh,activeTextObject:n,onToggle:c,valueToWatch:"linethrough",title:"line through"}),M.jsx(Zr,{icon:E3,activeTextObject:n,onToggle:r,valueToWatch:"isUppercase",title:"uppercase"}),M.jsx(t3,{title:"text alignment",activeTextObject:n}),M.jsx(ou,{activeObject:n})]})]})},k3="data:image/svg+xml,%3csvg%20width='17'%20height='15'%20viewBox='0%200%2017%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20y='9'%20width='17'%20height='6'%20fill='%23667085'/%3e%3crect%20y='4'%20width='17'%20height='2'%20fill='%23667085'/%3e%3crect%20width='17'%20height='1'%20fill='%23667085'/%3e%3c/svg%3e",D3=({activeObject:e})=>M.jsx(Ip,{sliderProps:{title:"Spessore bordo",step:1,maxValue:200},valueUnit:" px",multiplier:1,childrenAbove:M.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"45px"},children:[M.jsx("span",{children:"Border color"}),M.jsx(js,{valueToWatch:"stroke",section:"border-color",object:e,border:!0})]}),valueToWatch:"strokeWidth",icon:k3,activeObject:e,title:"border width"},"border"),P3="_elementToolbar_asthq_1",A3={elementToolbar:P3},I3=()=>{const e=Ie();if(!e.current)return M.jsx(M.Fragment,{});const{_activeObject:t}=tt(e.current,"after:render",["_activeObject"]),n=t.type==="rect"||t.type==="circle";return M.jsxs("div",{className:A3.elementToolbar,children:[M.jsx(js,{valueToWatch:"fill",section:"element-color",object:t}),n&&M.jsx(D3,{activeObject:t}),M.jsx(ou,{activeObject:t})]})},M3=()=>{const e=Ie();return e.current?M.jsx("div",{children:M.jsx(js,{border:!0,valueToWatch:"backgroundColor",section:"canvas-color",object:e.current})}):M.jsx(M.Fragment,{})},L3="_container_6lyym_1",R3="_flipControls_6lyym_7",ch={container:L3,flipControls:R3},F3="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%207L17%2012M17%2012L12%2017M17%2012H5C3.93913%2012%202.92172%2011.5786%202.17157%2010.8284C1.42143%2010.0783%201%209.06087%201%208V1'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",j3="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%206L12%201M12%201L17%206M12%201V13C12%2014.0609%2011.5786%2015.0783%2010.8284%2015.8284C10.0783%2016.5786%209.06087%2017%208%2017H1'%20stroke='%231D2939'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",B3=()=>{const e=Ie();if(!e.current)return M.jsx(M.Fragment,{});const{_activeObject:t}=tt(e.current,"after:render",["_activeObject"]),n=o=>{var h;t.set(o,!t[o]),(h=e==null?void 0:e.current)==null||h.renderAll()};return M.jsxs("div",{className:ch.container,children:[M.jsx(iu,{trigger:"hover",hoverItem:M.jsx("p",{children:"Capovogli"}),children:M.jsxs(fs,{className:ch.flipControls,children:[M.jsxs("button",{onClick:()=>n("flipY"),children:[M.jsx("img",{src:j3,alt:""})," ","Capovogli verticalmente"]}),M.jsxs("button",{onClick:()=>n("flipX"),children:[M.jsx("img",{src:F3,alt:""})," ","Capovogli orizzontalmente"]})]})}),M.jsx(ou,{activeObject:t})]})},N3=()=>{const[e]=He(Fi);let t;if(uh[e]!==void 0)t=uh[e];else return M.jsx(M.Fragment,{});return M.jsx(t,{})},uh={text:O3,canvas:M3,elements:I3,images:B3},H3="_sidemenu_xtlbg_1",V3="_form_xtlbg_12",z3="_title_xtlbg_26",W3="_fonts_xtlbg_32",U3="_Poppins_xtlbg_44",G3="_AbrilFatface_xtlbg_48",$3="_PlayfairDisplay_xtlbg_52",X3="_BebasNeue_xtlbg_56",Y3="_CaveatBrush_xtlbg_60",q3="_Signika_xtlbg_64",K3="_DancingScript_xtlbg_68",Z3="_Pacifico_xtlbg_72",Q3="_AmaticSC_xtlbg_76",J3="_Itim_xtlbg_80",eC="_Londrina_xtlbg_84",tC="_TenorSans_xtlbg_88",nC="_Arimo_xtlbg_92",rC="_Tinos_xtlbg_100",Qr={sidemenu:H3,form:V3,title:z3,fonts:W3,Poppins:U3,AbrilFatface:G3,PlayfairDisplay:$3,BebasNeue:X3,CaveatBrush:Y3,Signika:q3,DancingScript:K3,Pacifico:Z3,AmaticSC:Q3,Itim:J3,Londrina:eC,TenorSans:tC,Arimo:nC,Tinos:rC};let wo;const iC=new Uint8Array(16);function oC(){if(!wo&&(wo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wo(iC)}const Ge=[];for(let e=0;e<256;++e)Ge.push((e+256).toString(16).slice(1));function sC(e,t=0){return Ge[e[t+0]]+Ge[e[t+1]]+Ge[e[t+2]]+Ge[e[t+3]]+"-"+Ge[e[t+4]]+Ge[e[t+5]]+"-"+Ge[e[t+6]]+Ge[e[t+7]]+"-"+Ge[e[t+8]]+Ge[e[t+9]]+"-"+Ge[e[t+10]]+Ge[e[t+11]]+Ge[e[t+12]]+Ge[e[t+13]]+Ge[e[t+14]]+Ge[e[t+15]]}const aC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fh={randomUUID:aC};function su(e,t,n){if(fh.randomUUID&&!t&&!e)return fh.randomUUID();e=e||{};const o=e.random||(e.rng||oC)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(let h=0;h<16;++h)t[n+h]=o[h];return t}return sC(o)}const Mp="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.99984%206.66675L9.99984%2013.3334M6.66651%2010.0001L13.3332%2010.0001M18.3332%2010.0001C18.3332%2014.6025%2014.6022%2018.3334%209.99984%2018.3334C5.39747%2018.3334%201.66651%2014.6025%201.66651%2010.0001C1.6665%205.39771%205.39746%201.66675%209.99984%201.66675C14.6022%201.66675%2018.3332%205.39771%2018.3332%2010.0001Z'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",lC="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.5%2016.5L12.875%2012.875M14.8333%208.16667C14.8333%2011.8486%2011.8486%2014.8333%208.16667%2014.8333C4.48477%2014.8333%201.5%2011.8486%201.5%208.16667C1.5%204.48477%204.48477%201.5%208.16667%201.5C11.8486%201.5%2014.8333%204.48477%2014.8333%208.16667Z'%20stroke='%23667085'%20stroke-width='1.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",cC=()=>{const[e,t]=$.useState(""),[,n]=He(Jn),o=c=>{t(c.currentTarget.value)},h=Dp.filter(c=>c.toLowerCase().includes(e.toLowerCase())),g=Ie(),y=c=>{if(!g.current)throw new Error("canvas.current is not defined");const r=new De.fabric.IText("Click to modify",{text:"Click to modify",left:50,top:100,fontFamily:c,fontSize:30,fill:"#000",opacity:1,fontStyle:"normal",name:su()});g.current.add(r),g.current.setActiveObject(r),n("text")};return M.jsxs("div",{className:Qr.sidemenu,children:[M.jsxs("form",{className:Qr.form,children:[M.jsx("img",{src:lC,alt:""}),M.jsx("input",{placeholder:"Search a font type",value:e,type:"text",onChange:o})]}),M.jsx(_r,{title:"Add a text",color:"blue",icon:Mp,onClick:()=>y("Poppins")}),M.jsx("p",{className:Qr.title,children:"Or pick a font type"}),M.jsx("ul",{className:Qr.fonts,children:h.map(c=>M.jsx("li",{className:Qr[c.split(" ").join("")],children:M.jsx("button",{onClick:()=>y(c),children:c})},c))})]})},uC="_sideMenus_1lfwi_1",fC={sideMenus:uC},hC="_elements_hpyfi_1",dC={elements:hC},pC="data:image/svg+xml,%3csvg%20width='61'%20height='61'%20viewBox='0%200%2061%2061'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='30.4872'%20cy='30.2802'%20r='30.2802'%20fill='%23667085'/%3e%3c/svg%3e",gC="data:image/svg+xml,%3csvg%20width='61'%20height='61'%20viewBox='0%200%2061%2061'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='60.5603'%20height='60.5603'%20fill='%23667085'/%3e%3c/svg%3e",mC="data:image/svg+xml,%3csvg%20width='107'%20height='61'%20viewBox='0%200%20107%2061'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.817383'%20width='106.168'%20height='60.5603'%20fill='%23667085'/%3e%3c/svg%3e",vC="data:image/svg+xml,%3csvg%20width='107'%20height='62'%20viewBox='0%200%20107%2062'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20y='0.74707'%20width='106.168'%20height='60.5603'%20rx='30.2802'%20fill='%23667085'/%3e%3c/svg%3e",yC="data:image/svg+xml,%3csvg%20width='107'%20height='62'%20viewBox='0%200%20107%2062'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.0214844'%20y='0.74707'%20width='106.168'%20height='60.5603'%20rx='11.7083'%20fill='%23667085'/%3e%3c/svg%3e",CC="data:image/svg+xml,%3csvg%20width='61'%20height='61'%20viewBox='0%200%2061%2061'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_49_15161'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='61'%20height='61'%3e%3crect%20y='0.241211'%20width='60.5603'%20height='60.5603'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_49_15161)'%3e%3cpath%20d='M17.6633%2055.755V32.6664C15.5185%2032.0776%2013.7206%2030.9001%2012.2696%2029.1337C10.8187%2027.3674%2010.0933%2025.3066%2010.0933%2022.9515V5.28809H15.14V22.9515H17.6633V5.28809H22.71V22.9515H25.2333V5.28809H30.28V22.9515C30.28%2025.3066%2029.5546%2027.3674%2028.1037%2029.1337C26.6527%2030.9001%2024.8548%2032.0776%2022.71%2032.6664V55.755H17.6633ZM42.8968%2055.755V35.5683H35.3267V17.9048C35.3267%2014.4142%2036.5569%2011.4387%2039.0171%208.97848C41.4774%206.51822%2044.4528%205.28809%2047.9435%205.28809V55.755H42.8968Z'%20fill='%23667085'/%3e%3c/g%3e%3c/svg%3e",_C="data:image/svg+xml,%3csvg%20width='61'%20height='62'%20viewBox='0%200%2061%2062'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_49_15167'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='61'%20height='62'%3e%3crect%20x='0.439453'%20y='0.494141'%20width='60.5603'%20height='60.5603'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_49_15167)'%3e%3cpath%20d='M30.7195%2030.774C32.1073%2030.774%2033.2954%2030.2799%2034.2837%2029.2915C35.272%2028.3032%2035.7662%2027.1152%2035.7662%2025.7273C35.7662%2024.3395%2035.272%2023.1514%2034.2837%2022.1631C33.2954%2021.1748%2032.1073%2020.6806%2030.7195%2020.6806C29.3317%2020.6806%2028.1436%2021.1748%2027.1553%2022.1631C26.167%2023.1514%2025.6728%2024.3395%2025.6728%2025.7273C25.6728%2027.1152%2026.167%2028.3032%2027.1553%2029.2915C28.1436%2030.2799%2029.3317%2030.774%2030.7195%2030.774ZM30.7195%2056.0075C23.9485%2050.2458%2018.8913%2044.8942%2015.5479%2039.9527C12.2044%2035.0111%2010.5327%2030.4376%2010.5327%2026.232C10.5327%2019.9236%2012.5619%2014.8979%2016.6203%2011.155C20.6787%207.41201%2025.3784%205.54053%2030.7195%205.54053C36.0606%205.54053%2040.7603%207.41201%2044.8187%2011.155C48.8771%2014.8979%2050.9063%2019.9236%2050.9063%2026.232C50.9063%2030.4376%2049.2346%2035.0111%2045.8911%2039.9527C42.5477%2044.8942%2037.4905%2050.2458%2030.7195%2056.0075Z'%20fill='%23667085'/%3e%3c/g%3e%3c/svg%3e",wC="data:image/svg+xml,%3csvg%20width='62'%20height='62'%20viewBox='0%200%2062%2062'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_49_15164'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='62'%20height='62'%3e%3crect%20x='0.959473'%20y='0.494141'%20width='60.5603'%20height='60.5603'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_49_15164)'%3e%3cpath%20d='M51.3005%2053.4842C46.0436%2053.4842%2040.8391%2052.3487%2035.6873%2050.0777C30.5355%2047.8067%2025.8568%2044.5684%2021.6512%2040.3628C17.4456%2036.1572%2014.2073%2031.489%2011.9363%2026.3582C9.66529%2021.2274%208.52979%2016.0125%208.52979%2010.7135V8.06396H23.4175L25.7516%2020.7438L18.5601%2027.9984C19.4853%2029.6386%2020.5157%2031.1947%2021.6512%2032.6666C22.7867%2034.1386%2024.0063%2035.5054%2025.31%2036.767C26.5297%2037.9867%2027.8649%2039.1537%2029.3159%2040.2682C30.7668%2041.3827%2032.3334%2042.4235%2034.0156%2043.3908L41.3333%2036.0731L53.95%2038.6596V53.4842H51.3005Z'%20fill='%23667085'/%3e%3c/g%3e%3c/svg%3e",xC="data:image/svg+xml,%3csvg%20width='62'%20height='61'%20viewBox='0%200%2062%2061'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_49_15158'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='62'%20height='61'%3e%3crect%20x='0.47998'%20y='0.241211'%20width='60.5603'%20height='60.5603'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_49_15158)'%3e%3cpath%20d='M28.8679%2052.0828C27.4801%2052.0828%2026.0817%2051.9251%2024.6728%2051.6097C23.264%2051.2943%2021.8236%2050.8422%2020.3516%2050.2534C20.8563%2045.1646%2022.3282%2040.4123%2024.7675%2035.9965C27.2067%2031.5806%2030.3399%2027.6905%2034.1669%2024.326C29.5408%2026.6811%2025.535%2029.7932%2022.1495%2033.6624C18.764%2037.5315%2016.3984%2041.9474%2015.0526%2046.91C14.8844%2046.7838%2014.7267%2046.6471%2014.5795%2046.4999L14.1063%2046.0268C12.1297%2044.0502%2010.6262%2041.8422%209.59584%2039.403C8.56548%2036.9638%208.05029%2034.4194%208.05029%2031.7699C8.05029%2028.9101%208.61805%2026.1765%209.75355%2023.569C10.8891%2020.9615%2012.4662%2018.6485%2014.4848%2016.6298C17.8913%2013.2233%2022.3072%2011.0048%2027.7324%209.97446C33.1576%208.94409%2040.7697%208.84946%2050.5687%209.69058C51.3257%2019.7419%2051.1995%2027.4066%2050.1902%2032.6846C49.1809%2037.9626%2046.994%2042.2838%2043.6295%2045.6483C41.5688%2047.709%2039.2662%2049.2966%2036.7218%2050.4111C34.1775%2051.5256%2031.5595%2052.0828%2028.8679%2052.0828Z'%20fill='%23667085'/%3e%3c/g%3e%3c/svg%3e",SC="data:image/svg+xml,%3csvg%20width='62'%20height='61'%20viewBox='0%200%2062%2061'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_49_15155'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='62'%20height='61'%3e%3crect%20x='0.959473'%20y='0.241211'%20width='60.5603'%20height='60.5603'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_49_15155)'%3e%3cpath%20d='M15.6582%2054.5598L19.7586%2036.8333L6.00635%2024.9105L24.1745%2023.3334L31.2398%206.61621L38.3052%2023.3334L56.4733%2024.9105L42.7211%2036.8333L46.8215%2054.5598L31.2398%2045.1603L15.6582%2054.5598Z'%20fill='%23667085'/%3e%3c/g%3e%3c/svg%3e",bC="data:image/svg+xml,%3csvg%20width='61'%20height='61'%20viewBox='0%200%2061%2061'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_49_15152'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='61'%20height='61'%3e%3crect%20x='0.439453'%20y='0.241211'%20width='60.5603'%20height='60.5603'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_49_15152)'%3e%3cpath%20d='M30.7199%2059.0355L22.2667%2050.7084H10.5331V38.9749L2.20605%2030.5216L10.5331%2022.0684V10.3349H22.2667L30.7199%202.00781L39.1731%2010.3349H50.9067V22.0684L59.2337%2030.5216L50.9067%2038.9749V50.7084H39.1731L30.7199%2059.0355ZM30.7199%2051.9701L37.0283%2045.6617H45.86V36.83L52.1683%2030.5216L45.86%2024.2133V15.3816H37.0283L30.7199%209.07319L24.4115%2015.3816H15.5798V24.2133L9.27143%2030.5216L15.5798%2036.83V45.6617H24.4115L30.7199%2051.9701ZM23.3391%2041.2459L30.7199%2036.7669L38.1007%2041.2459L36.1451%2032.8557L42.7058%2027.1782L34.0633%2026.4843L30.7199%2018.5357L27.3764%2026.4843L18.734%2027.1782L25.2947%2032.8557L23.3391%2041.2459Z'%20fill='%23667085'/%3e%3c/g%3e%3c/svg%3e",TC="data:image/svg+xml,%3csvg%20width='62'%20height='62'%20viewBox='0%200%2062%2062'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_49_15170)'%3e%3cpath%20d='M61.0403%2030.7743C61.0403%2014.051%2047.4834%200.494141%2030.7602%200.494141C14.0369%200.494141%200.47998%2014.051%200.47998%2030.7743C0.47998%2045.8878%2011.5529%2058.415%2026.0289%2060.6866V39.5272H18.3406V30.7743H26.0289V24.1032C26.0289%2016.5142%2030.5496%2012.3223%2037.4661%2012.3223C40.778%2012.3223%2044.2443%2012.9137%2044.2443%2012.9137V20.3655H40.4262C36.6648%2020.3655%2035.4914%2022.6998%2035.4914%2025.0968V30.7743H43.8895L42.5469%2039.5272H35.4914V60.6866C49.9674%2058.415%2061.0403%2045.8878%2061.0403%2030.7743Z'%20fill='%23667085'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_49_15170'%3e%3crect%20width='60.5603'%20height='60.5603'%20fill='white'%20transform='translate(0.47998%200.494141)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",EC="data:image/svg+xml,%3csvg%20width='61'%20height='62'%20viewBox='0%200%2061%2062'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M30.2803%2057.2696C44.9132%2057.2696%2056.7755%2045.4073%2056.7755%2030.7745C56.7755%2016.1416%2044.9132%204.2793%2030.2803%204.2793C15.6474%204.2793%203.78516%2016.1416%203.78516%2030.7745C3.78516%2035.5263%205.0361%2039.986%207.22664%2043.8422L3.78516%2057.2696L17.6286%2054.0595C21.3881%2056.1065%2025.6984%2057.2696%2030.2803%2057.2696ZM30.2803%2053.1934C42.662%2053.1934%2052.6993%2043.1561%2052.6993%2030.7745C52.6993%2018.3928%2042.662%208.35547%2030.2803%208.35547C17.8987%208.35547%207.86133%2018.3928%207.86133%2030.7745C7.86133%2035.5551%209.35766%2039.9862%2011.9075%2043.625L9.89942%2051.1553L17.5625%2049.2396C21.1761%2051.7332%2025.5577%2053.1934%2030.2803%2053.1934Z'%20fill='%23667085'/%3e%3cpath%20d='M23.6565%2018.4732C23.0265%2017.2079%2022.0601%2017.3199%2021.0839%2017.3199C19.3392%2017.3199%2016.6187%2019.4098%2016.6187%2023.2992C16.6187%2026.4868%2018.0233%2029.9761%2022.7564%2035.1959C27.3242%2040.2333%2033.326%2042.8391%2038.3086%2042.7504C43.2913%2042.6617%2044.3164%2038.374%2044.3164%2036.926C44.3164%2036.2842%2043.9181%2035.964%2043.6437%2035.877C41.9458%2035.0621%2038.8142%2033.5437%2038.1016%2033.2585C37.3891%2032.9732%2037.017%2033.359%2036.7857%2033.569C36.1396%2034.1847%2034.8587%2035.9995%2034.4201%2036.4077C33.9815%2036.8159%2033.3277%2036.6093%2033.0556%2036.455C32.0543%2036.0532%2029.3395%2034.8456%2027.1755%2032.7479C24.4992%2030.1536%2024.3421%2029.261%2023.8379%2028.4664C23.4345%2027.8308%2023.7305%2027.4408%2023.8782%2027.2704C24.4549%2026.6051%2025.2511%2025.5779%2025.6081%2025.0674C25.9652%2024.5569%2025.6817%2023.7819%2025.5116%2023.2992C24.7801%2021.2232%2024.1604%2019.4854%2023.6565%2018.4732Z'%20fill='%23667085'/%3e%3c/svg%3e",OC=[pC,gC,mC,vC,yC,CC,_C,wC,xC,SC,bC,TC,EC],kC=()=>{const e=Ie(),[,t]=He(Jn);if(!e.current)return M.jsx(M.Fragment,{});const n=o=>{De.fabric.loadSVGFromURL(o,(h,g)=>{var c,r,l;const y=De.fabric.util.groupSVGElements(h,g);y.set({left:10,top:10,opacity:1,padding:0,strokeUniform:!0,fill:"#667085",subTargetCheck:!0,scaleX:3,scaleY:3,strokeWidth:0,name:su()}),(c=e.current)==null||c.add(y),(r=e.current)==null||r.setActiveObject(y),(l=e.current)==null||l.renderAll(),t("elements")})};return e.current.on("object:modified",function(o){}),M.jsx("div",{className:dC.elements,children:OC.map(o=>M.jsx("button",{onClick:()=>n(o),children:M.jsx("img",{src:o,alt:"shape"})},o))})};function Rr(){return(Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Bs(e,t){if(e==null)return{};var n,o,h={},g=Object.keys(e);for(o=0;o<g.length;o++)t.indexOf(n=g[o])>=0||(h[n]=e[n]);return h}function ji(e){var t=$.useRef(e),n=$.useRef(function(o){t.current&&t.current(o)});return t.current=e,n.current}var Bi=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},mi=function(e){return"touches"in e},Jl=function(e){return e&&e.ownerDocument.defaultView||self},hh=function(e,t,n){var o=e.getBoundingClientRect(),h=mi(t)?function(g,y){for(var c=0;c<g.length;c++)if(g[c].identifier===y)return g[c];return g[0]}(t.touches,n):t;return{left:Bi((h.pageX-(o.left+Jl(e).pageXOffset))/o.width),top:Bi((h.pageY-(o.top+Jl(e).pageYOffset))/o.height)}},dh=function(e){!mi(e)&&e.preventDefault()},Lp=fe.memo(function(e){var t=e.onMove,n=e.onKey,o=Bs(e,["onMove","onKey"]),h=$.useRef(null),g=ji(t),y=ji(n),c=$.useRef(null),r=$.useRef(!1),l=$.useMemo(function(){var a=function(u){dh(u),(mi(u)?u.touches.length>0:u.buttons>0)&&h.current?g(hh(h.current,u,c.current)):p(!1)},f=function(){return p(!1)};function p(u){var m=r.current,v=Jl(h.current),C=u?v.addEventListener:v.removeEventListener;C(m?"touchmove":"mousemove",a),C(m?"touchend":"mouseup",f)}return[function(u){var m=u.nativeEvent,v=h.current;if(v&&(dh(m),!function(_,w){return w&&!mi(_)}(m,r.current)&&v)){if(mi(m)){r.current=!0;var C=m.changedTouches||[];C.length&&(c.current=C[0].identifier)}v.focus(),g(hh(v,m,c.current)),p(!0)}},function(u){var m=u.which||u.keyCode;m<37||m>40||(u.preventDefault(),y({left:m===39?.05:m===37?-.05:0,top:m===40?.05:m===38?-.05:0}))},p]},[y,g]),d=l[0],i=l[1],s=l[2];return $.useEffect(function(){return s},[s]),fe.createElement("div",Rr({},o,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:h,onKeyDown:i,tabIndex:0,role:"slider"}))}),au=function(e){return e.filter(Boolean).join(" ")},Rp=function(e){var t=e.color,n=e.left,o=e.top,h=o===void 0?.5:o,g=au(["react-colorful__pointer",e.className]);return fe.createElement("div",{className:g,style:{top:100*h+"%",left:100*n+"%"}},fe.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Xe=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},DC=function(e){return LC(ec(e))},ec=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Xe(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Xe(parseInt(e.substring(6,8),16)/255,2):1}},PC=function(e){return MC(IC(e))},AC=function(e){var t=e.s,n=e.v,o=e.a,h=(200-t)*n/100;return{h:Xe(e.h),s:Xe(h>0&&h<200?t*n/100/(h<=100?h:200-h)*100:0),l:Xe(h/2),a:Xe(o,2)}},tc=function(e){var t=AC(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},IC=function(e){var t=e.h,n=e.s,o=e.v,h=e.a;t=t/360*6,n/=100,o/=100;var g=Math.floor(t),y=o*(1-n),c=o*(1-(t-g)*n),r=o*(1-(1-t+g)*n),l=g%6;return{r:Xe(255*[o,c,y,y,r,o][l]),g:Xe(255*[r,o,o,c,y,y][l]),b:Xe(255*[y,y,r,o,o,c][l]),a:Xe(h,2)}},xo=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},MC=function(e){var t=e.r,n=e.g,o=e.b,h=e.a,g=h<1?xo(Xe(255*h)):"";return"#"+xo(t)+xo(n)+xo(o)+g},LC=function(e){var t=e.r,n=e.g,o=e.b,h=e.a,g=Math.max(t,n,o),y=g-Math.min(t,n,o),c=y?g===t?(n-o)/y:g===n?2+(o-t)/y:4+(t-n)/y:0;return{h:Xe(60*(c<0?c+6:c)),s:Xe(g?y/g*100:0),v:Xe(g/255*100),a:h}},RC=fe.memo(function(e){var t=e.hue,n=e.onChange,o=au(["react-colorful__hue",e.className]);return fe.createElement("div",{className:o},fe.createElement(Lp,{onMove:function(h){n({h:360*h.left})},onKey:function(h){n({h:Bi(t+360*h.left,0,360)})},"aria-label":"Hue","aria-valuenow":Xe(t),"aria-valuemax":"360","aria-valuemin":"0"},fe.createElement(Rp,{className:"react-colorful__hue-pointer",left:t/360,color:tc({h:t,s:100,v:100,a:1})})))}),FC=fe.memo(function(e){var t=e.hsva,n=e.onChange,o={backgroundColor:tc({h:t.h,s:100,v:100,a:1})};return fe.createElement("div",{className:"react-colorful__saturation",style:o},fe.createElement(Lp,{onMove:function(h){n({s:100*h.left,v:100-100*h.top})},onKey:function(h){n({s:Bi(t.s+100*h.left,0,100),v:Bi(t.v-100*h.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Xe(t.s)+"%, Brightness "+Xe(t.v)+"%"},fe.createElement(Rp,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:tc(t)})))}),Fp=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},jC=function(e,t){return e.toLowerCase()===t.toLowerCase()||Fp(ec(e),ec(t))};function BC(e,t,n){var o=ji(n),h=$.useState(function(){return e.toHsva(t)}),g=h[0],y=h[1],c=$.useRef({color:t,hsva:g});$.useEffect(function(){if(!e.equal(t,c.current.color)){var l=e.toHsva(t);c.current={hsva:l,color:t},y(l)}},[t,e]),$.useEffect(function(){var l;Fp(g,c.current.hsva)||e.equal(l=e.fromHsva(g),c.current.color)||(c.current={hsva:g,color:l},o(l))},[g,e,o]);var r=$.useCallback(function(l){y(function(d){return Object.assign({},d,l)})},[]);return[g,r]}var NC=typeof window<"u"?$.useLayoutEffect:$.useEffect,HC=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},ph=new Map,VC=function(e){NC(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!ph.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,ph.set(t,n);var o=HC();o&&n.setAttribute("nonce",o),t.head.appendChild(n)}},[])},zC=function(e){var t=e.className,n=e.colorModel,o=e.color,h=o===void 0?n.defaultColor:o,g=e.onChange,y=Bs(e,["className","colorModel","color","onChange"]),c=$.useRef(null);VC(c);var r=BC(n,h,g),l=r[0],d=r[1],i=au(["react-colorful",t]);return fe.createElement("div",Rr({},y,{ref:c,className:i}),fe.createElement(FC,{hsva:l,onChange:d}),fe.createElement(RC,{hue:l.h,onChange:d,className:"react-colorful__last-control"}))},WC={defaultColor:"000",toHsva:DC,fromHsva:function(e){return PC({h:e.h,s:e.s,v:e.v,a:1})},equal:jC},UC=function(e){return fe.createElement(zC,Rr({},e,{colorModel:WC}))},GC=/^#?([0-9A-F]{3,8})$/i,$C=function(e){var t=e.color,n=t===void 0?"":t,o=e.onChange,h=e.onBlur,g=e.escape,y=e.validate,c=e.format,r=e.process,l=Bs(e,["color","onChange","onBlur","escape","validate","format","process"]),d=$.useState(function(){return g(n)}),i=d[0],s=d[1],a=ji(o),f=ji(h),p=$.useCallback(function(m){var v=g(m.target.value);s(v),y(v)&&a(r?r(v):v)},[g,r,y,a]),u=$.useCallback(function(m){y(m.target.value)||s(g(n)),f(m)},[n,g,y,f]);return $.useEffect(function(){s(g(n))},[n,g]),fe.createElement("input",Rr({},l,{value:c?c(i):i,spellCheck:"false",onChange:p,onBlur:u}))},gh=function(e){return"#"+e},XC=function(e){var t=e.prefixed,n=e.alpha,o=Bs(e,["prefixed","alpha"]),h=$.useCallback(function(y){return y.replace(/([^0-9A-F]+)/gi,"").substring(0,n?8:6)},[n]),g=$.useCallback(function(y){return function(c,r){var l=GC.exec(c),d=l?l[1].length:0;return d===3||d===6||!!r&&d===4||!!r&&d===8}(y,n)},[n]);return fe.createElement($C,Rr({},o,{escape:h,format:t?gh:void 0,process:gh,validate:g}))};const jp=()=>{const e=typeof window<"u"&&"EyeDropper"in window,t=$.useMemo(()=>e&&new EyeDropper,[]);let n;const o=async()=>{if(!e)throw new Error("You can't open the eye dropper because it isn't supported by this browser");n=new AbortController;try{return await t.open({signal:n.signal})}catch(g){throw new Error(g)}},h=()=>{n&&n.abort()};return $.useEffect(()=>()=>{h()},[]),{open:o,close:h,isSupported:e}},YC="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M17.542%2013.147l-7.455-6.667%201.334-1.49c.822.736%202.087.666%202.822-.159l3.503-3.831c.593-.663%201.414-1%202.238-1%201.666%200%203.016%201.358%203.016%202.996%200%20.723-.271%201.435-.78%202.005l-3.503%203.83c-.735.824-.666%202.087.158%202.825l-1.333%201.491zm-4.314-1.175l-7.791%208.65c-.314.352-1.322.323-1.853.557.172-.554.048-1.538.362-1.89l7.791-8.651-1.491-1.333-7.9%208.794c-1.277%201.423-.171%202.261-1.149%204.052-.135.244-.197.48-.197.698%200%20.661.54%201.151%201.141%201.151.241%200%20.492-.079.724-.256%201.733-1.332%202.644-.184%203.954-1.647l7.9-8.792-1.491-1.333z'/%3e%3c/svg%3e",qC=({onChange:e,onEyeDropError:t})=>{const{open:n}=jp(),o=async()=>{try{const h=await n();e(h.sRGBHex)}catch(h){t(h)}};return M.jsx(M.Fragment,{children:M.jsx(_r,{onClick:o,color:"white",icon:YC})})},KC=({color:e,onChange:t,onEyeDropError:n})=>{const{isSupported:o}=jp();return M.jsxs(fs,{className:"react-colorful__aigot-container",padding:9,children:[M.jsx(UC,{color:e,onChange:t}),M.jsxs("div",{className:"input-eyedropper",children:[M.jsx(fs,{className:"react-colorful_aigot-input",padding:8,children:M.jsx(XC,{prefixed:!0,color:e,onChange:t})}),o&&M.jsx(qC,{onChange:t,onEyeDropError:n})]})]})},ZC="data:image/svg+xml,%3csvg%20width='48'%20height='49'%20viewBox='0%200%2048%2049'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Group%201000002144'%3e%3crect%20id='Rectangle%2041'%20x='0.5'%20y='0.5'%20width='47'%20height='48'%20rx='1.5'%20fill='url(%23paint0_linear_31_21329)'%20stroke='%23667085'/%3e%3crect%20id='Rectangle%2024'%20x='6'%20y='7'%20width='36'%20height='36'%20rx='1.54517'%20fill='white'/%3e%3cpath%20id='Vector'%20d='M23%2032V26H17V24H23V18H25V24H31V26H25V32H23Z'%20fill='%23667085'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_31_21329'%20x1='0'%20y1='0'%20x2='48'%20y2='49'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FF0000'/%3e%3cstop%20offset='0.114583'%20stop-color='%23FB8519'/%3e%3cstop%20offset='0.229167'%20stop-color='%23F6D732'/%3e%3cstop%20offset='0.3125'%20stop-color='%2386F344'/%3e%3cstop%20offset='0.416667'%20stop-color='%2359EFB9'/%3e%3cstop%20offset='0.5'%20stop-color='%236CBEEC'/%3e%3cstop%20offset='0.609375'%20stop-color='%237E82E9'/%3e%3cstop%20offset='0.723958'%20stop-color='%23CB93E5'/%3e%3cstop%20offset='0.838542'%20stop-color='%23E82BB3'/%3e%3cstop%20offset='0.916667'%20stop-color='%23B626CD'/%3e%3cstop%20offset='1'%20stop-color='%23FF001F'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",QC="_section_1yw4m_1",JC="_text_1yw4m_8",e_="_colors_1yw4m_14",t_="_predefinedColorInteractable_1yw4m_20",n_="_predefinedColor_1yw4m_20",sn={section:QC,text:JC,colors:e_,predefinedColorInteractable:t_,predefinedColor:n_},r_=["#000000","#686868","#9a9a9a","#d3d3d3","#ffffff","#d69253","#fb9333","#ffd382","#fff4e0","#ffe3e2","#45342b","#86291d","#9d4c32","#cf5542","#ce8786","#003447","#2580bb","#74b9f2","#68cf64","#368b70"],Bp=({handleColorChange:e,color:t="#000",title:n})=>{const o=h=>{e(h)};return M.jsxs("div",{className:sn.colorSideMenu,children:[M.jsxs("div",{className:sn.section,children:[M.jsx("p",{className:sn.text,children:n}),M.jsx(iu,{trigger:"click",hoverItem:M.jsx("img",{src:ZC}),children:M.jsx(KC,{color:t,onChange:o,onEyeDropError:()=>o("#000")})})]}),M.jsxs("div",{className:sn.section,children:[M.jsx("p",{className:sn.text,children:"Predefined colors"}),M.jsx("div",{className:sn.colors,children:r_.map(h=>M.jsx("button",{className:sn.predefinedColorInteractable,onClick:()=>o(h),children:M.jsx(Pp,{hexCode:h,className:sn.predefinedColor},h)},h))})]})]})},lu=({handleColorChange:e,valueToWatch:t,title:n})=>{const o=Ie(),[,h]=He(ru),[g]=He(Fi);if(g===""&&!o.current)return M.jsx(M.Fragment,{});const{_activeObject:y}=tt(o.current,"after:render",["_activeObject"]);y||h("");const c="object:modified",r=tt(y,c,[t]),l=i=>{var s;e(i),y.fire(c),(s=o.current)==null||s.requestRenderAll()},d=r[t]||"#000";return M.jsx(Bp,{color:d,handleColorChange:l,title:n})},i_=()=>{const e=Ie(),{_activeObject:t}=tt(e.current,"after:render",["_activeObject"]),n="fill",o=h=>{t.set(n,h)};return M.jsx(lu,{title:"Pick a color for the text",handleColorChange:o,valueToWatch:n})},o_=()=>{const e=Ie(),{_activeObject:t}=tt(e.current,"after:render",["_activeObject"]),n="fill",o=(g,y)=>{g[n]&&g.set(n,y),g instanceof De.fabric.Group&&g._objects.forEach(c=>o(c,y))},h=g=>{o(t,g)};return M.jsx(lu,{title:"Pick a color for the element",handleColorChange:h,valueToWatch:n})},s_=()=>{const e=Ie(),{_activeObject:t}=tt(e.current,"after:render",["_activeObject"]),n="stroke",o=h=>{var g;t.set(n,h),t.fire("object:modified"),(g=e.current)==null||g.renderAll()};return M.jsx(lu,{title:"Pick a color for the border",handleColorChange:o,valueToWatch:n})};function Ni(e){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(e)}function a_(e,t){if(Ni(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t||"default");if(Ni(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l_(e){var t=a_(e,"string");return Ni(t)=="symbol"?t:t+""}function c_(e,t,n){return t=l_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),n.push.apply(n,o)}return n}function vh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mh(Object(n),!0).forEach(function(o){c_(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mh(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function lt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var yh=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Xa=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ch={INIT:"@@redux/INIT"+Xa(),REPLACE:"@@redux/REPLACE"+Xa(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Xa()}};function u_(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Np(e,t,n){var o;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(lt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(lt(1));return n(Np)(e,t)}if(typeof e!="function")throw new Error(lt(2));var h=e,g=t,y=[],c=y,r=!1;function l(){c===y&&(c=y.slice())}function d(){if(r)throw new Error(lt(3));return g}function i(p){if(typeof p!="function")throw new Error(lt(4));if(r)throw new Error(lt(5));var u=!0;return l(),c.push(p),function(){if(u){if(r)throw new Error(lt(6));u=!1,l();var v=c.indexOf(p);c.splice(v,1),y=null}}}function s(p){if(!u_(p))throw new Error(lt(7));if(typeof p.type>"u")throw new Error(lt(8));if(r)throw new Error(lt(9));try{r=!0,g=h(g,p)}finally{r=!1}for(var u=y=c,m=0;m<u.length;m++){var v=u[m];v()}return p}function a(p){if(typeof p!="function")throw new Error(lt(10));h=p,s({type:Ch.REPLACE})}function f(){var p,u=i;return p={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(lt(11));function C(){v.next&&v.next(d())}C();var _=u(C);return{unsubscribe:_}}},p[yh]=function(){return this},p}return s({type:Ch.INIT}),o={dispatch:s,subscribe:i,getState:d,replaceReducer:a},o[yh]=f,o}function _h(e,t){return function(){return t(e.apply(this,arguments))}}function wh(e,t){if(typeof e=="function")return _h(e,t);if(typeof e!="object"||e===null)throw new Error(lt(16));var n={};for(var o in e){var h=e[o];typeof h=="function"&&(n[o]=_h(h,t))}return n}function Hp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(o){return o}:t.length===1?t[0]:t.reduce(function(o,h){return function(){return o(h.apply(void 0,arguments))}})}function f_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){return function(){var h=o.apply(void 0,arguments),g=function(){throw new Error(lt(15))},y={getState:h.getState,dispatch:function(){return g.apply(void 0,arguments)}},c=t.map(function(r){return r(y)});return g=Hp.apply(void 0,c)(h.dispatch),vh(vh({},h),{},{dispatch:g})}}}var Vp={exports:{}},zp={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kr=$;function h_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var d_=typeof Object.is=="function"?Object.is:h_,p_=kr.useState,g_=kr.useEffect,m_=kr.useLayoutEffect,v_=kr.useDebugValue;function y_(e,t){var n=t(),o=p_({inst:{value:n,getSnapshot:t}}),h=o[0].inst,g=o[1];return m_(function(){h.value=n,h.getSnapshot=t,Ya(h)&&g({inst:h})},[e,n,t]),g_(function(){return Ya(h)&&g({inst:h}),e(function(){Ya(h)&&g({inst:h})})},[e]),v_(n),n}function Ya(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!d_(e,n)}catch{return!0}}function C_(e,t){return t()}var __=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C_:y_;zp.useSyncExternalStore=kr.useSyncExternalStore!==void 0?kr.useSyncExternalStore:__;Vp.exports=zp;var Wp=Vp.exports,w_={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=$,x_=Wp;function S_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var b_=typeof Object.is=="function"?Object.is:S_,T_=x_.useSyncExternalStore,E_=Ns.useRef,O_=Ns.useEffect,k_=Ns.useMemo,D_=Ns.useDebugValue;w_.useSyncExternalStoreWithSelector=function(e,t,n,o,h){var g=E_(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=k_(function(){function r(a){if(!l){if(l=!0,d=a,a=o(a),h!==void 0&&y.hasValue){var f=y.value;if(h(f,a))return i=f}return i=a}if(f=i,b_(d,a))return f;var p=o(a);return h!==void 0&&h(f,p)?f:(d=a,i=p)}var l=!1,d,i,s=n===void 0?null:n;return[function(){return r(t())},s===null?void 0:function(){return r(s())}]},[t,n,o,h]);var c=T_(e,g[0],g[1]);return O_(function(){y.hasValue=!0,y.value=c},[c]),D_(c),c};function P_(e){e()}let Up=P_;const A_=e=>Up=e,I_=()=>Up,xh=Symbol.for("react-redux-context"),Sh=typeof globalThis<"u"?globalThis:{};function M_(){var e;if(!$.createContext)return{};const t=(e=Sh[xh])!=null?e:Sh[xh]=new Map;let n=t.get($.createContext);return n||(n=$.createContext(null),t.set($.createContext,n)),n}const Gp=M_(),L_=()=>{throw new Error("uSES not initialized!")};function xn(){return xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},xn.apply(this,arguments)}function $p(e,t){if(e==null)return{};var n={},o=Object.keys(e),h,g;for(g=0;g<o.length;g++)h=o[g],!(t.indexOf(h)>=0)&&(n[h]=e[h]);return n}var Xp={exports:{}},_e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ue=typeof Symbol=="function"&&Symbol.for,cu=Ue?Symbol.for("react.element"):60103,uu=Ue?Symbol.for("react.portal"):60106,Hs=Ue?Symbol.for("react.fragment"):60107,Vs=Ue?Symbol.for("react.strict_mode"):60108,zs=Ue?Symbol.for("react.profiler"):60114,Ws=Ue?Symbol.for("react.provider"):60109,Us=Ue?Symbol.for("react.context"):60110,fu=Ue?Symbol.for("react.async_mode"):60111,Gs=Ue?Symbol.for("react.concurrent_mode"):60111,$s=Ue?Symbol.for("react.forward_ref"):60112,Xs=Ue?Symbol.for("react.suspense"):60113,R_=Ue?Symbol.for("react.suspense_list"):60120,Ys=Ue?Symbol.for("react.memo"):60115,qs=Ue?Symbol.for("react.lazy"):60116,F_=Ue?Symbol.for("react.block"):60121,j_=Ue?Symbol.for("react.fundamental"):60117,B_=Ue?Symbol.for("react.responder"):60118,N_=Ue?Symbol.for("react.scope"):60119;function St(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case cu:switch(e=e.type,e){case fu:case Gs:case Hs:case zs:case Vs:case Xs:return e;default:switch(e=e&&e.$$typeof,e){case Us:case $s:case qs:case Ys:case Ws:return e;default:return t}}case uu:return t}}}function Yp(e){return St(e)===Gs}_e.AsyncMode=fu;_e.ConcurrentMode=Gs;_e.ContextConsumer=Us;_e.ContextProvider=Ws;_e.Element=cu;_e.ForwardRef=$s;_e.Fragment=Hs;_e.Lazy=qs;_e.Memo=Ys;_e.Portal=uu;_e.Profiler=zs;_e.StrictMode=Vs;_e.Suspense=Xs;_e.isAsyncMode=function(e){return Yp(e)||St(e)===fu};_e.isConcurrentMode=Yp;_e.isContextConsumer=function(e){return St(e)===Us};_e.isContextProvider=function(e){return St(e)===Ws};_e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===cu};_e.isForwardRef=function(e){return St(e)===$s};_e.isFragment=function(e){return St(e)===Hs};_e.isLazy=function(e){return St(e)===qs};_e.isMemo=function(e){return St(e)===Ys};_e.isPortal=function(e){return St(e)===uu};_e.isProfiler=function(e){return St(e)===zs};_e.isStrictMode=function(e){return St(e)===Vs};_e.isSuspense=function(e){return St(e)===Xs};_e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Hs||e===Gs||e===zs||e===Vs||e===Xs||e===R_||typeof e=="object"&&e!==null&&(e.$$typeof===qs||e.$$typeof===Ys||e.$$typeof===Ws||e.$$typeof===Us||e.$$typeof===$s||e.$$typeof===j_||e.$$typeof===B_||e.$$typeof===N_||e.$$typeof===F_)};_e.typeOf=St;Xp.exports=_e;var H_=Xp.exports,hu=H_,V_={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},z_={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},W_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qp={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},du={};du[hu.ForwardRef]=W_;du[hu.Memo]=qp;function bh(e){return hu.isMemo(e)?qp:du[e.$$typeof]||V_}var U_=Object.defineProperty,G_=Object.getOwnPropertyNames,Th=Object.getOwnPropertySymbols,$_=Object.getOwnPropertyDescriptor,X_=Object.getPrototypeOf,Eh=Object.prototype;function Kp(e,t,n){if(typeof t!="string"){if(Eh){var o=X_(t);o&&o!==Eh&&Kp(e,o,n)}var h=G_(t);Th&&(h=h.concat(Th(t)));for(var g=bh(e),y=bh(t),c=0;c<h.length;++c){var r=h[c];if(!z_[r]&&!(n&&n[r])&&!(y&&y[r])&&!(g&&g[r])){var l=$_(t,r);try{U_(e,r,l)}catch{}}}}return e}var Y_=Kp;const Oh=_s(Y_);var Zp={exports:{}},we={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=Symbol.for("react.element"),gu=Symbol.for("react.portal"),Ks=Symbol.for("react.fragment"),Zs=Symbol.for("react.strict_mode"),Qs=Symbol.for("react.profiler"),Js=Symbol.for("react.provider"),ea=Symbol.for("react.context"),q_=Symbol.for("react.server_context"),ta=Symbol.for("react.forward_ref"),na=Symbol.for("react.suspense"),ra=Symbol.for("react.suspense_list"),ia=Symbol.for("react.memo"),oa=Symbol.for("react.lazy"),K_=Symbol.for("react.offscreen"),Qp;Qp=Symbol.for("react.module.reference");function Mt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pu:switch(e=e.type,e){case Ks:case Qs:case Zs:case na:case ra:return e;default:switch(e=e&&e.$$typeof,e){case q_:case ea:case ta:case oa:case ia:case Js:return e;default:return t}}case gu:return t}}}we.ContextConsumer=ea;we.ContextProvider=Js;we.Element=pu;we.ForwardRef=ta;we.Fragment=Ks;we.Lazy=oa;we.Memo=ia;we.Portal=gu;we.Profiler=Qs;we.StrictMode=Zs;we.Suspense=na;we.SuspenseList=ra;we.isAsyncMode=function(){return!1};we.isConcurrentMode=function(){return!1};we.isContextConsumer=function(e){return Mt(e)===ea};we.isContextProvider=function(e){return Mt(e)===Js};we.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pu};we.isForwardRef=function(e){return Mt(e)===ta};we.isFragment=function(e){return Mt(e)===Ks};we.isLazy=function(e){return Mt(e)===oa};we.isMemo=function(e){return Mt(e)===ia};we.isPortal=function(e){return Mt(e)===gu};we.isProfiler=function(e){return Mt(e)===Qs};we.isStrictMode=function(e){return Mt(e)===Zs};we.isSuspense=function(e){return Mt(e)===na};we.isSuspenseList=function(e){return Mt(e)===ra};we.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ks||e===Qs||e===Zs||e===na||e===ra||e===K_||typeof e=="object"&&e!==null&&(e.$$typeof===oa||e.$$typeof===ia||e.$$typeof===Js||e.$$typeof===ea||e.$$typeof===ta||e.$$typeof===Qp||e.getModuleId!==void 0)};we.typeOf=Mt;Zp.exports=we;var Z_=Zp.exports;const Q_=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function J_(e,t,n,o,{areStatesEqual:h,areOwnPropsEqual:g,areStatePropsEqual:y}){let c=!1,r,l,d,i,s;function a(v,C){return r=v,l=C,d=e(r,l),i=t(o,l),s=n(d,i,l),c=!0,s}function f(){return d=e(r,l),t.dependsOnOwnProps&&(i=t(o,l)),s=n(d,i,l),s}function p(){return e.dependsOnOwnProps&&(d=e(r,l)),t.dependsOnOwnProps&&(i=t(o,l)),s=n(d,i,l),s}function u(){const v=e(r,l),C=!y(v,d);return d=v,C&&(s=n(d,i,l)),s}function m(v,C){const _=!g(C,l),w=!h(v,r,C,l);return r=v,l=C,_&&w?f():_?p():w?u():s}return function(C,_){return c?m(C,_):a(C,_)}}function ew(e,t){let{initMapStateToProps:n,initMapDispatchToProps:o,initMergeProps:h}=t,g=$p(t,Q_);const y=n(e,g),c=o(e,g),r=h(e,g);return J_(y,c,r,e,g)}function tw(e,t){const n={};for(const o in e){const h=e[o];typeof h=="function"&&(n[o]=(...g)=>t(h(...g)))}return n}function nc(e){return function(n){const o=e(n);function h(){return o}return h.dependsOnOwnProps=!1,h}}function kh(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Jp(e,t){return function(o,{displayName:h}){const g=function(c,r){return g.dependsOnOwnProps?g.mapToProps(c,r):g.mapToProps(c,void 0)};return g.dependsOnOwnProps=!0,g.mapToProps=function(c,r){g.mapToProps=e,g.dependsOnOwnProps=kh(e);let l=g(c,r);return typeof l=="function"&&(g.mapToProps=l,g.dependsOnOwnProps=kh(l),l=g(c,r)),l},g}}function mu(e,t){return(n,o)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${o.wrappedComponentName}.`)}}function nw(e){return e&&typeof e=="object"?nc(t=>tw(e,t)):e?typeof e=="function"?Jp(e):mu(e,"mapDispatchToProps"):nc(t=>({dispatch:t}))}function rw(e){return e?typeof e=="function"?Jp(e):mu(e,"mapStateToProps"):nc(()=>({}))}function iw(e,t,n){return xn({},n,e,t)}function ow(e){return function(n,{displayName:o,areMergedPropsEqual:h}){let g=!1,y;return function(r,l,d){const i=e(r,l,d);return g?h(i,y)||(y=i):(g=!0,y=i),y}}}function sw(e){return e?typeof e=="function"?ow(e):mu(e,"mergeProps"):()=>iw}function aw(){const e=I_();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let o=t;for(;o;)o.callback(),o=o.next})},get(){let o=[],h=t;for(;h;)o.push(h),h=h.next;return o},subscribe(o){let h=!0,g=n={callback:o,next:null,prev:n};return g.prev?g.prev.next=g:t=g,function(){!h||t===null||(h=!1,g.next?g.next.prev=g.prev:n=g.prev,g.prev?g.prev.next=g.next:t=g.next)}}}}const Dh={notify(){},get:()=>[]};function eg(e,t){let n,o=Dh,h=0,g=!1;function y(p){d();const u=o.subscribe(p);let m=!1;return()=>{m||(m=!0,u(),i())}}function c(){o.notify()}function r(){f.onStateChange&&f.onStateChange()}function l(){return g}function d(){h++,n||(n=t?t.addNestedSub(r):e.subscribe(r),o=aw())}function i(){h--,n&&h===0&&(n(),n=void 0,o.clear(),o=Dh)}function s(){g||(g=!0,d())}function a(){g&&(g=!1,i())}const f={addNestedSub:y,notifyNestedSubs:c,handleChangeWrapper:r,isSubscribed:l,trySubscribe:s,tryUnsubscribe:a,getListeners:()=>o};return f}const lw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hs=lw?$.useLayoutEffect:$.useEffect;function Ph(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function qa(e,t){if(Ph(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let h=0;h<n.length;h++)if(!Object.prototype.hasOwnProperty.call(t,n[h])||!Ph(e[n[h]],t[n[h]]))return!1;return!0}const cw=["reactReduxForwardedRef"];let tg=L_;const uw=e=>{tg=e},fw=[null,null];function hw(e,t,n){hs(()=>e(...t),n)}function dw(e,t,n,o,h,g){e.current=o,n.current=!1,h.current&&(h.current=null,g())}function pw(e,t,n,o,h,g,y,c,r,l,d){if(!e)return()=>{};let i=!1,s=null;const a=()=>{if(i||!c.current)return;const p=t.getState();let u,m;try{u=o(p,h.current)}catch(v){m=v,s=v}m||(s=null),u===g.current?y.current||l():(g.current=u,r.current=u,y.current=!0,d())};return n.onStateChange=a,n.trySubscribe(),a(),()=>{if(i=!0,n.tryUnsubscribe(),n.onStateChange=null,s)throw s}}function gw(e,t){return e===t}function ng(e,t,n,{pure:o,areStatesEqual:h=gw,areOwnPropsEqual:g=qa,areStatePropsEqual:y=qa,areMergedPropsEqual:c=qa,forwardRef:r=!1,context:l=Gp}={}){const d=l,i=rw(e),s=nw(t),a=sw(n),f=!!e;return u=>{const m=u.displayName||u.name||"Component",v=`Connect(${m})`,C={shouldHandleStateChanges:f,displayName:v,wrappedComponentName:m,WrappedComponent:u,initMapStateToProps:i,initMapDispatchToProps:s,initMergeProps:a,areStatesEqual:h,areStatePropsEqual:y,areOwnPropsEqual:g,areMergedPropsEqual:c};function _(T){const[S,A,I]=$.useMemo(()=>{const{reactReduxForwardedRef:ie}=T,G=$p(T,cw);return[T.context,ie,G]},[T]),R=$.useMemo(()=>S&&S.Consumer&&Z_.isContextConsumer($.createElement(S.Consumer,null))?S:d,[S,d]),B=$.useContext(R),V=!!T.store&&!!T.store.getState&&!!T.store.dispatch,H=!!B&&!!B.store,U=V?T.store:B.store,ne=H?B.getServerState:U.getState,ee=$.useMemo(()=>ew(U.dispatch,C),[U]),[N,b]=$.useMemo(()=>{if(!f)return fw;const ie=eg(U,V?void 0:B.subscription),G=ie.notifyNestedSubs.bind(ie);return[ie,G]},[U,V,B]),O=$.useMemo(()=>V?B:xn({},B,{subscription:N}),[V,B,N]),D=$.useRef(),P=$.useRef(I),z=$.useRef(),k=$.useRef(!1);$.useRef(!1);const E=$.useRef(!1),L=$.useRef();hs(()=>(E.current=!0,()=>{E.current=!1}),[]);const F=$.useMemo(()=>()=>z.current&&I===P.current?z.current:ee(U.getState(),I),[U,I]),Y=$.useMemo(()=>G=>N?pw(f,U,N,ee,P,D,k,E,z,b,G):()=>{},[N]);hw(dw,[P,D,k,I,z,b]);let W;try{W=tg(Y,F,ne?()=>ee(ne(),I):F)}catch(ie){throw L.current&&(ie.message+=`
The error may be correlated with this previous error:
${L.current.stack}

`),ie}hs(()=>{L.current=void 0,z.current=void 0,D.current=W});const Z=$.useMemo(()=>$.createElement(u,xn({},W,{ref:A})),[A,u,W]);return $.useMemo(()=>f?$.createElement(R.Provider,{value:O},Z):Z,[R,Z,O])}const x=$.memo(_);if(x.WrappedComponent=u,x.displayName=_.displayName=v,r){const S=$.forwardRef(function(I,R){return $.createElement(x,xn({},I,{reactReduxForwardedRef:R}))});return S.displayName=v,S.WrappedComponent=u,Oh(S,u)}return Oh(x,u)}}function mw({store:e,context:t,children:n,serverState:o,stabilityCheck:h="once",noopCheck:g="once"}){const y=$.useMemo(()=>{const l=eg(e);return{store:e,subscription:l,getServerState:o?()=>o:void 0,stabilityCheck:h,noopCheck:g}},[e,o,h,g]),c=$.useMemo(()=>e.getState(),[e]);hs(()=>{const{subscription:l}=y;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),c!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[y,c]);const r=t||Gp;return $.createElement(r.Provider,{value:y},n)}uw(Wp.useSyncExternalStore);A_(Qn.unstable_batchedUpdates);function vw(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function rg(e,t){var n=$.useState(function(){return{inputs:t,result:e()}})[0],o=$.useRef(!0),h=$.useRef(n),g=o.current||!!(t&&h.current.inputs&&vw(t,h.current.inputs)),y=g?h.current:{inputs:t,result:e()};return $.useEffect(function(){o.current=!1,h.current=y},[y]),y.result}function yw(e,t){return rg(function(){return e},t)}var ge=rg,ce=yw,Cw="Invariant failed";function _w(e,t){if(!e)throw new Error(Cw)}var Bt=function(t){var n=t.top,o=t.right,h=t.bottom,g=t.left,y=o-g,c=h-n,r={top:n,right:o,bottom:h,left:g,width:y,height:c,x:g,y:n,center:{x:(o+g)/2,y:(h+n)/2}};return r},vu=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},Ah=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},ww=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Ka={top:0,right:0,bottom:0,left:0},yu=function(t){var n=t.borderBox,o=t.margin,h=o===void 0?Ka:o,g=t.border,y=g===void 0?Ka:g,c=t.padding,r=c===void 0?Ka:c,l=Bt(vu(n,h)),d=Bt(Ah(n,y)),i=Bt(Ah(d,r));return{marginBox:l,borderBox:Bt(n),paddingBox:d,contentBox:i,margin:h,border:y,padding:r}},bt=function(t){var n=t.slice(0,-2),o=t.slice(-2);if(o!=="px")return 0;var h=Number(n);return isNaN(h)&&_w(!1),h},xw=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ds=function(t,n){var o=t.borderBox,h=t.border,g=t.margin,y=t.padding,c=ww(o,n);return yu({borderBox:c,border:h,margin:g,padding:y})},ps=function(t,n){return n===void 0&&(n=xw()),ds(t,n)},ig=function(t,n){var o={top:bt(n.marginTop),right:bt(n.marginRight),bottom:bt(n.marginBottom),left:bt(n.marginLeft)},h={top:bt(n.paddingTop),right:bt(n.paddingRight),bottom:bt(n.paddingBottom),left:bt(n.paddingLeft)},g={top:bt(n.borderTopWidth),right:bt(n.borderRightWidth),bottom:bt(n.borderBottomWidth),left:bt(n.borderLeftWidth)};return yu({borderBox:t,margin:o,padding:h,border:g})},og=function(t){var n=t.getBoundingClientRect(),o=window.getComputedStyle(t);return ig(n,o)},Ih=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Sw(e,t){return!!(e===t||Ih(e)&&Ih(t))}function bw(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Sw(e[n],t[n]))return!1;return!0}function ze(e,t){t===void 0&&(t=bw);var n=null;function o(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];if(n&&n.lastThis===this&&t(h,n.lastArgs))return n.lastResult;var y=e.apply(this,h);return n={lastResult:y,lastArgs:h,lastThis:this},y}return o.clear=function(){n=null},o}var Hi=function(t){var n=[],o=null,h=function(){for(var y=arguments.length,c=new Array(y),r=0;r<y;r++)c[r]=arguments[r];n=c,!o&&(o=requestAnimationFrame(function(){o=null,t.apply(void 0,n)}))};return h.cancel=function(){o&&(cancelAnimationFrame(o),o=null)},h};function sg(e,t){}sg.bind(null,"warn");sg.bind(null,"error");function Sn(){}function Tw(e,t){return{...e,...t}}function kt(e,t,n){const o=t.map(h=>{const g=Tw(n,h.options);return e.addEventListener(h.eventName,h.fn,g),function(){e.removeEventListener(h.eventName,h.fn,g)}});return function(){o.forEach(g=>{g()})}}const Ew="Invariant failed";class gs extends Error{}gs.prototype.toString=function(){return this.message};function oe(e,t){if(!e)throw new gs(Ew)}class Ow extends fe.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Sn,this.onWindowError=n=>{const o=this.getCallbacks();o.isDragging()&&o.tryAbort(),n.error instanceof gs&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=kt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof gs){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const kw=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ms=e=>e+1,Dw=e=>`
  You have lifted an item in position ${ms(e.source.index)}
`,ag=(e,t)=>{const n=e.droppableId===t.droppableId,o=ms(e.index),h=ms(t.index);return n?`
      You have moved the item from position ${o}
      to position ${h}
    `:`
    You have moved the item from position ${o}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${h}
  `},lg=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Pw=e=>{const t=e.destination;if(t)return ag(e.source,t);const n=e.combine;return n?lg(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Mh=e=>`
  The item has returned to its starting position
  of ${ms(e.index)}
`,Aw=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${Mh(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${ag(e.source,t)}
    `:n?`
      You have dropped the item.
      ${lg(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${Mh(e.source)}
  `},Iw={dragHandleUsageInstructions:kw,onDragStart:Dw,onDragUpdate:Pw,onDragEnd:Aw};var Bo=Iw;const We={x:0,y:0},Ye=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),mt=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),bn=(e,t)=>e.x===t.x&&e.y===t.y,Fr=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),qn=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Vi=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Lh=(e,t)=>Math.min(...t.map(n=>Vi(e,n))),cg=e=>t=>({x:e(t.x),y:e(t.y)});var Mw=(e,t)=>{const n=Bt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Ji=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Rh=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Lw={top:0,right:0,bottom:0,left:0},Rw=(e,t)=>t?Ji(e,t.scroll.diff.displacement):e,Fw=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,jw=(e,t)=>t&&t.shouldClipSubject?Mw(t.pageMarginBox,e):Bt(e);var Dr=({page:e,withPlaceholder:t,axis:n,frame:o})=>{const h=Rw(e.marginBox,o),g=Fw(h,n,t),y=jw(g,o);return{page:e,withPlaceholder:t,active:y}},Cu=(e,t)=>{e.frame||oe(!1);const n=e.frame,o=mt(t,n.scroll.initial),h=Fr(o),g={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:o,displacement:h},max:n.scroll.max}},y=Dr({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:g});return{...e,frame:g,subject:y}};const ug=ze(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),fg=ze(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),sa=ze(e=>Object.values(e)),Bw=ze(e=>Object.values(e));var jr=ze((e,t)=>Bw(t).filter(o=>e===o.descriptor.droppableId).sort((o,h)=>o.descriptor.index-h.descriptor.index));function _u(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function aa(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var la=ze((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),Nw=({isMovingForward:e,draggable:t,destination:n,insideDestination:o,previousImpact:h})=>{if(!n.isCombineEnabled||!_u(h))return null;function y(a){const f={type:"COMBINE",combine:{draggableId:a,droppableId:n.descriptor.id}};return{...h,at:f}}const c=h.displaced.all,r=c.length?c[0]:null;if(e)return r?y(r):null;const l=la(t,o);if(!r){if(!l.length)return null;const a=l[l.length-1];return y(a.descriptor.id)}const d=l.findIndex(a=>a.descriptor.id===r);d===-1&&oe(!1);const i=d-1;if(i<0)return null;const s=l[i];return y(s.descriptor.id)},Br=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const hg={point:We,value:0},zi={invisible:{},visible:{},all:[]},Hw={displaced:zi,displacedBy:hg,at:null};var Vw=Hw,Pt=(e,t)=>n=>e<=n&&n<=t,dg=e=>{const t=Pt(e.top,e.bottom),n=Pt(e.left,e.right);return o=>{if(t(o.top)&&t(o.bottom)&&n(o.left)&&n(o.right))return!0;const g=t(o.top)||t(o.bottom),y=n(o.left)||n(o.right);if(g&&y)return!0;const r=o.top<e.top&&o.bottom>e.bottom,l=o.left<e.left&&o.right>e.right;return r&&l?!0:r&&y||l&&g}},zw=e=>{const t=Pt(e.top,e.bottom),n=Pt(e.left,e.right);return o=>t(o.top)&&t(o.bottom)&&n(o.left)&&n(o.right)};const wu={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},pg={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Ww=e=>t=>{const n=Pt(t.top,t.bottom),o=Pt(t.left,t.right);return h=>e===wu?n(h.top)&&n(h.bottom):o(h.left)&&o(h.right)};const Uw=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:We;return Ji(e,n)},Gw=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,$w=(e,t,n)=>n(t)(e),xu=({target:e,destination:t,viewport:n,withDroppableDisplacement:o,isVisibleThroughFrameFn:h})=>{const g=o?Uw(e,t):e;return Gw(g,t,h)&&$w(g,n,h)},Xw=e=>xu({...e,isVisibleThroughFrameFn:dg}),gg=e=>xu({...e,isVisibleThroughFrameFn:zw}),Yw=e=>xu({...e,isVisibleThroughFrameFn:Ww(e.destination.axis)}),qw=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:o,visible:h}=t;if(o[e])return!1;const g=h[e];return g?g.shouldAnimate:!0};function Kw(e,t){const n=e.page.marginBox,o={top:t.point.y,right:0,bottom:0,left:t.point.x};return Bt(vu(n,o))}function Wi({afterDragging:e,destination:t,displacedBy:n,viewport:o,forceShouldAnimate:h,last:g}){return e.reduce(function(c,r){const l=Kw(r,n),d=r.descriptor.id;if(c.all.push(d),!Xw({target:l,destination:t,viewport:o,withDroppableDisplacement:!0}))return c.invisible[r.descriptor.id]=!0,c;const s=qw(d,g,h),a={draggableId:d,shouldAnimate:s};return c.visible[d]=a,c},{all:[],visible:{},invisible:{}})}function Zw(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function Fh({insideDestination:e,inHomeList:t,displacedBy:n,destination:o}){const h=Zw(e,{inHomeList:t});return{displaced:zi,displacedBy:n,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:h}}}}function vs({draggable:e,insideDestination:t,destination:n,viewport:o,displacedBy:h,last:g,index:y,forceShouldAnimate:c}){const r=Br(e,n);if(y==null)return Fh({insideDestination:t,inHomeList:r,displacedBy:h,destination:n});const l=t.find(f=>f.descriptor.index===y);if(!l)return Fh({insideDestination:t,inHomeList:r,displacedBy:h,destination:n});const d=la(e,t),i=t.indexOf(l),s=d.slice(i);return{displaced:Wi({afterDragging:s,destination:n,displacedBy:h,last:g,viewport:o.frame,forceShouldAnimate:c}),displacedBy:h,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:y}}}}function On(e,t){return!!t.effected[e]}var Qw=({isMovingForward:e,destination:t,draggables:n,combine:o,afterCritical:h})=>{if(!t.isCombineEnabled)return null;const g=o.draggableId,c=n[g].descriptor.index;return On(g,h)?e?c:c-1:e?c+1:c},Jw=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:o})=>{if(!n.length)return null;const h=o.index,g=e?h+1:h-1,y=n[0].descriptor.index,c=n[n.length-1].descriptor.index,r=t?c:c+1;return g<y||g>r?null:g},ex=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:o,destination:h,insideDestination:g,previousImpact:y,viewport:c,afterCritical:r})=>{const l=y.at;if(l||oe(!1),l.type==="REORDER"){const i=Jw({isMovingForward:e,isInHomeList:t,location:l.destination,insideDestination:g});return i==null?null:vs({draggable:n,insideDestination:g,destination:h,viewport:c,last:y.displaced,displacedBy:y.displacedBy,index:i})}const d=Qw({isMovingForward:e,destination:h,displaced:y.displaced,draggables:o,combine:l.combine,afterCritical:r});return d==null?null:vs({draggable:n,insideDestination:g,destination:h,viewport:c,last:y.displaced,displacedBy:y.displacedBy,index:d})},tx=({displaced:e,afterCritical:t,combineWith:n,displacedBy:o})=>{const h=!!(e.visible[n]||e.invisible[n]);return On(n,t)?h?We:Fr(o.point):h?o.point:We},nx=({afterCritical:e,impact:t,draggables:n})=>{const o=aa(t);o||oe(!1);const h=o.draggableId,g=n[h].page.borderBox.center,y=tx({displaced:t.displaced,afterCritical:e,combineWith:h,displacedBy:t.displacedBy});return Ye(g,y)};const mg=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,rx=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Su=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,jh=({axis:e,moveRelativeTo:t,isMoving:n})=>qn(e.line,t.marginBox[e.end]+mg(e,n),Su(e,t.marginBox,n)),Bh=({axis:e,moveRelativeTo:t,isMoving:n})=>qn(e.line,t.marginBox[e.start]-rx(e,n),Su(e,t.marginBox,n)),ix=({axis:e,moveInto:t,isMoving:n})=>qn(e.line,t.contentBox[e.start]+mg(e,n),Su(e,t.contentBox,n));var ox=({impact:e,draggable:t,draggables:n,droppable:o,afterCritical:h})=>{const g=jr(o.descriptor.id,n),y=t.page,c=o.axis;if(!g.length)return ix({axis:c,moveInto:o.page,isMoving:y});const{displaced:r,displacedBy:l}=e,d=r.all[0];if(d){const s=n[d];if(On(d,h))return Bh({axis:c,moveRelativeTo:s.page,isMoving:y});const a=ds(s.page,l.point);return Bh({axis:c,moveRelativeTo:a,isMoving:y})}const i=g[g.length-1];if(i.descriptor.id===t.descriptor.id)return y.borderBox.center;if(On(i.descriptor.id,h)){const s=ds(i.page,Fr(h.displacedBy.point));return jh({axis:c,moveRelativeTo:s,isMoving:y})}return jh({axis:c,moveRelativeTo:i.page,isMoving:y})},rc=(e,t)=>{const n=e.frame;return n?Ye(t,n.scroll.diff.displacement):t};const sx=({impact:e,draggable:t,droppable:n,draggables:o,afterCritical:h})=>{const g=t.page.borderBox.center,y=e.at;return!n||!y?g:y.type==="REORDER"?ox({impact:e,draggable:t,draggables:o,droppable:n,afterCritical:h}):nx({impact:e,draggables:o,afterCritical:h})};var ca=e=>{const t=sx(e),n=e.droppable;return n?rc(n,t):t},vg=(e,t)=>{const n=mt(t,e.scroll.initial),o=Fr(n);return{frame:Bt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:o}}}};function Nh(e,t){return e.map(n=>t[n])}function ax(e,t){for(let n=0;n<t.length;n++){const o=t[n].visible[e];if(o)return o}return null}var lx=({impact:e,viewport:t,destination:n,draggables:o,maxScrollChange:h})=>{const g=vg(t,Ye(t.scroll.current,h)),y=n.frame?Cu(n,Ye(n.frame.scroll.current,h)):n,c=e.displaced,r=Wi({afterDragging:Nh(c.all,o),destination:n,displacedBy:e.displacedBy,viewport:g.frame,last:c,forceShouldAnimate:!1}),l=Wi({afterDragging:Nh(c.all,o),destination:y,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),d={},i={},s=[c,r,l];return c.all.forEach(f=>{const p=ax(f,s);if(p){i[f]=p;return}d[f]=!0}),{...e,displaced:{all:c.all,invisible:d,visible:i}}},cx=(e,t)=>Ye(e.scroll.diff.displacement,t),bu=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const o=cx(n,e),h=mt(o,t.page.borderBox.center);return Ye(t.client.borderBox.center,h)},yg=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:o,withDroppableDisplacement:h,onlyOnMainAxis:g=!1})=>{const y=mt(n,e.page.borderBox.center),r={target:Ji(e.page.borderBox,y),destination:t,withDroppableDisplacement:h,viewport:o};return g?Yw(r):gg(r)},ux=({isMovingForward:e,draggable:t,destination:n,draggables:o,previousImpact:h,viewport:g,previousPageBorderBoxCenter:y,previousClientSelection:c,afterCritical:r})=>{if(!n.isEnabled)return null;const l=jr(n.descriptor.id,o),d=Br(t,n),i=Nw({isMovingForward:e,draggable:t,destination:n,insideDestination:l,previousImpact:h})||ex({isMovingForward:e,isInHomeList:d,draggable:t,draggables:o,destination:n,insideDestination:l,previousImpact:h,viewport:g,afterCritical:r});if(!i)return null;const s=ca({impact:i,draggable:t,droppable:n,draggables:o,afterCritical:r});if(yg({draggable:t,destination:n,newPageBorderBoxCenter:s,viewport:g.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:bu({pageBorderBoxCenter:s,draggable:t,viewport:g}),impact:i,scrollJumpRequest:null};const f=mt(s,y),p=lx({impact:i,viewport:g,destination:n,draggables:o,maxScrollChange:f});return{clientSelection:c,impact:p,scrollJumpRequest:f}};const rt=e=>{const t=e.subject.active;return t||oe(!1),t};var fx=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:o,viewport:h})=>{const g=n.subject.active;if(!g)return null;const y=n.axis,c=Pt(g[y.start],g[y.end]),r=sa(o).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>dg(h.frame)(rt(d))).filter(d=>{const i=rt(d);return e?g[y.crossAxisEnd]<i[y.crossAxisEnd]:i[y.crossAxisStart]<g[y.crossAxisStart]}).filter(d=>{const i=rt(d),s=Pt(i[y.start],i[y.end]);return c(i[y.start])||c(i[y.end])||s(g[y.start])||s(g[y.end])}).sort((d,i)=>{const s=rt(d)[y.crossAxisStart],a=rt(i)[y.crossAxisStart];return e?s-a:a-s}).filter((d,i,s)=>rt(d)[y.crossAxisStart]===rt(s[0])[y.crossAxisStart]);if(!r.length)return null;if(r.length===1)return r[0];const l=r.filter(d=>Pt(rt(d)[y.start],rt(d)[y.end])(t[y.line]));return l.length===1?l[0]:l.length>1?l.sort((d,i)=>rt(d)[y.start]-rt(i)[y.start])[0]:r.sort((d,i)=>{const s=Lh(t,Rh(rt(d))),a=Lh(t,Rh(rt(i)));return s!==a?s-a:rt(d)[y.start]-rt(i)[y.start]})[0]};const Hh=(e,t)=>{const n=e.page.borderBox.center;return On(e.descriptor.id,t)?mt(n,t.displacedBy.point):n},hx=(e,t)=>{const n=e.page.borderBox;return On(e.descriptor.id,t)?Ji(n,Fr(t.displacedBy.point)):n};var dx=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:o,afterCritical:h})=>o.filter(y=>gg({target:hx(y,h),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((y,c)=>{const r=Vi(e,rc(n,Hh(y,h))),l=Vi(e,rc(n,Hh(c,h)));return r<l?-1:l<r?1:y.descriptor.index-c.descriptor.index})[0]||null,eo=ze(function(t,n){const o=n[t.line];return{value:o,point:qn(t.line,o)}});const px=(e,t,n)=>{const o=e.axis;if(e.descriptor.mode==="virtual")return qn(o.line,t[o.line]);const h=e.subject.page.contentBox[o.size],r=jr(e.descriptor.id,n).reduce((l,d)=>l+d.client.marginBox[o.size],0)+t[o.line]-h;return r<=0?null:qn(o.line,r)},Cg=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),_g=(e,t,n)=>{const o=e.frame;Br(t,e)&&oe(!1),e.subject.withPlaceholder&&oe(!1);const h=eo(e.axis,t.displaceBy).point,g=px(e,h,n),y={placeholderSize:h,increasedBy:g,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!o){const d=Dr({page:e.subject.page,withPlaceholder:y,axis:e.axis,frame:e.frame});return{...e,subject:d}}const c=g?Ye(o.scroll.max,g):o.scroll.max,r=Cg(o,c),l=Dr({page:e.subject.page,withPlaceholder:y,axis:e.axis,frame:r});return{...e,subject:l,frame:r}},gx=e=>{const t=e.subject.withPlaceholder;t||oe(!1);const n=e.frame;if(!n){const y=Dr({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:y}}const o=t.oldFrameMaxScroll;o||oe(!1);const h=Cg(n,o),g=Dr({page:e.subject.page,axis:e.axis,frame:h,withPlaceholder:null});return{...e,subject:g,frame:h}};var mx=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:o,draggables:h,destination:g,viewport:y,afterCritical:c})=>{if(!t){if(n.length)return null;const i={displaced:zi,displacedBy:hg,at:{type:"REORDER",destination:{droppableId:g.descriptor.id,index:0}}},s=ca({impact:i,draggable:o,droppable:g,draggables:h,afterCritical:c}),a=Br(o,g)?g:_g(g,o,h);return yg({draggable:o,destination:a,newPageBorderBoxCenter:s,viewport:y.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?i:null}const r=e[g.axis.line]<=t.page.borderBox.center[g.axis.line],l=(()=>{const i=t.descriptor.index;return t.descriptor.id===o.descriptor.id||r?i:i+1})(),d=eo(g.axis,o.displaceBy);return vs({draggable:o,insideDestination:n,destination:g,viewport:y,displacedBy:d,last:zi,index:l})},vx=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:o,draggables:h,droppables:g,viewport:y,afterCritical:c})=>{const r=fx({isMovingForward:e,pageBorderBoxCenter:t,source:o,droppables:g,viewport:y});if(!r)return null;const l=jr(r.descriptor.id,h),d=dx({pageBorderBoxCenter:t,viewport:y,destination:r,insideDestination:l,afterCritical:c}),i=mx({previousPageBorderBoxCenter:t,destination:r,draggable:n,draggables:h,moveRelativeTo:d,insideDestination:l,viewport:y,afterCritical:c});if(!i)return null;const s=ca({impact:i,draggable:n,droppable:r,draggables:h,afterCritical:c});return{clientSelection:bu({pageBorderBoxCenter:s,draggable:n,viewport:y}),impact:i,scrollJumpRequest:null}},yt=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const yx=(e,t)=>{const n=yt(e);return n?t[n]:null};var Cx=({state:e,type:t})=>{const n=yx(e.impact,e.dimensions.droppables),o=!!n,h=e.dimensions.droppables[e.critical.droppable.id],g=n||h,y=g.axis.direction,c=y==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||y==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!o)return null;const r=t==="MOVE_DOWN"||t==="MOVE_RIGHT",l=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,{draggables:i,droppables:s}=e.dimensions;return c?ux({isMovingForward:r,previousPageBorderBoxCenter:d,draggable:l,destination:g,draggables:i,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):vx({isMovingForward:r,previousPageBorderBoxCenter:d,draggable:l,isOver:g,draggables:i,droppables:s,viewport:e.viewport,afterCritical:e.afterCritical})};function Bn(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function wg(e){const t=Pt(e.top,e.bottom),n=Pt(e.left,e.right);return function(h){return t(h.y)&&n(h.x)}}function _x(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function wx({pageBorderBox:e,draggable:t,candidates:n}){const o=t.page.borderBox.center,h=n.map(g=>{const y=g.axis,c=qn(g.axis.line,e.center[y.line],g.page.borderBox.center[y.crossAxisLine]);return{id:g.descriptor.id,distance:Vi(o,c)}}).sort((g,y)=>y.distance-g.distance);return h[0]?h[0].id:null}function xx({pageBorderBox:e,draggable:t,droppables:n}){const o=sa(n).filter(h=>{if(!h.isEnabled)return!1;const g=h.subject.active;if(!g||!_x(e,g))return!1;if(wg(g)(e.center))return!0;const y=h.axis,c=g.center[y.crossAxisLine],r=e[y.crossAxisStart],l=e[y.crossAxisEnd],d=Pt(g[y.crossAxisStart],g[y.crossAxisEnd]),i=d(r),s=d(l);return!i&&!s?!0:i?r<c:l>c});return o.length?o.length===1?o[0].descriptor.id:wx({pageBorderBox:e,draggable:t,candidates:o}):null}const xg=(e,t)=>Bt(Ji(e,t));var Sx=(e,t)=>{const n=e.frame;return n?xg(t,n.scroll.diff.value):t};function Sg({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function bx({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Tx=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:o,last:h,viewport:g,afterCritical:y})=>{const c=n.axis,r=eo(n.axis,t.displaceBy),l=r.value,d=e[c.start],i=e[c.end],a=la(t,o).find(p=>{const u=p.descriptor.id,m=p.page.borderBox.center[c.line],v=On(u,y),C=Sg({displaced:h,id:u});return v?C?i<=m:d<m-l:C?i<=m+l:d<m})||null,f=bx({draggable:t,closest:a,inHomeList:Br(t,n)});return vs({draggable:t,insideDestination:o,destination:n,viewport:g,last:h,displacedBy:r,index:f})};const Ex=4;var Ox=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:o,insideDestination:h,afterCritical:g})=>{if(!o.isCombineEnabled)return null;const y=o.axis,c=eo(o.axis,e.displaceBy),r=c.value,l=t[y.start],d=t[y.end],s=la(e,h).find(f=>{const p=f.descriptor.id,u=f.page.borderBox,v=u[y.size]/Ex,C=On(p,g),_=Sg({displaced:n.displaced,id:p});return C?_?d>u[y.start]+v&&d<u[y.end]-v:l>u[y.start]-r+v&&l<u[y.end]-r-v:_?d>u[y.start]+r+v&&d<u[y.end]+r-v:l>u[y.start]+v&&l<u[y.end]-v});return s?{displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:s.descriptor.id,droppableId:o.descriptor.id}}}:null},bg=({pageOffset:e,draggable:t,draggables:n,droppables:o,previousImpact:h,viewport:g,afterCritical:y})=>{const c=xg(t.page.borderBox,e),r=xx({pageBorderBox:c,draggable:t,droppables:o});if(!r)return Vw;const l=o[r],d=jr(l.descriptor.id,n),i=Sx(l,c);return Ox({pageBorderBoxWithDroppableScroll:i,draggable:t,previousImpact:h,destination:l,insideDestination:d,afterCritical:y})||Tx({pageBorderBoxWithDroppableScroll:i,draggable:t,destination:l,insideDestination:d,last:h.displaced,viewport:g,afterCritical:y})},Tu=(e,t)=>({...e,[t.descriptor.id]:t});const kx=({previousImpact:e,impact:t,droppables:n})=>{const o=yt(e),h=yt(t);if(!o||o===h)return n;const g=n[o];if(!g.subject.withPlaceholder)return n;const y=gx(g);return Tu(n,y)};var Dx=({draggable:e,draggables:t,droppables:n,previousImpact:o,impact:h})=>{const g=kx({previousImpact:o,impact:h,droppables:n}),y=yt(h);if(!y)return g;const c=n[y];if(Br(e,c)||c.subject.withPlaceholder)return g;const r=_g(c,e,t);return Tu(g,r)},vi=({state:e,clientSelection:t,dimensions:n,viewport:o,impact:h,scrollJumpRequest:g})=>{const y=o||e.viewport,c=n||e.dimensions,r=t||e.current.client.selection,l=mt(r,e.initial.client.selection),d={offset:l,selection:r,borderBoxCenter:Ye(e.initial.client.borderBoxCenter,l)},i={selection:Ye(d.selection,y.scroll.current),borderBoxCenter:Ye(d.borderBoxCenter,y.scroll.current),offset:Ye(d.offset,y.scroll.diff.value)},s={client:d,page:i};if(e.phase==="COLLECTING")return{...e,dimensions:c,viewport:y,current:s};const a=c.draggables[e.critical.draggable.id],f=h||bg({pageOffset:i.offset,draggable:a,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:y,afterCritical:e.afterCritical}),p=Dx({draggable:a,impact:f,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return{...e,current:s,dimensions:{draggables:c.draggables,droppables:p},impact:f,viewport:y,scrollJumpRequest:g||null,forceShouldAnimate:g?!1:null}};function Px(e,t){return e.map(n=>t[n])}var Tg=({impact:e,viewport:t,draggables:n,destination:o,forceShouldAnimate:h})=>{const g=e.displaced,y=Px(g.all,n),c=Wi({afterDragging:y,destination:o,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:h,last:g});return{...e,displaced:c}},Eg=({impact:e,draggable:t,droppable:n,draggables:o,viewport:h,afterCritical:g})=>{const y=ca({impact:e,draggable:t,draggables:o,droppable:n,afterCritical:g});return bu({pageBorderBoxCenter:y,draggable:t,viewport:h})},Og=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&oe(!1);const o=e.impact,h=n||e.viewport,g=t||e.dimensions,{draggables:y,droppables:c}=g,r=y[e.critical.draggable.id],l=yt(o);l||oe(!1);const d=c[l],i=Tg({impact:o,viewport:h,destination:d,draggables:y}),s=Eg({impact:i,draggable:r,droppable:d,draggables:y,viewport:h,afterCritical:e.afterCritical});return vi({impact:i,clientSelection:s,state:e,dimensions:g,viewport:h})},Ax=e=>({index:e.index,droppableId:e.droppableId}),kg=({draggable:e,home:t,draggables:n,viewport:o})=>{const h=eo(t.axis,e.displaceBy),g=jr(t.descriptor.id,n),y=g.indexOf(e);y===-1&&oe(!1);const c=g.slice(y+1),r=c.reduce((s,a)=>(s[a.descriptor.id]=!0,s),{}),l={inVirtualList:t.descriptor.mode==="virtual",displacedBy:h,effected:r};return{impact:{displaced:Wi({afterDragging:c,destination:t,displacedBy:h,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:h,at:{type:"REORDER",destination:Ax(e.descriptor)}},afterCritical:l}},Ix=(e,t)=>({draggables:e.draggables,droppables:Tu(e.droppables,t)}),Mx=({draggable:e,offset:t,initialWindowScroll:n})=>{const o=ds(e.client,t),h=ps(o,n);return{...e,placeholder:{...e.placeholder,client:o},client:o,page:h}},Lx=e=>{const t=e.frame;return t||oe(!1),t},Rx=({additions:e,updatedDroppables:t,viewport:n})=>{const o=n.scroll.diff.value;return e.map(h=>{const g=h.descriptor.droppableId,y=t[g],r=Lx(y).scroll.diff.value,l=Ye(o,r);return Mx({draggable:h,offset:l,initialWindowScroll:n.scroll.initial})})},Fx=({state:e,published:t})=>{const n=t.modified.map(m=>{const v=e.dimensions.droppables[m.droppableId];return Cu(v,m.scroll)}),o={...e.dimensions.droppables,...ug(n)},h=fg(Rx({additions:t.additions,updatedDroppables:o,viewport:e.viewport})),g={...e.dimensions.draggables,...h};t.removals.forEach(m=>{delete g[m]});const y={droppables:o,draggables:g},c=yt(e.impact),r=c?y.droppables[c]:null,l=y.draggables[e.critical.draggable.id],d=y.droppables[e.critical.droppable.id],{impact:i,afterCritical:s}=kg({draggable:l,home:d,draggables:g,viewport:e.viewport}),a=r&&r.isCombineEnabled?e.impact:i,f=bg({pageOffset:e.current.page.offset,draggable:y.draggables[e.critical.draggable.id],draggables:y.draggables,droppables:y.droppables,previousImpact:a,viewport:e.viewport,afterCritical:s}),p={...e,phase:"DRAGGING",impact:f,onLiftImpact:i,dimensions:y,afterCritical:s,forceShouldAnimate:!1};return e.phase==="COLLECTING"?p:{...p,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const ic=e=>e.movementMode==="SNAP",Za=(e,t,n)=>{const o=Ix(e.dimensions,t);return!ic(e)||n?vi({state:e,dimensions:o}):Og({state:e,dimensions:o})};function Qa(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const Vh={phase:"IDLE",completed:null,shouldFlush:!1};var jx=(e=Vh,t)=>{if(t.type==="FLUSH")return{...Vh,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&oe(!1);const{critical:n,clientSelection:o,viewport:h,dimensions:g,movementMode:y}=t.payload,c=g.draggables[n.draggable.id],r=g.droppables[n.droppable.id],l={selection:o,borderBoxCenter:c.client.borderBox.center,offset:We},d={client:l,page:{selection:Ye(l.selection,h.scroll.initial),borderBoxCenter:Ye(l.selection,h.scroll.initial),offset:Ye(l.selection,h.scroll.diff.value)}},i=sa(g.droppables).every(p=>!p.isFixedOnPage),{impact:s,afterCritical:a}=kg({draggable:c,home:r,draggables:g.draggables,viewport:h});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:y,dimensions:g,initial:d,current:d,isWindowScrollAllowed:i,impact:s,afterCritical:a,onLiftImpact:s,viewport:h,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&oe(!1),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||oe(!1),Fx({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Bn(e)||oe(!1);const{client:n}=t.payload;return bn(n,e.current.client.selection)?e:vi({state:e,clientSelection:n,impact:ic(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Qa(e);Bn(e)||oe(!1);const{id:n,newScroll:o}=t.payload,h=e.dimensions.droppables[n];if(!h)return e;const g=Cu(h,o);return Za(e,g,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Bn(e)||oe(!1);const{id:n,isEnabled:o}=t.payload,h=e.dimensions.droppables[n];h||oe(!1),h.isEnabled===o&&oe(!1);const g={...h,isEnabled:o};return Za(e,g,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Bn(e)||oe(!1);const{id:n,isCombineEnabled:o}=t.payload,h=e.dimensions.droppables[n];h||oe(!1),h.isCombineEnabled===o&&oe(!1);const g={...h,isCombineEnabled:o};return Za(e,g,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Bn(e)||oe(!1),e.isWindowScrollAllowed||oe(!1);const n=t.payload.newScroll;if(bn(e.viewport.scroll.current,n))return Qa(e);const o=vg(e.viewport,n);return ic(e)?Og({state:e,viewport:o}):vi({state:e,viewport:o})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Bn(e))return e;const n=t.payload.maxScroll;if(bn(n,e.viewport.scroll.max))return e;const o={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:o}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&oe(!1);const n=Cx({state:e,type:t.type});return n?vi({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&oe(!1),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:o,newHomeClientOffset:h}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||oe(!1),{phase:"DROP_ANIMATING",completed:n,dropDuration:o,newHomeClientOffset:h,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};const Bx=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),Nx=e=>({type:"LIFT",payload:e}),Hx=e=>({type:"INITIAL_PUBLISH",payload:e}),Vx=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),zx=()=>({type:"COLLECTION_STARTING",payload:null}),Wx=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Ux=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),Gx=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Dg=e=>({type:"MOVE",payload:e}),$x=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),Xx=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),Yx=()=>({type:"MOVE_UP",payload:null}),qx=()=>({type:"MOVE_DOWN",payload:null}),Kx=()=>({type:"MOVE_RIGHT",payload:null}),Zx=()=>({type:"MOVE_LEFT",payload:null}),Eu=()=>({type:"FLUSH",payload:null}),Qx=e=>({type:"DROP_ANIMATE",payload:e}),Ou=e=>({type:"DROP_COMPLETE",payload:e}),Pg=e=>({type:"DROP",payload:e}),Jx=e=>({type:"DROP_PENDING",payload:e}),Ag=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var eS=e=>({getState:t,dispatch:n})=>o=>h=>{if(h.type!=="LIFT"){o(h);return}const{id:g,clientSelection:y,movementMode:c}=h.payload,r=t();r.phase==="DROP_ANIMATING"&&n(Ou({completed:r.completed})),t().phase!=="IDLE"&&oe(!1),n(Eu()),n(Bx({draggableId:g,movementMode:c}));const d={draggableId:g,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:i,dimensions:s,viewport:a}=e.startPublishing(d);n(Hx({critical:i,dimensions:s,clientSelection:y,movementMode:c,viewport:a}))},tS=e=>()=>t=>n=>{n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)};const ku={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ui={opacity:{drop:0,combining:.7},scale:{drop:.75}},Ig={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Rn=`${Ig.outOfTheWay}s ${ku.outOfTheWay}`,yi={fluid:`opacity ${Rn}`,snap:`transform ${Rn}, opacity ${Rn}`,drop:e=>{const t=`${e}s ${ku.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Rn}`,placeholder:`height ${Rn}, width ${Rn}, margin ${Rn}`},zh=e=>bn(e,We)?void 0:`translate(${e.x}px, ${e.y}px)`,oc={moveTo:zh,drop:(e,t)=>{const n=zh(e);if(n)return t?`${n} scale(${Ui.scale.drop})`:n}},{minDropTime:sc,maxDropTime:Mg}=Ig,nS=Mg-sc,Wh=1500,rS=.6;var iS=({current:e,destination:t,reason:n})=>{const o=Vi(e,t);if(o<=0)return sc;if(o>=Wh)return Mg;const h=o/Wh,g=sc+nS*h,y=n==="CANCEL"?g*rS:g;return Number(y.toFixed(2))},oS=({impact:e,draggable:t,dimensions:n,viewport:o,afterCritical:h})=>{const{draggables:g,droppables:y}=n,c=yt(e),r=c?y[c]:null,l=y[t.descriptor.droppableId],d=Eg({impact:e,draggable:t,draggables:g,afterCritical:h,droppable:r||l,viewport:o});return mt(d,t.client.borderBox.center)},sS=({draggables:e,reason:t,lastImpact:n,home:o,viewport:h,onLiftImpact:g})=>!n.at||t!=="DROP"?{impact:Tg({draggables:e,impact:g,destination:o,viewport:h,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:zi},didDropInsideDroppable:!0};const aS=({getState:e,dispatch:t})=>n=>o=>{if(o.type!=="DROP"){n(o);return}const h=e(),g=o.payload.reason;if(h.phase==="COLLECTING"){t(Jx({reason:g}));return}if(h.phase==="IDLE")return;h.phase==="DROP_PENDING"&&h.isWaiting&&oe(!1),h.phase==="DRAGGING"||h.phase==="DROP_PENDING"||oe(!1);const c=h.critical,r=h.dimensions,l=r.draggables[h.critical.draggable.id],{impact:d,didDropInsideDroppable:i}=sS({reason:g,lastImpact:h.impact,afterCritical:h.afterCritical,onLiftImpact:h.onLiftImpact,home:h.dimensions.droppables[h.critical.droppable.id],viewport:h.viewport,draggables:h.dimensions.draggables}),s=i?_u(d):null,a=i?aa(d):null,f={index:c.draggable.index,droppableId:c.droppable.id},p={draggableId:l.descriptor.id,type:l.descriptor.type,source:f,reason:g,mode:h.movementMode,destination:s,combine:a},u=oS({impact:d,draggable:l,dimensions:r,viewport:h.viewport,afterCritical:h.afterCritical}),m={critical:h.critical,afterCritical:h.afterCritical,result:p,impact:d};if(!(!bn(h.current.client.offset,u)||!!p.combine)){t(Ou({completed:m}));return}const C=iS({current:h.current.client.offset,destination:u,reason:g});t(Qx({newHomeClientOffset:u,dropDuration:C,completed:m}))};var lS=aS,Lg=()=>({x:window.pageXOffset,y:window.pageYOffset});function cS(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function uS({onWindowScroll:e}){function t(){e(Lg())}const n=Hi(t),o=cS(n);let h=Sn;function g(){return h!==Sn}function y(){g()&&oe(!1),h=kt(window,[o])}function c(){g()||oe(!1),n.cancel(),h(),h=Sn}return{start:y,stop:c,isActive:g}}const fS=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH",hS=e=>{const t=uS({onWindowScroll:n=>{e.dispatch($x({newScroll:n}))}});return n=>o=>{!t.isActive()&&o.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&fS(o)&&t.stop(),n(o)}};var dS=hS,pS=e=>{let t=!1,n=!1;const o=setTimeout(()=>{n=!0}),h=g=>{t||n||(t=!0,e(g),clearTimeout(o))};return h.wasCalled=()=>t,h},gS=()=>{const e=[],t=h=>{const g=e.findIndex(c=>c.timerId===h);g===-1&&oe(!1);const[y]=e.splice(g,1);y.callback()};return{add:h=>{const g=setTimeout(()=>t(g)),y={timerId:g,callback:h};e.push(y)},flush:()=>{if(!e.length)return;const h=[...e];e.length=0,h.forEach(g=>{clearTimeout(g.timerId),g.callback()})}}};const mS=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,vS=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,yS=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,o=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&o},Jr=(e,t)=>{t()},So=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Ja(e,t,n,o){if(!e){n(o(t));return}const h=pS(n);e(t,{announce:h}),h.wasCalled()||n(o(t))}var CS=(e,t)=>{const n=gS();let o=null;const h=(i,s)=>{o&&oe(!1),Jr("onBeforeCapture",()=>{const a=e().onBeforeCapture;a&&a({draggableId:i,mode:s})})},g=(i,s)=>{o&&oe(!1),Jr("onBeforeDragStart",()=>{const a=e().onBeforeDragStart;a&&a(So(i,s))})},y=(i,s)=>{o&&oe(!1);const a=So(i,s);o={mode:s,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add(()=>{Jr("onDragStart",()=>Ja(e().onDragStart,a,t,Bo.onDragStart))})},c=(i,s)=>{const a=_u(s),f=aa(s);o||oe(!1);const p=!yS(i,o.lastCritical);p&&(o.lastCritical=i);const u=!mS(o.lastLocation,a);u&&(o.lastLocation=a);const m=!vS(o.lastCombine,f);if(m&&(o.lastCombine=f),!p&&!u&&!m)return;const v={...So(i,o.mode),combine:f,destination:a};n.add(()=>{Jr("onDragUpdate",()=>Ja(e().onDragUpdate,v,t,Bo.onDragUpdate))})},r=()=>{o||oe(!1),n.flush()},l=i=>{o||oe(!1),o=null,Jr("onDragEnd",()=>Ja(e().onDragEnd,i,t,Bo.onDragEnd))};return{beforeCapture:h,beforeStart:g,start:y,update:c,flush:r,drop:l,abort:()=>{if(!o)return;const i={...So(o.lastCritical,o.mode),combine:null,destination:null,reason:"CANCEL"};l(i)}}},_S=(e,t)=>{const n=CS(e,t);return o=>h=>g=>{if(g.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(g.payload.draggableId,g.payload.movementMode);return}if(g.type==="INITIAL_PUBLISH"){const c=g.payload.critical;n.beforeStart(c,g.payload.movementMode),h(g),n.start(c,g.payload.movementMode);return}if(g.type==="DROP_COMPLETE"){const c=g.payload.completed.result;n.flush(),h(g),n.drop(c);return}if(h(g),g.type==="FLUSH"){n.abort();return}const y=o.getState();y.phase==="DRAGGING"&&n.update(y.critical,y.impact)}};const wS=e=>t=>n=>{if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}const o=e.getState();o.phase!=="DROP_ANIMATING"&&oe(!1),e.dispatch(Ou({completed:o.completed}))};var xS=wS;const SS=e=>{let t=null,n=null;function o(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return h=>g=>{if((g.type==="FLUSH"||g.type==="DROP_COMPLETE"||g.type==="DROP_ANIMATION_FINISHED")&&o(),h(g),g.type!=="DROP_ANIMATE")return;const y={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Ag())}};n=requestAnimationFrame(()=>{n=null,t=kt(window,[y])})}};var bS=SS,TS=e=>()=>t=>n=>{(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)},ES=e=>{let t=!1;return()=>n=>o=>{if(o.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(o.payload.critical.draggable.id),n(o),e.tryRestoreFocusRecorded();return}if(n(o),!!t){if(o.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(o.type==="DROP_COMPLETE"){t=!1;const h=o.payload.completed.result;h.combine&&e.tryShiftRecord(h.draggableId,h.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const OS=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH";var kS=e=>t=>n=>o=>{if(OS(o)){e.stop(),n(o);return}if(o.type==="INITIAL_PUBLISH"){n(o);const h=t.getState();h.phase!=="DRAGGING"&&oe(!1),e.start(h);return}n(o),e.scroll(t.getState())};const DS=e=>t=>n=>{if(t(n),n.type!=="PUBLISH_WHILE_DRAGGING")return;const o=e.getState();o.phase==="DROP_PENDING"&&(o.isWaiting||e.dispatch(Pg({reason:o.reason})))};var PS=DS;const AS=Hp;var IS=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:o,announce:h,autoScroller:g})=>Np(jx,AS(f_(tS(n),TS(e),eS(e),lS,xS,bS,PS,kS(g),dS,ES(t),_S(o,h))));const el=()=>({additions:{},removals:{},modified:{}});function MS({registry:e,callbacks:t}){let n=el(),o=null;const h=()=>{o||(t.collectionStarting(),o=requestAnimationFrame(()=>{o=null;const{additions:r,removals:l,modified:d}=n,i=Object.keys(r).map(f=>e.draggable.getById(f).getDimension(We)).sort((f,p)=>f.descriptor.index-p.descriptor.index),s=Object.keys(d).map(f=>{const u=e.droppable.getById(f).callbacks.getScrollWhileDragging();return{droppableId:f,scroll:u}}),a={additions:i,removals:Object.keys(l),modified:s};n=el(),t.publish(a)}))};return{add:r=>{const l=r.descriptor.id;n.additions[l]=r,n.modified[r.descriptor.droppableId]=!0,n.removals[l]&&delete n.removals[l],h()},remove:r=>{const l=r.descriptor;n.removals[l.id]=!0,n.modified[l.droppableId]=!0,n.additions[l.id]&&delete n.additions[l.id],h()},stop:()=>{o&&(cancelAnimationFrame(o),o=null,n=el())}}}var Rg=({scrollHeight:e,scrollWidth:t,height:n,width:o})=>{const h=mt({x:t,y:e},{x:o,y:n});return{x:Math.max(0,h.x),y:Math.max(0,h.y)}},Fg=()=>{const e=document.documentElement;return e||oe(!1),e},jg=()=>{const e=Fg();return Rg({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},LS=()=>{const e=Lg(),t=jg(),n=e.y,o=e.x,h=Fg(),g=h.clientWidth,y=h.clientHeight,c=o+g,r=n+y;return{frame:Bt({top:n,left:o,right:c,bottom:r}),scroll:{initial:e,current:e,max:t,diff:{value:We,displacement:We}}}},RS=({critical:e,scrollOptions:t,registry:n})=>{const o=LS(),h=o.scroll.current,g=e.droppable,y=n.droppable.getAllByType(g.type).map(d=>d.callbacks.getDimensionAndWatchScroll(h,t)),c=n.draggable.getAllByType(e.draggable.type).map(d=>d.getDimension(h));return{dimensions:{draggables:fg(c),droppables:ug(y)},critical:e,viewport:o}};function Uh(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var FS=(e,t)=>{let n=null;const o=MS({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),h=(s,a)=>{e.droppable.exists(s)||oe(!1),n&&t.updateDroppableIsEnabled({id:s,isEnabled:a})},g=(s,a)=>{n&&(e.droppable.exists(s)||oe(!1),t.updateDroppableIsCombineEnabled({id:s,isCombineEnabled:a}))},y=(s,a)=>{n&&(e.droppable.exists(s)||oe(!1),t.updateDroppableScroll({id:s,newScroll:a}))},c=(s,a)=>{n&&e.droppable.getById(s).callbacks.scroll(a)},r=()=>{if(!n)return;o.stop();const s=n.critical.droppable;e.droppable.getAllByType(s.type).forEach(a=>a.callbacks.dragStopped()),n.unsubscribe(),n=null},l=s=>{n||oe(!1);const a=n.critical.draggable;s.type==="ADDITION"&&Uh(e,a,s.value)&&o.add(s.value),s.type==="REMOVAL"&&Uh(e,a,s.value)&&o.remove(s.value)};return{updateDroppableIsEnabled:h,updateDroppableIsCombineEnabled:g,scrollDroppable:c,updateDroppableScroll:y,startPublishing:s=>{n&&oe(!1);const a=e.draggable.getById(s.draggableId),f=e.droppable.getById(a.descriptor.droppableId),p={draggable:a.descriptor,droppable:f.descriptor},u=e.subscribe(l);return n={critical:p,unsubscribe:u},RS({critical:p,registry:e,scrollOptions:s.scrollOptions})},stopPublishing:r}},Bg=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",jS=e=>{window.scrollBy(e.x,e.y)};const BS=ze(e=>sa(e).filter(t=>!(!t.isEnabled||!t.frame))),NS=(e,t)=>BS(t).find(o=>(o.frame||oe(!1),wg(o.frame.pageMarginBox)(e)))||null;var HS=({center:e,destination:t,droppables:n})=>{if(t){const h=n[t];return h.frame?h:null}return NS(e,n)};const Gi={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var VS=(e,t,n=()=>Gi)=>{const o=n(),h=e[t.size]*o.startFromPercentage,g=e[t.size]*o.maxScrollAtPercentage;return{startScrollingFrom:h,maxScrollValueAt:g}},Ng=({startOfRange:e,endOfRange:t,current:n})=>{const o=t-e;return o===0?0:(n-e)/o},Du=1,zS=(e,t,n=()=>Gi)=>{const o=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return o.maxPixelScroll;if(e===t.startScrollingFrom)return Du;const g=1-Ng({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),y=o.maxPixelScroll*o.ease(g);return Math.ceil(y)},WS=(e,t,n)=>{const o=n(),h=o.durationDampening.accelerateAt,g=o.durationDampening.stopDampeningAt,y=t,c=g,l=Date.now()-y;if(l>=g)return e;if(l<h)return Du;const d=Ng({startOfRange:h,endOfRange:c,current:l}),i=e*o.ease(d);return Math.ceil(i)},Gh=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:h})=>{const g=zS(e,t,h);return g===0?0:o?Math.max(WS(g,n,h),Du):g},$h=({container:e,distanceToEdges:t,dragStartTime:n,axis:o,shouldUseTimeDampening:h,getAutoScrollerOptions:g})=>{const y=VS(e,o,g);return t[o.end]<t[o.start]?Gh({distanceToEdge:t[o.end],thresholds:y,dragStartTime:n,shouldUseTimeDampening:h,getAutoScrollerOptions:g}):-1*Gh({distanceToEdge:t[o.start],thresholds:y,dragStartTime:n,shouldUseTimeDampening:h,getAutoScrollerOptions:g})},US=({container:e,subject:t,proposedScroll:n})=>{const o=t.height>e.height,h=t.width>e.width;return!h&&!o?n:h&&o?null:{x:h?0:n.x,y:o?0:n.y}};const GS=cg(e=>e===0?0:e);var Hg=({dragStartTime:e,container:t,subject:n,center:o,shouldUseTimeDampening:h,getAutoScrollerOptions:g})=>{const y={top:o.y-t.top,right:t.right-o.x,bottom:t.bottom-o.y,left:o.x-t.left},c=$h({container:t,distanceToEdges:y,dragStartTime:e,axis:wu,shouldUseTimeDampening:h,getAutoScrollerOptions:g}),r=$h({container:t,distanceToEdges:y,dragStartTime:e,axis:pg,shouldUseTimeDampening:h,getAutoScrollerOptions:g}),l=GS({x:r,y:c});if(bn(l,We))return null;const d=US({container:t,subject:n,proposedScroll:l});return d?bn(d,We)?null:d:null};const $S=cg(e=>e===0?0:e>0?1:-1),Pu=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:o})=>{const h=Ye(t,o),g={x:e(h.x,n.x),y:e(h.y,n.y)};return bn(g,We)?null:g}})(),Vg=({max:e,current:t,change:n})=>{const o={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},h=$S(n),g=Pu({max:o,current:t,change:h});return!g||h.x!==0&&g.x===0||h.y!==0&&g.y===0},Au=(e,t)=>Vg({current:e.scroll.current,max:e.scroll.max,change:t}),XS=(e,t)=>{if(!Au(e,t))return null;const n=e.scroll.max,o=e.scroll.current;return Pu({current:o,max:n,change:t})},Iu=(e,t)=>{const n=e.frame;return n?Vg({current:n.scroll.current,max:n.scroll.max,change:t}):!1},YS=(e,t)=>{const n=e.frame;return!n||!Iu(e,t)?null:Pu({current:n.scroll.current,max:n.scroll.max,change:t})};var qS=({viewport:e,subject:t,center:n,dragStartTime:o,shouldUseTimeDampening:h,getAutoScrollerOptions:g})=>{const y=Hg({dragStartTime:o,container:e.frame,subject:t,center:n,shouldUseTimeDampening:h,getAutoScrollerOptions:g});return y&&Au(e,y)?y:null},KS=({droppable:e,subject:t,center:n,dragStartTime:o,shouldUseTimeDampening:h,getAutoScrollerOptions:g})=>{const y=e.frame;if(!y)return null;const c=Hg({dragStartTime:o,container:y.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:h,getAutoScrollerOptions:g});return c&&Iu(e,c)?c:null},Xh=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:o,scrollDroppable:h,getAutoScrollerOptions:g})=>{const y=e.current.page.borderBoxCenter,r=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const i=e.viewport,s=qS({dragStartTime:t,viewport:i,subject:r,center:y,shouldUseTimeDampening:n,getAutoScrollerOptions:g});if(s){o(s);return}}const l=HS({center:y,destination:yt(e.impact),droppables:e.dimensions.droppables});if(!l)return;const d=KS({dragStartTime:t,droppable:l,subject:r,center:y,shouldUseTimeDampening:n,getAutoScrollerOptions:g});d&&h(l.descriptor.id,d)},ZS=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Gi})=>{const o=Hi(e),h=Hi(t);let g=null;const y=l=>{g||oe(!1);const{shouldUseTimeDampening:d,dragStartTime:i}=g;Xh({state:l,scrollWindow:o,scrollDroppable:h,dragStartTime:i,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:l=>{g&&oe(!1);const d=Date.now();let i=!1;const s=()=>{i=!0};Xh({state:l,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:s,scrollDroppable:s,getAutoScrollerOptions:n}),g={dragStartTime:d,shouldUseTimeDampening:i},i&&y(l)},stop:()=>{g&&(o.cancel(),h.cancel(),g=null)},scroll:y}},QS=({move:e,scrollDroppable:t,scrollWindow:n})=>{const o=(c,r)=>{const l=Ye(c.current.client.selection,r);e({client:l})},h=(c,r)=>{if(!Iu(c,r))return r;const l=YS(c,r);if(!l)return t(c.descriptor.id,r),null;const d=mt(r,l);return t(c.descriptor.id,d),mt(r,d)},g=(c,r,l)=>{if(!c||!Au(r,l))return l;const d=XS(r,l);if(!d)return n(l),null;const i=mt(l,d);return n(i),mt(l,i)};return c=>{const r=c.scrollJumpRequest;if(!r)return;const l=yt(c.impact);l||oe(!1);const d=h(c.dimensions.droppables[l],r);if(!d)return;const i=c.viewport,s=g(c.isWindowScrollAllowed,i,d);s&&o(c,s)}},JS=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:o})=>{const h=ZS({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:o}),g=QS({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:r=>{if(!(o().disabled||r.phase!=="DRAGGING")){if(r.movementMode==="FLUID"){h.scroll(r);return}r.scrollJumpRequest&&g(r)}},start:h.start,stop:h.stop}};const Pr="data-rfd",Ar=(()=>{const e=`${Pr}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),ac=(()=>{const e=`${Pr}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),eb=(()=>{const e=`${Pr}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Yh={contextId:`${Pr}-scroll-container-context-id`},tb=e=>t=>`[${t}="${e}"]`,ei=(e,t)=>e.map(n=>{const o=n.styles[t];return o?`${n.selector} { ${o} }`:""}).join(" "),nb="pointer-events: none;";var rb=e=>{const t=tb(e),n=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Ar.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:nb,dropAnimating:c}}})(),o=(()=>{const c=`
      transition: ${yi.outOfTheWay};
    `;return{selector:t(ac.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),h={selector:t(eb.contextId),styles:{always:"overflow-anchor: none;"}},y=[o,n,h,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ei(y,"always"),resting:ei(y,"resting"),dragging:ei(y,"dragging"),dropAnimating:ei(y,"dropAnimating"),userCancel:ei(y,"userCancel")}};const ib=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?$.useLayoutEffect:$.useEffect;var Ct=ib;const tl=()=>{const e=document.querySelector("head");return e||oe(!1),e},qh=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function ob(e,t){const n=ge(()=>rb(e),[e]),o=$.useRef(null),h=$.useRef(null),g=ce(ze(i=>{const s=h.current;s||oe(!1),s.textContent=i}),[]),y=ce(i=>{const s=o.current;s||oe(!1),s.textContent=i},[]);Ct(()=>{!o.current&&!h.current||oe(!1);const i=qh(t),s=qh(t);return o.current=i,h.current=s,i.setAttribute(`${Pr}-always`,e),s.setAttribute(`${Pr}-dynamic`,e),tl().appendChild(i),tl().appendChild(s),y(n.always),g(n.resting),()=>{const a=f=>{const p=f.current;p||oe(!1),tl().removeChild(p),f.current=null};a(o),a(h)}},[t,y,g,n.always,n.resting,e]);const c=ce(()=>g(n.dragging),[g,n.dragging]),r=ce(i=>{if(i==="DROP"){g(n.dropAnimating);return}g(n.userCancel)},[g,n.dropAnimating,n.userCancel]),l=ce(()=>{h.current&&g(n.resting)},[g,n.resting]);return ge(()=>({dragging:c,dropping:r,resting:l}),[c,r,l])}function zg(e,t){return Array.from(e.querySelectorAll(t))}var Wg=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function ua(e){return e instanceof Wg(e).HTMLElement}function sb(e,t){const n=`[${Ar.contextId}="${e}"]`,o=zg(document,n);if(!o.length)return null;const h=o.find(g=>g.getAttribute(Ar.draggableId)===t);return!h||!ua(h)?null:h}function ab(e){const t=$.useRef({}),n=$.useRef(null),o=$.useRef(null),h=$.useRef(!1),g=ce(function(s,a){const f={id:s,focus:a};return t.current[s]=f,function(){const u=t.current;u[s]!==f&&delete u[s]}},[]),y=ce(function(s){const a=sb(e,s);a&&a!==document.activeElement&&a.focus()},[e]),c=ce(function(s,a){n.current===s&&(n.current=a)},[]),r=ce(function(){o.current||h.current&&(o.current=requestAnimationFrame(()=>{o.current=null;const s=n.current;s&&y(s)}))},[y]),l=ce(function(s){n.current=null;const a=document.activeElement;a&&a.getAttribute(Ar.draggableId)===s&&(n.current=s)},[]);return Ct(()=>(h.current=!0,function(){h.current=!1;const s=o.current;s&&cancelAnimationFrame(s)}),[]),ge(()=>({register:g,tryRecordFocus:l,tryRestoreFocusRecorded:r,tryShiftRecord:c}),[g,l,r,c])}function lb(){const e={draggables:{},droppables:{}},t=[];function n(i){return t.push(i),function(){const a=t.indexOf(i);a!==-1&&t.splice(a,1)}}function o(i){t.length&&t.forEach(s=>s(i))}function h(i){return e.draggables[i]||null}function g(i){const s=h(i);return s||oe(!1),s}const y={register:i=>{e.draggables[i.descriptor.id]=i,o({type:"ADDITION",value:i})},update:(i,s)=>{const a=e.draggables[s.descriptor.id];a&&a.uniqueId===i.uniqueId&&(delete e.draggables[s.descriptor.id],e.draggables[i.descriptor.id]=i)},unregister:i=>{const s=i.descriptor.id,a=h(s);a&&i.uniqueId===a.uniqueId&&(delete e.draggables[s],e.droppables[i.descriptor.droppableId]&&o({type:"REMOVAL",value:i}))},getById:g,findById:h,exists:i=>!!h(i),getAllByType:i=>Object.values(e.draggables).filter(s=>s.descriptor.type===i)};function c(i){return e.droppables[i]||null}function r(i){const s=c(i);return s||oe(!1),s}const l={register:i=>{e.droppables[i.descriptor.id]=i},unregister:i=>{const s=c(i.descriptor.id);s&&i.uniqueId===s.uniqueId&&delete e.droppables[i.descriptor.id]},getById:r,findById:c,exists:i=>!!c(i),getAllByType:i=>Object.values(e.droppables).filter(s=>s.descriptor.type===i)};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:y,droppable:l,subscribe:n,clean:d}}function cb(){const e=ge(lb,[]);return $.useEffect(()=>function(){fe.version.startsWith("16")||fe.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()},[e]),e}var Mu=fe.createContext(null),ys=()=>{const e=document.body;return e||oe(!1),e};const ub={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var fb=ub;const hb=e=>`rfd-announcement-${e}`;function db(e){const t=ge(()=>hb(e),[e]),n=$.useRef(null);return $.useEffect(function(){const g=document.createElement("div");return n.current=g,g.id=t,g.setAttribute("aria-live","assertive"),g.setAttribute("aria-atomic","true"),xn(g.style,fb),ys().appendChild(g),function(){setTimeout(function(){const r=ys();r.contains(g)&&r.removeChild(g),g===n.current&&(n.current=null)})}},[t]),ce(h=>{const g=n.current;if(g){g.textContent=h;return}},[])}let pb=0;const Ug={separator:"::"};function gb(e,t=Ug){return ge(()=>`${e}${t.separator}${pb++}`,[t.separator,e])}function mb(e,t=Ug){const n=fe.useId();return ge(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}var Lu="useId"in fe?mb:gb;function vb({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function yb({contextId:e,text:t}){const n=Lu("hidden-text",{separator:"-"}),o=ge(()=>vb({contextId:e,uniqueId:n}),[n,e]);return $.useEffect(function(){const g=document.createElement("div");return g.id=o,g.textContent=t,g.style.display="none",ys().appendChild(g),function(){const c=ys();c.contains(g)&&c.removeChild(g)}},[o,t]),o}var fa=fe.createContext(null);function Gg(e){const t=$.useRef(e);return $.useEffect(()=>{t.current=e}),t}function Cb(){let e=null;function t(){return!!e}function n(y){return y===e}function o(y){e&&oe(!1);const c={abandon:y};return e=c,c}function h(){e||oe(!1),e=null}function g(){e&&(e.abandon(),h())}return{isClaimed:t,isActive:n,claim:o,release:h,tryAbandon:g}}function $i(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const _b=9,wb=13,Ru=27,$g=32,xb=33,Sb=34,bb=35,Tb=36,Eb=37,Ob=38,kb=39,Db=40,Pb={[wb]:!0,[_b]:!0};var Xg=e=>{Pb[e.keyCode]&&e.preventDefault()};const Ab=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(o=>`on${o}`in document)||e})();var ha=Ab;const Yg=0,Kh=5;function Ib(e,t){return Math.abs(t.x-e.x)>=Kh||Math.abs(t.y-e.y)>=Kh}const Zh={type:"IDLE"};function Mb({cancel:e,completed:t,getPhase:n,setPhase:o}){return[{eventName:"mousemove",fn:h=>{const{button:g,clientX:y,clientY:c}=h;if(g!==Yg)return;const r={x:y,y:c},l=n();if(l.type==="DRAGGING"){h.preventDefault(),l.actions.move(r);return}l.type!=="PENDING"&&oe(!1);const d=l.point;if(!Ib(d,r))return;h.preventDefault();const i=l.actions.fluidLift(r);o({type:"DRAGGING",actions:i})}},{eventName:"mouseup",fn:h=>{const g=n();if(g.type!=="DRAGGING"){e();return}h.preventDefault(),g.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:h=>{n().type==="DRAGGING"&&h.preventDefault(),e()}},{eventName:"keydown",fn:h=>{if(n().type==="PENDING"){e();return}if(h.keyCode===Ru){h.preventDefault(),e();return}Xg(h)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:h=>{const g=n();if(g.type==="IDLE"&&oe(!1),g.actions.shouldRespectForcePress()){e();return}h.preventDefault()}},{eventName:ha,fn:e}]}function Lb(e){const t=$.useRef(Zh),n=$.useRef(Sn),o=ge(()=>({eventName:"mousedown",fn:function(i){if(i.defaultPrevented||i.button!==Yg||i.ctrlKey||i.metaKey||i.shiftKey||i.altKey)return;const s=e.findClosestDraggableId(i);if(!s)return;const a=e.tryGetLock(s,y,{sourceEvent:i});if(!a)return;i.preventDefault();const f={x:i.clientX,y:i.clientY};n.current(),l(a,f)}}),[e]),h=ge(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const i=e.findClosestDraggableId(d);if(!i)return;const s=e.findOptionsForDraggable(i);s&&(s.shouldRespectForcePress||e.canGetLock(i)&&d.preventDefault())}}),[e]),g=ce(function(){const i={passive:!1,capture:!0};n.current=kt(window,[h,o],i)},[h,o]),y=ce(()=>{t.current.type!=="IDLE"&&(t.current=Zh,n.current(),g())},[g]),c=ce(()=>{const d=t.current;y(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[y]),r=ce(function(){const i={capture:!0,passive:!1},s=Mb({cancel:c,completed:y,getPhase:()=>t.current,setPhase:a=>{t.current=a}});n.current=kt(window,s,i)},[c,y]),l=ce(function(i,s){t.current.type!=="IDLE"&&oe(!1),t.current={type:"PENDING",point:s,actions:i},r()},[r]);Ct(function(){return g(),function(){n.current()}},[g])}function Rb(){}const Fb={[Sb]:!0,[xb]:!0,[Tb]:!0,[bb]:!0};function jb(e,t){function n(){t(),e.cancel()}function o(){t(),e.drop()}return[{eventName:"keydown",fn:h=>{if(h.keyCode===Ru){h.preventDefault(),n();return}if(h.keyCode===$g){h.preventDefault(),o();return}if(h.keyCode===Db){h.preventDefault(),e.moveDown();return}if(h.keyCode===Ob){h.preventDefault(),e.moveUp();return}if(h.keyCode===kb){h.preventDefault(),e.moveRight();return}if(h.keyCode===Eb){h.preventDefault(),e.moveLeft();return}if(Fb[h.keyCode]){h.preventDefault();return}Xg(h)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ha,fn:n}]}function Bb(e){const t=$.useRef(Rb),n=ge(()=>({eventName:"keydown",fn:function(g){if(g.defaultPrevented||g.keyCode!==$g)return;const y=e.findClosestDraggableId(g);if(!y)return;const c=e.tryGetLock(y,d,{sourceEvent:g});if(!c)return;g.preventDefault();let r=!0;const l=c.snapLift();t.current();function d(){r||oe(!1),r=!1,t.current(),o()}t.current=kt(window,jb(l,d),{capture:!0,passive:!1})}}),[e]),o=ce(function(){const g={passive:!1,capture:!0};t.current=kt(window,[n],g)},[n]);Ct(function(){return o(),function(){t.current()}},[o])}const nl={type:"IDLE"},Nb=120,Hb=.15;function Vb({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Ru&&n.preventDefault(),e()}},{eventName:ha,fn:e}]}function zb({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:o=>{const h=n();if(h.type!=="DRAGGING"){e();return}h.hasMoved=!0;const{clientX:g,clientY:y}=o.touches[0],c={x:g,y};o.preventDefault(),h.actions.move(c)}},{eventName:"touchend",fn:o=>{const h=n();if(h.type!=="DRAGGING"){e();return}o.preventDefault(),h.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:o=>{if(n().type!=="DRAGGING"){e();return}o.preventDefault(),e()}},{eventName:"touchforcechange",fn:o=>{const h=n();h.type==="IDLE"&&oe(!1);const g=o.touches[0];if(!g||!(g.force>=Hb))return;const c=h.actions.shouldRespectForcePress();if(h.type==="PENDING"){c&&e();return}if(c){if(h.hasMoved){o.preventDefault();return}e();return}o.preventDefault()}},{eventName:ha,fn:e}]}function Wb(e){const t=$.useRef(nl),n=$.useRef(Sn),o=ce(function(){return t.current},[]),h=ce(function(a){t.current=a},[]),g=ge(()=>({eventName:"touchstart",fn:function(a){if(a.defaultPrevented)return;const f=e.findClosestDraggableId(a);if(!f)return;const p=e.tryGetLock(f,c,{sourceEvent:a});if(!p)return;const u=a.touches[0],{clientX:m,clientY:v}=u,C={x:m,y:v};n.current(),i(p,C)}}),[e]),y=ce(function(){const a={capture:!0,passive:!1};n.current=kt(window,[g],a)},[g]),c=ce(()=>{const s=t.current;s.type!=="IDLE"&&(s.type==="PENDING"&&clearTimeout(s.longPressTimerId),h(nl),n.current(),y())},[y,h]),r=ce(()=>{const s=t.current;c(),s.type==="DRAGGING"&&s.actions.cancel({shouldBlockNextClick:!0}),s.type==="PENDING"&&s.actions.abort()},[c]),l=ce(function(){const a={capture:!0,passive:!1},f={cancel:r,completed:c,getPhase:o},p=kt(window,zb(f),a),u=kt(window,Vb(f),a);n.current=function(){p(),u()}},[r,o,c]),d=ce(function(){const a=o();a.type!=="PENDING"&&oe(!1);const f=a.actions.fluidLift(a.point);h({type:"DRAGGING",actions:f,hasMoved:!1})},[o,h]),i=ce(function(a,f){o().type!=="IDLE"&&oe(!1);const p=setTimeout(d,Nb);h({type:"PENDING",point:f,actions:a,longPressTimerId:p}),l()},[l,o,h,d]);Ct(function(){return y(),function(){n.current();const f=o();f.type==="PENDING"&&(clearTimeout(f.longPressTimerId),h(nl))}},[o,y,h]),Ct(function(){return kt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Ub=["input","button","textarea","select","option","optgroup","video","audio"];function qg(e,t){if(t==null)return!1;if(Ub.includes(t.tagName.toLowerCase()))return!0;const o=t.getAttribute("contenteditable");return o==="true"||o===""?!0:t===e?!1:qg(e,t.parentElement)}function Gb(e,t){const n=t.target;return ua(n)?qg(e,n):!1}var $b=e=>Bt(e.getBoundingClientRect()).center;function Xb(e){return e instanceof Wg(e).Element}const Yb=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(o=>o in Element.prototype)||e})();function Kg(e,t){return e==null?null:e[Yb](t)?e:Kg(e.parentElement,t)}function qb(e,t){return e.closest?e.closest(t):Kg(e,t)}function Kb(e){return`[${Ar.contextId}="${e}"]`}function Zb(e,t){const n=t.target;if(!Xb(n))return null;const o=Kb(e),h=qb(n,o);return!h||!ua(h)?null:h}function Qb(e,t){const n=Zb(e,t);return n?n.getAttribute(Ar.draggableId):null}function Jb(e,t){const n=`[${ac.contextId}="${e}"]`,h=zg(document,n).find(g=>g.getAttribute(ac.id)===t);return!h||!ua(h)?null:h}function e5(e){e.preventDefault()}function bo({expected:e,phase:t,isLockActive:n,shouldWarn:o}){return!(!n()||e!==t)}function Zg({lockAPI:e,store:t,registry:n,draggableId:o}){if(e.isClaimed())return!1;const h=n.draggable.findById(o);return!(!h||!h.options.isEnabled||!Bg(t.getState(),o))}function t5({lockAPI:e,contextId:t,store:n,registry:o,draggableId:h,forceSensorStop:g,sourceEvent:y}){if(!Zg({lockAPI:e,store:n,registry:o,draggableId:h}))return null;const r=o.draggable.getById(h),l=Jb(t,r.descriptor.id);if(!l||y&&!r.options.canDragInteractiveElements&&Gb(l,y))return null;const d=e.claim(g||Sn);let i="PRE_DRAG";function s(){return r.options.shouldRespectForcePress}function a(){return e.isActive(d)}function f(w,x){bo({expected:w,phase:i,isLockActive:a,shouldWarn:!0})&&n.dispatch(x())}const p=f.bind(null,"DRAGGING");function u(w){function x(){e.release(),i="COMPLETED"}i!=="PRE_DRAG"&&(x(),oe(!1)),n.dispatch(Nx(w.liftActionArgs)),i="DRAGGING";function T(S,A={shouldBlockNextClick:!1}){if(w.cleanup(),A.shouldBlockNextClick){const I=kt(window,[{eventName:"click",fn:e5,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(I)}x(),n.dispatch(Pg({reason:S}))}return{isActive:()=>bo({expected:"DRAGGING",phase:i,isLockActive:a,shouldWarn:!1}),shouldRespectForcePress:s,drop:S=>T("DROP",S),cancel:S=>T("CANCEL",S),...w.actions}}function m(w){const x=Hi(S=>{p(()=>Dg({client:S}))});return{...u({liftActionArgs:{id:h,clientSelection:w,movementMode:"FLUID"},cleanup:()=>x.cancel(),actions:{move:x}}),move:x}}function v(){const w={moveUp:()=>p(Yx),moveRight:()=>p(Kx),moveDown:()=>p(qx),moveLeft:()=>p(Zx)};return u({liftActionArgs:{id:h,clientSelection:$b(l),movementMode:"SNAP"},cleanup:Sn,actions:w})}function C(){bo({expected:"PRE_DRAG",phase:i,isLockActive:a,shouldWarn:!0})&&e.release()}return{isActive:()=>bo({expected:"PRE_DRAG",phase:i,isLockActive:a,shouldWarn:!1}),shouldRespectForcePress:s,fluidLift:m,snapLift:v,abort:C}}const n5=[Lb,Bb,Wb];function r5({contextId:e,store:t,registry:n,customSensors:o,enableDefaultSensors:h}){const g=[...h?n5:[],...o||[]],y=$.useState(()=>Cb())[0],c=ce(function(u,m){$i(u)&&!$i(m)&&y.tryAbandon()},[y]);Ct(function(){let u=t.getState();return t.subscribe(()=>{const v=t.getState();c(u,v),u=v})},[y,t,c]),Ct(()=>y.tryAbandon,[y.tryAbandon]);const r=ce(p=>Zg({lockAPI:y,registry:n,store:t,draggableId:p}),[y,n,t]),l=ce((p,u,m)=>t5({lockAPI:y,registry:n,contextId:e,store:t,draggableId:p,forceSensorStop:u||null,sourceEvent:m&&m.sourceEvent?m.sourceEvent:null}),[e,y,n,t]),d=ce(p=>Qb(e,p),[e]),i=ce(p=>{const u=n.draggable.findById(p);return u?u.options:null},[n.draggable]),s=ce(function(){y.isClaimed()&&(y.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Eu()))},[y,t]),a=ce(()=>y.isClaimed(),[y]),f=ge(()=>({canGetLock:r,tryGetLock:l,findClosestDraggableId:d,findOptionsForDraggable:i,tryReleaseLock:s,isLockClaimed:a}),[r,l,d,i,s,a]);for(let p=0;p<g.length;p++)g[p](f)}const i5=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};fe.version.startsWith("16")||fe.version.startsWith("17")?n():Qn.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),o5=e=>({...Gi,...e.autoScrollerOptions,durationDampening:{...Gi.durationDampening,...e.autoScrollerOptions}});function ti(e){return e.current||oe(!1),e.current}function s5(e){const{contextId:t,setCallbacks:n,sensors:o,nonce:h,dragHandleUsageInstructions:g}=e,y=$.useRef(null),c=Gg(e),r=ce(()=>i5(c.current),[c]),l=ce(()=>o5(c.current),[c]),d=db(t),i=yb({contextId:t,text:g}),s=ob(t,h),a=ce(I=>{ti(y).dispatch(I)},[]),f=ge(()=>wh({publishWhileDragging:Vx,updateDroppableScroll:Wx,updateDroppableIsEnabled:Ux,updateDroppableIsCombineEnabled:Gx,collectionStarting:zx},a),[a]),p=cb(),u=ge(()=>FS(p,f),[p,f]),m=ge(()=>JS({scrollWindow:jS,scrollDroppable:u.scrollDroppable,getAutoScrollerOptions:l,...wh({move:Dg},a)}),[u.scrollDroppable,a,l]),v=ab(t),C=ge(()=>IS({announce:d,autoScroller:m,dimensionMarshal:u,focusMarshal:v,getResponders:r,styleMarshal:s}),[d,m,u,v,r,s]);y.current=C;const _=ce(()=>{const I=ti(y);I.getState().phase!=="IDLE"&&I.dispatch(Eu())},[]),w=ce(()=>{const I=ti(y).getState();return I.phase==="DROP_ANIMATING"?!0:I.phase==="IDLE"?!1:I.isDragging},[]),x=ge(()=>({isDragging:w,tryAbort:_}),[w,_]);n(x);const T=ce(I=>Bg(ti(y).getState(),I),[]),S=ce(()=>Bn(ti(y).getState()),[]),A=ge(()=>({marshal:u,focus:v,contextId:t,canLift:T,isMovementAllowed:S,dragHandleUsageInstructionsId:i,registry:p}),[t,u,i,v,T,S,p]);return r5({contextId:t,store:C,registry:p,customSensors:o||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),$.useEffect(()=>_,[_]),fe.createElement(fa.Provider,{value:A},fe.createElement(mw,{context:Mu,store:C},e.children))}let a5=0;function l5(){return ge(()=>`${a5++}`,[])}function c5(){return fe.useId()}var u5="useId"in fe?c5:l5;function f5(e){const t=u5(),n=e.dragHandleUsageInstructions||Bo.dragHandleUsageInstructions;return fe.createElement(Ow,null,o=>fe.createElement(s5,{nonce:e.nonce,contextId:t,setCallbacks:o,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const Qh={dragging:5e3,dropAnimating:4500},h5=(e,t)=>t?yi.drop(t.duration):e?yi.snap:yi.fluid,d5=(e,t)=>{if(e)return t?Ui.opacity.drop:Ui.opacity.combining},p5=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function g5(e){const n=e.dimension.client,{offset:o,combineWith:h,dropping:g}=e,y=!!h,c=p5(e),r=!!g,l=r?oc.drop(o,y):oc.moveTo(o);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:h5(c,g),transform:l,opacity:d5(y,r),zIndex:r?Qh.dropAnimating:Qh.dragging,pointerEvents:"none"}}function m5(e){return{transform:oc.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function v5(e){return e.type==="DRAGGING"?g5(e):m5(e)}function y5(e,t,n=We){const o=window.getComputedStyle(t),h=t.getBoundingClientRect(),g=ig(h,o),y=ps(g,n),c={client:g,tagName:t.tagName.toLowerCase(),display:o.display},r={x:g.marginBox.width,y:g.marginBox.height};return{descriptor:e,placeholder:c,displaceBy:r,client:g,page:y}}function C5(e){const t=Lu("draggable"),{descriptor:n,registry:o,getDraggableRef:h,canDragInteractiveElements:g,shouldRespectForcePress:y,isEnabled:c}=e,r=ge(()=>({canDragInteractiveElements:g,shouldRespectForcePress:y,isEnabled:c}),[g,c,y]),l=ce(a=>{const f=h();return f||oe(!1),y5(n,f,a)},[n,h]),d=ge(()=>({uniqueId:t,descriptor:n,options:r,getDimension:l}),[n,l,r,t]),i=$.useRef(d),s=$.useRef(!0);Ct(()=>(o.draggable.register(i.current),()=>o.draggable.unregister(i.current)),[o.draggable]),Ct(()=>{if(s.current){s.current=!1;return}const a=i.current;i.current=d,o.draggable.update(d,a)},[d,o.draggable])}var Fu=fe.createContext(null);function Cs(e){const t=$.useContext(e);return t||oe(!1),t}function _5(e){e.preventDefault()}const w5=e=>{const t=$.useRef(null),n=ce((x=null)=>{t.current=x},[]),o=ce(()=>t.current,[]),{contextId:h,dragHandleUsageInstructionsId:g,registry:y}=Cs(fa),{type:c,droppableId:r}=Cs(Fu),l=ge(()=>({id:e.draggableId,index:e.index,type:c,droppableId:r}),[e.draggableId,e.index,c,r]),{children:d,draggableId:i,isEnabled:s,shouldRespectForcePress:a,canDragInteractiveElements:f,isClone:p,mapped:u,dropAnimationFinished:m}=e;if(!p){const x=ge(()=>({descriptor:l,registry:y,getDraggableRef:o,canDragInteractiveElements:f,shouldRespectForcePress:a,isEnabled:s}),[l,y,o,f,a,s]);C5(x)}const v=ge(()=>s?{tabIndex:0,role:"button","aria-describedby":g,"data-rfd-drag-handle-draggable-id":i,"data-rfd-drag-handle-context-id":h,draggable:!1,onDragStart:_5}:null,[h,g,i,s]),C=ce(x=>{u.type==="DRAGGING"&&u.dropping&&x.propertyName==="transform"&&(fe.version.startsWith("16")||fe.version.startsWith("17")?m():Qn.flushSync(m))},[m,u]),_=ge(()=>{const x=v5(u),T=u.type==="DRAGGING"&&u.dropping?C:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":h,"data-rfd-draggable-id":i,style:x,onTransitionEnd:T},dragHandleProps:v}},[h,v,i,u,C,n]),w=ge(()=>({draggableId:l.id,type:l.type,source:{index:l.index,droppableId:l.droppableId}}),[l.droppableId,l.id,l.index,l.type]);return fe.createElement(fe.Fragment,null,d(_,u.snapshot,w))};var x5=w5,Qg=(e,t)=>e===t,Jg=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const S5=e=>e.combine?e.combine.draggableId:null,b5=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function T5(){const e=ze((h,g)=>({x:h,y:g})),t=ze((h,g,y=null,c=null,r=null)=>({isDragging:!0,isClone:g,isDropAnimating:!!r,dropAnimation:r,mode:h,draggingOver:y,combineWith:c,combineTargetFor:null})),n=ze((h,g,y,c,r=null,l=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:r,combineWith:l,mode:g,offset:h,dimension:y,forceShouldAnimate:d,snapshot:t(g,c,r,l,null)}}));return(h,g)=>{if($i(h)){if(h.critical.draggable.id!==g.draggableId)return null;const y=h.current.client.offset,c=h.dimensions.draggables[g.draggableId],r=yt(h.impact),l=b5(h.impact),d=h.forceShouldAnimate;return n(e(y.x,y.y),h.movementMode,c,g.isClone,r,l,d)}if(h.phase==="DROP_ANIMATING"){const y=h.completed;if(y.result.draggableId!==g.draggableId)return null;const c=g.isClone,r=h.dimensions.draggables[g.draggableId],l=y.result,d=l.mode,i=Jg(l),s=S5(l),f={duration:h.dropDuration,curve:ku.drop,moveTo:h.newHomeClientOffset,opacity:s?Ui.opacity.drop:null,scale:s?Ui.scale.drop:null};return{mapped:{type:"DRAGGING",offset:h.newHomeClientOffset,dimension:r,dropping:f,draggingOver:i,combineWith:s,mode:d,forceShouldAnimate:null,snapshot:t(d,c,i,s,f)}}}return null}}function e2(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const E5={mapped:{type:"SECONDARY",offset:We,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:e2(null)}};function O5(){const e=ze((y,c)=>({x:y,y:c})),t=ze(e2),n=ze((y,c=null,r)=>({mapped:{type:"SECONDARY",offset:y,combineTargetFor:c,shouldAnimateDisplacement:r,snapshot:t(c)}})),o=y=>y?n(We,y,!0):null,h=(y,c,r,l)=>{const d=r.displaced.visible[y],i=!!(l.inVirtualList&&l.effected[y]),s=aa(r),a=s&&s.draggableId===y?c:null;if(!d){if(!i)return o(a);if(r.displaced.invisible[y])return null;const u=Fr(l.displacedBy.point),m=e(u.x,u.y);return n(m,a,!0)}if(i)return o(a);const f=r.displacedBy.point,p=e(f.x,f.y);return n(p,a,d.shouldAnimate)};return(y,c)=>{if($i(y))return y.critical.draggable.id===c.draggableId?null:h(c.draggableId,y.critical.draggable.id,y.impact,y.afterCritical);if(y.phase==="DROP_ANIMATING"){const r=y.completed;return r.result.draggableId===c.draggableId?null:h(c.draggableId,r.result.draggableId,r.impact,r.afterCritical)}return null}}const k5=()=>{const e=T5(),t=O5();return(o,h)=>e(o,h)||t(o,h)||E5},D5={dropAnimationFinished:Ag},P5=ng(k5,D5,null,{context:Mu,areStatePropsEqual:Qg})(x5);var A5=P5;function t2(e){return Cs(Fu).isUsingCloneFor===e.draggableId&&!e.isClone?null:fe.createElement(A5,e)}function I5(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,o=!!e.shouldRespectForcePress;return fe.createElement(t2,xn({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:o}))}const n2=e=>t=>e===t,M5=n2("scroll"),L5=n2("auto"),Jh=(e,t)=>t(e.overflowX)||t(e.overflowY),R5=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Jh(n,M5)||Jh(n,L5)},F5=()=>!1,r2=e=>e==null?null:e===document.body?F5()?e:null:e===document.documentElement?null:R5(e)?e:r2(e.parentElement);var lc=e=>({x:e.scrollLeft,y:e.scrollTop});const i2=e=>e?window.getComputedStyle(e).position==="fixed"?!0:i2(e.parentElement):!1;var j5=e=>{const t=r2(e),n=i2(e);return{closestScrollable:t,isFixedOnPage:n}},B5=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:o,direction:h,client:g,page:y,closest:c})=>{const r=(()=>{if(!c)return null;const{scrollSize:s,client:a}=c,f=Rg({scrollHeight:s.scrollHeight,scrollWidth:s.scrollWidth,height:a.paddingBox.height,width:a.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:a,scrollSize:s,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:f,diff:{value:We,displacement:We}}}})(),l=h==="vertical"?wu:pg,d=Dr({page:y,withPlaceholder:null,axis:l,frame:r});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:o,axis:l,isEnabled:t,client:g,page:y,frame:r,subject:d}};const N5=(e,t)=>{const n=og(e);if(!t||e!==t)return n;const o=n.paddingBox.top-t.scrollTop,h=n.paddingBox.left-t.scrollLeft,g=o+t.scrollHeight,y=h+t.scrollWidth,r=vu({top:o,right:y,bottom:g,left:h},n.border);return yu({borderBox:r,margin:n.margin,border:n.border,padding:n.padding})};var H5=({ref:e,descriptor:t,env:n,windowScroll:o,direction:h,isDropDisabled:g,isCombineEnabled:y,shouldClipSubject:c})=>{const r=n.closestScrollable,l=N5(e,r),d=ps(l,o),i=(()=>{if(!r)return null;const a=og(r),f={scrollHeight:r.scrollHeight,scrollWidth:r.scrollWidth};return{client:a,page:ps(a,o),scroll:lc(r),scrollSize:f,shouldClipSubject:c}})();return B5({descriptor:t,isEnabled:!g,isCombineEnabled:y,isFixedOnPage:n.isFixedOnPage,direction:h,client:l,page:d,closest:i})};const V5={passive:!1},z5={passive:!0};var ed=e=>e.shouldPublishImmediately?V5:z5;const To=e=>e&&e.env.closestScrollable||null;function W5(e){const t=$.useRef(null),n=Cs(fa),o=Lu("droppable"),{registry:h,marshal:g}=n,y=Gg(e),c=ge(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),r=$.useRef(c),l=ge(()=>ze((_,w)=>{t.current||oe(!1);const x={x:_,y:w};g.updateDroppableScroll(c.id,x)}),[c.id,g]),d=ce(()=>{const _=t.current;return!_||!_.env.closestScrollable?We:lc(_.env.closestScrollable)},[]),i=ce(()=>{const _=d();l(_.x,_.y)},[d,l]),s=ge(()=>Hi(i),[i]),a=ce(()=>{const _=t.current,w=To(_);if(_&&w||oe(!1),_.scrollOptions.shouldPublishImmediately){i();return}s()},[s,i]),f=ce((_,w)=>{t.current&&oe(!1);const x=y.current,T=x.getDroppableRef();T||oe(!1);const S=j5(T),A={ref:T,descriptor:c,env:S,scrollOptions:w};t.current=A;const I=H5({ref:T,descriptor:c,env:S,windowScroll:_,direction:x.direction,isDropDisabled:x.isDropDisabled,isCombineEnabled:x.isCombineEnabled,shouldClipSubject:!x.ignoreContainerClipping}),R=S.closestScrollable;return R&&(R.setAttribute(Yh.contextId,n.contextId),R.addEventListener("scroll",a,ed(A.scrollOptions))),I},[n.contextId,c,a,y]),p=ce(()=>{const _=t.current,w=To(_);return _&&w||oe(!1),lc(w)},[]),u=ce(()=>{const _=t.current;_||oe(!1);const w=To(_);t.current=null,w&&(s.cancel(),w.removeAttribute(Yh.contextId),w.removeEventListener("scroll",a,ed(_.scrollOptions)))},[a,s]),m=ce(_=>{const w=t.current;w||oe(!1);const x=To(w);x||oe(!1),x.scrollTop+=_.y,x.scrollLeft+=_.x},[]),v=ge(()=>({getDimensionAndWatchScroll:f,getScrollWhileDragging:p,dragStopped:u,scroll:m}),[u,f,p,m]),C=ge(()=>({uniqueId:o,descriptor:c,callbacks:v}),[v,c,o]);Ct(()=>(r.current=C.descriptor,h.droppable.register(C),()=>{t.current&&u(),h.droppable.unregister(C)}),[v,c,u,C,g,h.droppable]),Ct(()=>{t.current&&g.updateDroppableIsEnabled(r.current.id,!e.isDropDisabled)},[e.isDropDisabled,g]),Ct(()=>{t.current&&g.updateDroppableIsCombineEnabled(r.current.id,e.isCombineEnabled)},[e.isCombineEnabled,g])}function rl(){}const td={width:0,height:0,margin:Lw},U5=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?td:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},G5=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const o=U5({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?yi.placeholder:null}},$5=e=>{const t=$.useRef(null),n=ce(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:o,onTransitionEnd:h,onClose:g,contextId:y}=e,[c,r]=$.useState(e.animate==="open");$.useEffect(()=>c?o!=="open"?(n(),r(!1),rl):t.current?rl:(t.current=setTimeout(()=>{t.current=null,r(!1)}),n):rl,[o,c,n]);const l=ce(i=>{i.propertyName==="height"&&(h(),o==="close"&&g())},[o,g,h]),d=G5({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return fe.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":y,onTransitionEnd:l,ref:e.innerRef})};var X5=fe.memo($5);class Y5 extends fe.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const q5=e=>{const t=$.useContext(fa);t||oe(!1);const{contextId:n,isMovementAllowed:o}=t,h=$.useRef(null),g=$.useRef(null),{children:y,droppableId:c,type:r,mode:l,direction:d,ignoreContainerClipping:i,isDropDisabled:s,isCombineEnabled:a,snapshot:f,useClone:p,updateViewportMaxScroll:u,getContainerForClone:m}=e,v=ce(()=>h.current,[]),C=ce((R=null)=>{h.current=R},[]);ce(()=>g.current,[]);const _=ce((R=null)=>{g.current=R},[]),w=ce(()=>{o()&&u({maxScroll:jg()})},[o,u]);W5({droppableId:c,type:r,mode:l,direction:d,isDropDisabled:s,isCombineEnabled:a,ignoreContainerClipping:i,getDroppableRef:v});const x=ge(()=>fe.createElement(Y5,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:R,data:B,animate:V})=>fe.createElement(X5,{placeholder:B,onClose:R,innerRef:_,animate:V,contextId:n,onTransitionEnd:w})),[n,w,e.placeholder,e.shouldAnimatePlaceholder,_]),T=ge(()=>({innerRef:C,placeholder:x,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}}),[n,c,x,C]),S=p?p.dragging.draggableId:null,A=ge(()=>({droppableId:c,type:r,isUsingCloneFor:S}),[c,S,r]);function I(){if(!p)return null;const{dragging:R,render:B}=p,V=fe.createElement(t2,{draggableId:R.draggableId,index:R.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(H,U)=>B(H,U,R));return Fv.createPortal(V,m())}return fe.createElement(Fu.Provider,{value:A},y(T,f),I())};var K5=q5;function Z5(){return document.body||oe(!1),document.body}const nd={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Z5},o2=e=>{let t={...e},n;for(n in nd)e[n]===void 0&&(t={...t,[n]:nd[n]});return t},il=(e,t)=>e===t.droppable.type,rd=(e,t)=>t.draggables[e.draggable.id],Q5=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=ze(g=>({draggableId:g.id,type:g.type,source:{index:g.index,droppableId:g.droppableId}})),o=ze((g,y,c,r,l,d)=>{const i=l.descriptor.id;if(l.descriptor.droppableId===g){const f=d?{render:d,dragging:n(l.descriptor)}:null,p={isDraggingOver:c,draggingOverWith:c?i:null,draggingFromThisWith:i,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!1,snapshot:p,useClone:f}}if(!y)return t;if(!r)return e;const a={isDraggingOver:c,draggingOverWith:i,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!0,snapshot:a,useClone:null}});return(g,y)=>{const c=o2(y),r=c.droppableId,l=c.type,d=!c.isDropDisabled,i=c.renderClone;if($i(g)){const s=g.critical;if(!il(l,s))return t;const a=rd(s,g.dimensions),f=yt(g.impact)===r;return o(r,d,f,f,a,i)}if(g.phase==="DROP_ANIMATING"){const s=g.completed;if(!il(l,s.critical))return t;const a=rd(s.critical,g.dimensions);return o(r,d,Jg(s.result)===r,yt(s.impact)===r,a,i)}if(g.phase==="IDLE"&&g.completed&&!g.shouldFlush){const s=g.completed;if(!il(l,s.critical))return t;const a=yt(s.impact)===r,f=!!(s.impact.at&&s.impact.at.type==="COMBINE"),p=s.critical.droppable.id===r;return a?f?e:t:p?e:t}return t}},J5={updateViewportMaxScroll:Xx},e6=ng(Q5,J5,(e,t,n)=>({...o2(n),...e,...t}),{context:Mu,areStatePropsEqual:Qg})(K5);var t6=e6;const n6="_layers_gzdsg_1",r6="_draggable_gzdsg_6",i6="_draggableContent_gzdsg_14",o6="_canvasLayer_gzdsg_22",s6="_icon_gzdsg_25",an={layers:n6,draggable:r6,draggableContent:i6,canvasLayer:o6,icon:s6},s2=e=>e instanceof De.fabric.Path||e instanceof De.fabric.Rect||e instanceof De.fabric.Circle,a6=({object:e})=>{const t=n=>{const o={};return Object.setPrototypeOf(o,n),o.left=0,o.top=0,o.scaleY=1,o.scaleX=1,o.angle=0,o.height&&o.width&&o.width>250&&(console.log(o.width),o.height=o.height/(o.width/250),o.width=250),o};if(s2(e))return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"62",height:"62",viewBox:"0 0 62 62",fill:"none",dangerouslySetInnerHTML:{__html:t(e).toSVG()}});if(e instanceof De.fabric.Image)return M.jsx("img",{style:{overflow:"hidden"},src:t(e).toDataURL({}),alt:""})},l6=({object:e})=>s2(e)||e instanceof De.fabric.Image?M.jsx(a6,{object:e}):e instanceof De.fabric.IText?M.jsx("div",{className:"h-[3.18rem] flex items-center overflow-hidden bg-[#f2f4f7] w-full px-2 rounded",style:{fontFamily:e.fontFamily,color:e.fill,opacity:e.opacity},children:e.text}):M.jsx(M.Fragment,{}),a2=["rect","circle","group","path"],c6="data:image/svg+xml,%3csvg%20width='12'%20height='18'%20viewBox='0%200%2012%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.25%2018C1.63125%2018%201.10156%2017.7797%200.660938%2017.3391C0.220313%2016.8984%200%2016.3687%200%2015.75C0%2015.1313%200.220313%2014.6016%200.660938%2014.1609C1.10156%2013.7203%201.63125%2013.5%202.25%2013.5C2.86875%2013.5%203.39844%2013.7203%203.83906%2014.1609C4.27969%2014.6016%204.5%2015.1313%204.5%2015.75C4.5%2016.3687%204.27969%2016.8984%203.83906%2017.3391C3.39844%2017.7797%202.86875%2018%202.25%2018ZM9%2018C8.38125%2018%207.85156%2017.7797%207.41094%2017.3391C6.97031%2016.8984%206.75%2016.3687%206.75%2015.75C6.75%2015.1313%206.97031%2014.6016%207.41094%2014.1609C7.85156%2013.7203%208.38125%2013.5%209%2013.5C9.61875%2013.5%2010.1484%2013.7203%2010.5891%2014.1609C11.0297%2014.6016%2011.25%2015.1313%2011.25%2015.75C11.25%2016.3687%2011.0297%2016.8984%2010.5891%2017.3391C10.1484%2017.7797%209.61875%2018%209%2018ZM2.25%2011.25C1.63125%2011.25%201.10156%2011.0297%200.660938%2010.5891C0.220313%2010.1484%200%209.61875%200%209C0%208.38125%200.220313%207.85156%200.660938%207.41094C1.10156%206.97031%201.63125%206.75%202.25%206.75C2.86875%206.75%203.39844%206.97031%203.83906%207.41094C4.27969%207.85156%204.5%208.38125%204.5%209C4.5%209.61875%204.27969%2010.1484%203.83906%2010.5891C3.39844%2011.0297%202.86875%2011.25%202.25%2011.25ZM9%2011.25C8.38125%2011.25%207.85156%2011.0297%207.41094%2010.5891C6.97031%2010.1484%206.75%209.61875%206.75%209C6.75%208.38125%206.97031%207.85156%207.41094%207.41094C7.85156%206.97031%208.38125%206.75%209%206.75C9.61875%206.75%2010.1484%206.97031%2010.5891%207.41094C11.0297%207.85156%2011.25%208.38125%2011.25%209C11.25%209.61875%2011.0297%2010.1484%2010.5891%2010.5891C10.1484%2011.0297%209.61875%2011.25%209%2011.25ZM2.25%204.5C1.63125%204.5%201.10156%204.27969%200.660938%203.83906C0.220313%203.39844%200%202.86875%200%202.25C0%201.63125%200.220313%201.10156%200.660938%200.660938C1.10156%200.220313%201.63125%200%202.25%200C2.86875%200%203.39844%200.220313%203.83906%200.660938C4.27969%201.10156%204.5%201.63125%204.5%202.25C4.5%202.86875%204.27969%203.39844%203.83906%203.83906C3.39844%204.27969%202.86875%204.5%202.25%204.5ZM9%204.5C8.38125%204.5%207.85156%204.27969%207.41094%203.83906C6.97031%203.39844%206.75%202.86875%206.75%202.25C6.75%201.63125%206.97031%201.10156%207.41094%200.660938C7.85156%200.220313%208.38125%200%209%200C9.61875%200%2010.1484%200.220313%2010.5891%200.660938C11.0297%201.10156%2011.25%201.63125%2011.25%202.25C11.25%202.86875%2011.0297%203.39844%2010.5891%203.83906C10.1484%204.27969%209.61875%204.5%209%204.5Z'%20fill='%23667085'/%3e%3c/svg%3e",u6=()=>{const e=Ie();if(!e.current)return M.jsx(M.Fragment,{});const t="after:render",{_objects:n,backgroundColor:o}=tt(e.current,t,["_objects","backgroundColor"]),[,h]=He(Jn),g=c=>{var d,i;if(!c.destination)return;const r=Array.from(n),[l]=r.splice(n.length-c.source.index-1,1);r.splice(n.length-c.destination.index-1,0,l),e.current._objects=r,(d=e==null?void 0:e.current)==null||d.fire(t),(i=e==null?void 0:e.current)==null||i.renderAll()},y=c=>{var r,l;(r=e.current)==null||r.setActiveObject(c),(l=e.current)==null||l.renderAll(),c.type&&(c.type==="i-text"?h("text"):a2.includes(c.type)&&h("elements"))};return M.jsxs("div",{className:an.layers,children:[M.jsx("p",{children:"Drag to change position"}),M.jsx(f5,{onDragEnd:g,children:M.jsx(t6,{droppableId:"layersDroppable",children:c=>M.jsxs("ul",{className:an.layers,id:"layer-list-element",...c.droppableProps,ref:c.innerRef,children:[n.toReversed().map((r,l)=>M.jsx(I5,{draggableId:String(r.name),index:l,children:d=>M.jsx("li",{className:an.draggable,style:{padding:"2rem",display:"inline-block"},id:"layer-list-element",onClick:()=>y(n[n.length-l-1]),ref:d.innerRef,...d.draggableProps,...d.dragHandleProps,children:M.jsxs("div",{className:an.draggableContent,children:[M.jsx("img",{src:c6,alt:"",className:an.icon}),M.jsx(l6,{object:r})]})})},r.name)),c.placeholder]})},"droppable")}),M.jsx("div",{title:"Sfondo",className:an.draggable,id:"canva-layer",children:M.jsx("li",{className:[an.draggableContent,an.canvasLayer].join(" "),style:{backgroundColor:o}})})]})},f6="_container_5ug6p_1",h6="_group_5ug6p_7",id={container:f6,group:h6},d6=async(e,t)=>new Promise((n,o)=>{try{De.fabric.Image.fromURL(e,h=>{if(!h.width||!h.height||!(t!=null&&t.width)||!(t!=null&&t.height)){n(h);return}const g=h.width>(t==null?void 0:t.width),y=h.height>(t==null?void 0:t.height);h.width>=h.height?g&&h.scaleToWidth(t.width):y&&h.scaleToHeight(t.height),n(h)})}catch{o("An error occured creating the image")}}),p6=(e,t)=>{e.set("name",su()),e.set("opacity",1),t.add(e),t.setActiveObject(e)},g6=({logos:e})=>{const t=Ie();if(!t.current)return M.jsx(M.Fragment,{});const n=$.useRef(null),[,o]=He(Jn),h=()=>{n.current&&n.current.click()},g=c=>{if(!c.target.files)return;const r=c.target.files[0];if(r.size>5e6)return new Error("It was not possibe to upload this image because it weights more than 5 MB");const l=new FileReader;l.onload=function(d){var s;if(typeof((s=d==null?void 0:d.target)==null?void 0:s.result)!="string")throw new Error("An error occured loading the file");const i=new Image;y(d.target.result),i.src=d.target.result},l.readAsDataURL(r)},y=async c=>{if(!t.current)return;const r=await d6(c,{height:t.current.getHeight(),width:t.current.getWidth()});p6(r,t.current),o("images")};return M.jsx("div",{className:id.container,children:M.jsxs("div",{className:id.group,children:[M.jsx("p",{children:"Upload an image"}),M.jsx(_r,{icon:Mp,title:"Add",color:"blue",onClick:h}),M.jsx("input",{type:"file",onChange:g,ref:n,style:{display:"none"}})]})})},m6=()=>{const e=Ie();if(!e.current)return M.jsx(M.Fragment,{});const{backgroundColor:t}=tt(e.current,"after:render",["backgroundColor"]),n=h=>{var g;(g=e.current)==null||g.setBackgroundColor(h,()=>{var y;return(y=e.current)==null?void 0:y.requestRenderAll()})},o=t||"#fff";return M.jsx(Bp,{title:"Pick a color for the background",color:o,handleColorChange:n})},v6=e=>{const[t]=He(us);let n;if(od[t]!==void 0)n=od[t];else return M.jsx(M.Fragment,{});return(t==="uploads"||t==="images")&&(n.defaultProps=e),M.jsx("div",{className:fC.sideMenus,children:M.jsx(n,{})})},od={text:()=>M.jsx(cC,{}),elements:()=>M.jsx(kC,{}),images:g6,layers:()=>M.jsx(u6,{}),"element-color":()=>M.jsx(o_,{}),"border-color":()=>M.jsx(s_,{}),"text-color":()=>M.jsx(i_,{}),"canvas-color":()=>M.jsx(m6,{})},y6="_container_70b8h_1",C6="_group_70b8h_9",sd={container:y6,group:C6};let ni;const _6=$.forwardRef((e,t)=>{const n=Ie(),[o,h]=$.useState(1);$.useImperativeHandle(t,function(){return{setInitialSize({height:c,width:r}){var l;h(1),(l=n.current)==null||l.setZoom(1),ni={height:c,width:r}}}});const g=c=>{n.current&&(ni||(ni={height:n.current.getHeight(),width:n.current.getWidth()}),y(c,n.current))},y=(c,r)=>{r.setZoom(c),r.setHeight(ni.height*c),r.setWidth(ni.width*c),r.renderAll(),h(c)};return M.jsx("div",{className:sd.container,children:M.jsxs("div",{className:sd.group,children:[M.jsx(Ap,{onChange:g,maxValue:5,minValue:.1,step:.01,title:"size",value:o}),M.jsx("span",{children:`${Math.round(o*100)}%`})]})})});De.fabric.Object.prototype.transparentCorners=!1;De.fabric.Object.prototype.cornerColor="#0072FF";De.fabric.Object.prototype.cornerStyle="circle";De.fabric.Object.NUM_FRACTION_DIGITS=8;const w6=$.forwardRef(({onSave:e,onExit:t,logos:n},o)=>{const h=Ie(),[,g]=He(ru),[,y]=He(Jn),c=p=>{g(p),y(p)},[,r]=He(v1),[,l]=He(y1),d=$.useRef(null);$.useImperativeHandle(o,()=>({loadFromJSON(p){if(!h.current)throw Error("You must wait for canvas to be initalized");const{current:u}=h;u.loadFromJSON(p,()=>{var v;h.current.renderAll.bind(u),u.setWidth(p.width),u.setHeight(p.height),(v=d.current)==null||v.setInitialSize({height:p.height,width:p.width});const m=p.objects.reduce((C,_)=>("type"in _&&"src"in _&&typeof _.src=="string"&&_.type==="image"&&C.push(_.src),C),[]);l(m)})},isCanvasInitialized(){return!!h.current}})),$.useEffect(()=>{if(h.current)return h.current.on("mouse:down",i),h.current.on("selection:cleared",s),h.current.on("selection:created",a),h.current.on("selection:updated",a),h.current.on("object:modified",a),()=>{var p;(p=h.current)==null||p.dispose()}},[]),$.useEffect(()=>(window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)),[]);function i(p){var m;if(!p.target||!((m=p.target)!=null&&m.type)){g(""),y("canvas");return}const{type:u}=p.target;u==="i-text"?c("text"):a2.includes(u)?c("elements"):u==="image"&&c("images")}function s(){r(null),y("")}function a(){r(null)}function f(p){if(h.current){if(p.ctrlKey&&p.key==="z"&&p.altKey||p.ctrlKey&&p.key==="y")p.preventDefault(),h.current.redo();else if(p.ctrlKey&&p.key==="z"&&h.current.historyUndo.length>0)p.preventDefault(),h.current.undo();else if(p.key==="Backspace"||p.key==="Delete"){const u=h.current.getActiveObject();if(u.type==="i-text"&&u.isEditing)return;p.preventDefault(),h.current.remove(u)}}}return M.jsx(h1,{ActionsBarChildren:M.jsx(Ay,{onExit:t,onSave:e}),Sidebar:M.jsx(zy,{}),SidemenuChildren:M.jsx(v6,{logos:n}),ToolsBarChildren:M.jsx(N3,{}),children:M.jsxs("div",{style:{height:"100%"},children:[M.jsx(oy,{}),M.jsx(_6,{ref:d})]})})}),x6=$.forwardRef((e,t)=>{const n=$.useRef(null);return M.jsx(wp.Provider,{value:n,children:M.jsx(w6,{ref:t,...e})})});function S6(){return M.jsxs(M.Fragment,{children:[M.jsx(x6,{onExit:()=>null,onSave:e=>{const t=e.toDataURL({format:"jpg",quality:1}),n=document.getElementById("download-button");n==null||n.setAttribute("href",t),n==null||n.click()}}),M.jsx("a",{style:{display:"none"},id:"download-button",download:"canvas.png"})]})}ol.createRoot(document.getElementById("root")).render(M.jsx(fe.StrictMode,{children:M.jsx(S6,{})}));
